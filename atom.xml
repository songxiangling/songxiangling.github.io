<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Sitoi</title>
  
  
  <link href="https://sitoi.cn/atom.xml" rel="self"/>
  
  <link href="https://sitoi.cn/"/>
  <updated>2021-09-02T01:06:14.136Z</updated>
  <id>https://sitoi.cn/</id>
  
  <author>
    <name>Sitoi</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åŸºäºã€è…¾è®¯äº‘å‡½æ•°ã€‘/ã€Dockerã€‘çš„æ¯æ—¥ç­¾åˆ°è„šæœ¬</title>
    <link href="https://sitoi.cn/posts/18115.html"/>
    <id>https://sitoi.cn/posts/18115.html</id>
    <published>2021-03-03T08:48:50.000Z</published>
    <updated>2021-09-02T01:06:14.136Z</updated>
    
    <content type="html"><![CDATA[<p align="center">    <img src="https://socialify.git.ci/Sitoi/dailycheckin/image?description=1&font=Rokkitt&forks=1&issues=1&language=1&owner=1&pattern=Circuit%20Board&pulls=1&stargazers=1&theme=Dark"/>    <br><strong><font size=50>æ¯æ—¥ç­¾åˆ°é›†åˆ</font></strong>    <br>åŸºäºã€è…¾è®¯äº‘å‡½æ•°ã€‘/ã€Dockerã€‘çš„æ¯æ—¥ç­¾åˆ°è„šæœ¬    <br>æ”¯æŒå¤šè´¦å·ä½¿ç”¨</p><p align="center">    <a href="https://sitoi.github.io/dailycheckin"><img src="https://visitor-badge.glitch.me/badge?page_id=Sitoi-dailycheckin"></a></p><h2 id="ç‰¹åˆ«å£°æ˜"><a href="#ç‰¹åˆ«å£°æ˜" class="headerlink" title="ç‰¹åˆ«å£°æ˜"></a>ç‰¹åˆ«å£°æ˜</h2><ul><li><p>æœ¬ä»“åº“å‘å¸ƒçš„è„šæœ¬åŠå…¶ä¸­æ¶‰åŠçš„ä»»ä½•è§£é”å’Œè§£å¯†åˆ†æè„šæœ¬ï¼Œä»…ç”¨äºæµ‹è¯•å’Œå­¦ä¹ ç ”ç©¶ï¼Œç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”ï¼Œä¸èƒ½ä¿è¯å…¶åˆæ³•æ€§ï¼Œå‡†ç¡®æ€§ï¼Œå®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼Œè¯·æ ¹æ®æƒ…å†µè‡ªè¡Œåˆ¤æ–­ã€‚</p></li><li><p>æœ¬é¡¹ç›®å†…æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œç¦æ­¢ä»»ä½•å…¬ä¼—å·ã€è‡ªåª’ä½“è¿›è¡Œä»»ä½•å½¢å¼çš„è½¬è½½ã€å‘å¸ƒã€‚</p></li><li><p>æœ¬äººå¯¹ä»»ä½•è„šæœ¬é—®é¢˜æ¦‚ä¸è´Ÿè´£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç”±ä»»ä½•è„šæœ¬é”™è¯¯å¯¼è‡´çš„ä»»ä½•æŸå¤±æˆ–æŸå®³ã€‚</p></li><li><p>é—´æ¥ä½¿ç”¨è„šæœ¬çš„ä»»ä½•ç”¨æˆ·ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå»ºç«‹VPSæˆ–åœ¨æŸäº›è¡Œä¸ºè¿åå›½å®¶/åœ°åŒºæ³•å¾‹æˆ–ç›¸å…³æ³•è§„çš„æƒ…å†µä¸‹è¿›è¡Œä¼ æ’­, æœ¬äººå¯¹äºç”±æ­¤å¼•èµ·çš„ä»»ä½•éšç§æ³„æ¼æˆ–å…¶ä»–åæœæ¦‚ä¸è´Ÿè´£ã€‚</p></li><li><p>è¯·å‹¿å°†æœ¬ä»“åº“çš„ä»»ä½•å†…å®¹ç”¨äºå•†ä¸šæˆ–éæ³•ç›®çš„ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚</p></li><li><p>å¦‚æœä»»ä½•å•ä½æˆ–ä¸ªäººè®¤ä¸ºè¯¥é¡¹ç›®çš„è„šæœ¬å¯èƒ½æ¶‰å«Œä¾µçŠ¯å…¶æƒåˆ©ï¼Œåˆ™åº”åŠæ—¶é€šçŸ¥å¹¶æä¾›èº«ä»½è¯æ˜ï¼Œæ‰€æœ‰æƒè¯æ˜ï¼Œæˆ‘ä»¬å°†åœ¨æ”¶åˆ°è®¤è¯æ–‡ä»¶ååˆ é™¤ç›¸å…³è„šæœ¬ã€‚</p></li><li><p>ä»»ä½•ä»¥ä»»ä½•æ–¹å¼æŸ¥çœ‹æ­¤é¡¹ç›®çš„äººæˆ–ç›´æ¥æˆ–é—´æ¥ä½¿ç”¨è¯¥é¡¹ç›®çš„ä»»ä½•è„šæœ¬çš„ä½¿ç”¨è€…éƒ½åº”ä»”ç»†é˜…è¯»æ­¤å£°æ˜ã€‚æœ¬äººä¿ç•™éšæ—¶æ›´æ”¹æˆ–è¡¥å……æ­¤å…è´£å£°æ˜çš„æƒåˆ©ã€‚ä¸€æ—¦ä½¿ç”¨å¹¶å¤åˆ¶äº†ä»»ä½•ç›¸å…³è„šæœ¬æˆ–Scripté¡¹ç›®çš„è§„åˆ™ï¼Œåˆ™è§†ä¸ºæ‚¨å·²æ¥å—æ­¤å…è´£å£°æ˜ã€‚</p></li></ul><p><strong>æ‚¨å¿…é¡»åœ¨ä¸‹è½½åçš„24å°æ—¶å†…ä»è®¡ç®—æœºæˆ–æ‰‹æœºä¸­å®Œå…¨åˆ é™¤ä»¥ä¸Šå†…å®¹</strong></p><blockquote><p><em><strong>æ‚¨ä½¿ç”¨æˆ–è€…å¤åˆ¶äº†æœ¬ä»“åº“ä¸”æœ¬äººåˆ¶ä½œçš„ä»»ä½•è„šæœ¬ï¼Œåˆ™è§†ä¸º <code>å·²æ¥å—</code> æ­¤å£°æ˜ï¼Œè¯·ä»”ç»†é˜…è¯»</strong></em></p></blockquote><h2 id="è¯¦ç»†æ–‡æ¡£"><a href="#è¯¦ç»†æ–‡æ¡£" class="headerlink" title="è¯¦ç»†æ–‡æ¡£"></a>è¯¦ç»†æ–‡æ¡£</h2><ul><li>æ–‡æ¡£åœ°å€: <a href="https://sitoi.github.io/dailycheckin/">https://sitoi.github.io/dailycheckin/</a></li><li>å›½å†…åœ°å€: <a href="https://sitoi.gitee.io/dailycheckin/">https://sitoi.gitee.io/dailycheckin/</a></li></ul><h2 id="ç­¾åˆ°åˆ—è¡¨"><a href="#ç­¾åˆ°åˆ—è¡¨" class="headerlink" title="ç­¾åˆ°åˆ—è¡¨"></a>ç­¾åˆ°åˆ—è¡¨</h2><p>ğŸŸ¢: æ­£å¸¸è¿è¡Œ ğŸ”´: è„šæœ¬æš‚ä¸å¯ç”¨ ğŸ”µ: å¯ä»¥æ‰§è¡Œ(éœ€æ›´æ–°) ğŸŸ¡: å¾…æµ‹è¯• ğŸŸ¤: çœ‹è„¸</p><table><thead><tr><th align="center">ç±»åˆ«</th><th align="center">åç§°</th><th align="left">å¤‡æ³¨</th><th align="center">ç»ˆç«¯</th><th align="center">Cookie æ—¶é•¿</th><th align="center">çŠ¶æ€</th></tr></thead><tbody><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.iqiyi.com/">çˆ±å¥‡è‰º</a></td><td align="left">ç­¾7å¤©å¥–1å¤©ï¼Œ14å¤©å¥–2å¤©ï¼Œ28å¤©å¥–7å¤©ï¼›æ—¥å¸¸ä»»åŠ¡4æˆé•¿å€¼ï¼›éšæœºæˆé•¿å€¼ï¼›ä¸‰æ¬¡æŠ½å¥–</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://kg.qq.com/index-pc.html">å…¨æ°‘Kæ­Œ</a></td><td align="left">æ¯æ—¥ç­¾åˆ°è·å–é²œèŠ± æ¯æ—¥å¤§çº¦ 150 é²œèŠ±å·¦å³</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://v.qq.com/">è…¾è®¯è§†é¢‘</a></td><td align="left">æ¯æ—¥ä¸¤æ¬¡è…¾è®¯è§†é¢‘ç­¾åˆ°è·å–æˆé•¿å€¼</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://note.youdao.com/web/">æœ‰é“äº‘ç¬”è®°</a></td><td align="left">æ¯æ—¥ç­¾åˆ°è·å–å­˜å‚¨ç©ºé—´</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://music.163.com/">ç½‘æ˜“äº‘éŸ³ä¹</a></td><td align="left">æ¯æ—¥è‡ªåŠ¨ç™»å½•ç­¾åˆ° + åˆ·æ­Œ 310 é¦–</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¡</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.oneplusbbs.com/">ä¸€åŠ æ‰‹æœºç¤¾åŒºå®˜æ–¹è®ºå›</a></td><td align="left">è®ºå›æ¯æ—¥ç­¾åˆ° + 10 æ¬¡æŠ½å¥–ä»»åŠ¡</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://tieba.baidu.com/index.html">ç™¾åº¦è´´å§</a></td><td align="left">è´´å§æ¯æ—¥ç­¾åˆ°</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.bilibili.com/">Bilibili</a></td><td align="left">ç›´æ’­ç­¾åˆ°ï¼Œæ¼«ç”»ç­¾åˆ°ï¼Œæ¯æ—¥ç»éªŒä»»åŠ¡ï¼Œè‡ªåŠ¨æŠ•å¸ï¼Œé“¶ç“œå­æ¢ç¡¬å¸ç­‰åŠŸèƒ½</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.v2ex.com/">V2EX</a></td><td align="left">é“œå¸å¥–åŠ±</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.2nzz.com/">å’”å½ç½‘å•</a></td><td align="left">è®ºå›é‡‘å¸</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.smzdm.com/">ä»€ä¹ˆå€¼å¾—ä¹°</a></td><td align="left">æ¯æ—¥ç­¾åˆ°</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.acfun.cn/">AcFun</a></td><td align="left">æ¯æ—¥ç­¾åˆ°é¦™è•‰</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¡ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://cloud.189.cn/">å¤©ç¿¼äº‘ç›˜</a></td><td align="left">æ¯æ—¥ç­¾åˆ° +2æ¬¡æŠ½å¥–è·å¾—ç©ºé—´å¥–åŠ±</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.52pojie.cn/index.php">å¾çˆ±ç ´è§£</a></td><td align="left">2æšå¾çˆ±å¸</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¤</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.picacomic.com/">å“”å’”æ¼«ç”»</a></td><td align="left">æˆé•¿å€¼å¥–åŠ±</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¤</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://bbs.meizu.cn/">MEIZU ç¤¾åŒº</a></td><td align="left">æ¯æ—¥ç­¾åˆ°ã€å¯é…ç½®æŠ½å¥–</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="http://zhizhiyoo.net/">æ™ºå‹é‚¦</a></td><td align="left">æ¯æ—¥ç­¾åˆ°è·å–é‡‘å¸</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center"><a href="https://www.csdn.net/">CSDN</a></td><td align="left">æ¯æ—¥ç­¾åˆ°ã€æŠ½å¥–</td><td align="center">WEB</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center">è”é€šæ²ƒé‚®ç®±</td><td align="left">æ¯æ—¥ç­¾åˆ°ï¼Œç­¾åˆ°7å¤©å¾—2å…ƒè¯è´¹</td><td align="center">å…¬ä¼—å·</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center">ç‹è€…è¥åœ°</td><td align="left">æ¯æ—¥ç­¾åˆ°ï¼ˆä»…é™ QQ åŒºï¼‰</td><td align="center">APP</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center">å¾®åš</td><td align="left">æ¯æ—¥é’±åŒ…ç­¾åˆ°ã€æ‰“å¡</td><td align="center">APP</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center">å¤šçœ‹é˜…è¯»</td><td align="left">è·å–ä¹¦è±†ï¼Œç”¨äºè´­ä¹°ä¹¦ç±</td><td align="center">APP</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center">èŠ’æœ TV</td><td align="left">ç­¾åˆ°è·å–ä½“éªŒä¼šå‘˜</td><td align="center">APP</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">ç­¾åˆ°</td><td align="center">Fa ç±³å®¶</td><td align="left">è¿ç»­ç­¾åˆ°7å¤©æ€»è®¡è·å¾—6ç²’Faç±³ç²’ï¼Œæ¯æœˆ15å·23.59åˆ†æ¸…ç©ºFaç±³ç²’ã€‚ç†è®ºä¸€ä¸ªæœˆæœ€å°‘è·å¾—24ç²’faç±³ç²’ã€‚</td><td align="center">APP</td><td align="center">å¾…æµ‹è¯•</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">å…¶ä»–</td><td align="center">å°ç±³è¿åŠ¨</td><td align="left">æ¯æ—¥å°ç±³è¿åŠ¨åˆ·æ­¥æ•°</td><td align="center">APP</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¡</td></tr><tr><td align="center">å…¶ä»–</td><td align="center"><a href="https://ziyuan.baidu.com/site/index#/">ç™¾åº¦æœç´¢èµ„æºå¹³å°</a></td><td align="left">æäº¤ç½‘ç«™é¡µé¢ä¾›ç™¾åº¦æ”¶å½•</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">å…¶ä»–</td><td align="center">æ¯æ—¥å¤©æ°”é¢„æŠ¥</td><td align="left">è·å–æŒ‡å®šçš„å¤šä¸ªåŸå¸‚å¤©æ°”ä¿¡æ¯</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¢ï¸</td></tr><tr><td align="center">å…¶ä»–</td><td align="center">æ¯æ—¥ä¸€å¥</td><td align="left">ä»è¯éœ¸ä¸­è·å–æ¯æ—¥ä¸€å¥ï¼Œå¸¦è‹±æ–‡</td><td align="center">WEB</td><td align="center">æ°¸ä¹…</td><td align="center">ğŸŸ¢ï¸</td></tr></tbody></table><h2 id="æ”¯æŒçš„é€šçŸ¥åˆ—è¡¨"><a href="#æ”¯æŒçš„é€šçŸ¥åˆ—è¡¨" class="headerlink" title="æ”¯æŒçš„é€šçŸ¥åˆ—è¡¨"></a>æ”¯æŒçš„é€šçŸ¥åˆ—è¡¨</h2><ul><li>dingtalkï¼ˆé’‰é’‰ï¼‰</li><li>ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººï¼ˆä¼ä¸šå¾®ä¿¡ï¼‰</li><li>ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ï¼ˆä¼ä¸šå¾®ä¿¡ï¼‰</li><li>telegramï¼ˆTGï¼‰</li><li>Barkï¼ˆiOSï¼‰</li><li>server é…±ï¼ˆå¾®ä¿¡ï¼‰</li><li>server é…± TURBOï¼ˆå¾®ä¿¡ï¼‰</li><li>pushplusï¼ˆå¾®ä¿¡ï¼‰</li><li>Cool Pushï¼ˆQQ,å¾®ä¿¡,é‚®ç®±ï¼‰</li><li>qmsg é…±ï¼ˆQQï¼‰</li><li>é£ä¹¦</li></ul><h2 id="ç‰¹åˆ«é¸£è°¢"><a href="#ç‰¹åˆ«é¸£è°¢" class="headerlink" title="ç‰¹åˆ«é¸£è°¢"></a>ç‰¹åˆ«é¸£è°¢</h2><ul><li><a href="https://github.com/Wenmoux/checkbox">@Wenmoux</a> - ç­¾åˆ°ç›’</li><li><a href="https://github.com/chavyleung/scripts">@chavyleung</a> - Chavy Scripts</li></ul><h2 id="äº¤æµç¾¤"><a href="#äº¤æµç¾¤" class="headerlink" title="äº¤æµç¾¤"></a>äº¤æµç¾¤</h2><table> <tr>  <td> <p align="center">TG ç¾¤</p> <a href="https://t.me/dailycheckin"> <img width="200" height="280" src="https://cdn.jsdelivr.net/gh/Sitoi/dailycheckin/docs/img/Telegram.jpg"></a> <p align="center">æ‰«ç è¿› TG ç¾¤</p> </td>  <td> <p align="center">QQ ç¾¤</p> <img width="200" height="280" src="https://cdn.jsdelivr.net/gh/Sitoi/dailycheckin/docs/img/qq.jpg" /> <p align="center">æ‰«ç è¿› QQ ç¾¤</p> </td> <td> <p align="center">å¾®ä¿¡ç¾¤</p> <img width="200" height="280" src="https://cdn.jsdelivr.net/gh/Sitoi/dailycheckin/docs/img/wechat_groups.jpg" /> <p align="center">æ‰«ç è¿›å¾®ä¿¡ç¾¤</p> </td>  <td> <p align="center">å¾®ä¿¡</p> <img width="200" height="280" src="https://cdn.jsdelivr.net/gh/Sitoi/dailycheckin/docs/img/wechat.jpg" /> <p align="center">åŠ å¾®ä¿¡å¤‡æ³¨ï¼šç­¾åˆ°</p> </td> </tr> </table><h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><ul><li>2021-08-18 Pypi-v0.1.4<ul><li>ä¿®å¤ã€å°ç±³è¿åŠ¨ã€‘ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-07-29 Pypi-v0.1.3<ul><li>ä¿®å¤ã€å¤©ç¿¼äº‘ã€‘ç­¾åˆ°è„šæœ¬</li><li>ä¿®å¤ã€AcFunã€‘ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€é£ä¹¦ã€‘æ¨é€åŠŸèƒ½</li></ul></li><li>2021-07-05 Pypi-v0.1.1<ul><li>ä¿®å¤ã€Bilibiliã€‘ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-06-01 Pypi-v0.1.0<ul><li>åˆ é™¤ã€è”é€šã€‘&amp;ã€WPSã€‘ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-05-30 Pypi-v0.0.8<ul><li>æ›´æ–°ã€è”é€šæ²ƒé‚®ç®±ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-04-28<ul><li>æ·»åŠ ã€è”é€šæ²ƒé‚®ç®±ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬ æ„Ÿè°¢æ°´å‹<code>@ä»€ä¹ˆå¤§é£å¤§æµªéƒ½è§è¿‡</code> æä¾›è„šæœ¬</li></ul></li><li>2021-04-07<ul><li>æ·»åŠ ã€ç‹è€…è¥åœ°ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€CSDNã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€AcFunã€‘æ¯æ—¥åˆ†äº«ä»»åŠ¡åŠŸèƒ½</li></ul></li><li>2021-03-30<ul><li>æ·»åŠ ã€å¾®åšã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€å¤šçœ‹é˜…è¯»ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-03-16 æ·»åŠ ã€æ™ºå‹é‚¦ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2021-03-10 æ·»åŠ ã€çˆ±å¥‡è‰ºã€‘10s ä»»åŠ¡</li><li>2021-03-09<ul><li>æ·»åŠ ã€pushplusã€‘æ¨é€åŠŸèƒ½</li><li>æ·»åŠ ã€é…ç½®æ–‡ä»¶ã€‘GitHub Actions ä½¿ç”¨æ•´ä¸ª config.json é…ç½®æ–‡ä»¶</li></ul></li><li>2021-03-06 æ·»åŠ ã€å’Œå½©äº‘ã€‘ç­¾åˆ°å’ŒæŠ½å¥–åŠŸèƒ½</li><li>2021-03-03 æ·»åŠ ã€MEIZU ç¤¾åŒºã€‘ç­¾åˆ°å’ŒæŠ½å¥–åŠŸèƒ½</li><li>2021-03-02<ul><li>æ·»åŠ ã€ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººã€‘æ¨é€åŠŸèƒ½</li><li>æ·»åŠ ã€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ã€‘æ¨é€åŠŸèƒ½</li></ul></li><li>2021-03-01<ul><li>æ·»åŠ ã€å“”å’”æ¼«ç”»ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€èŠ’æœTVã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-02-23<ul><li>æ·»åŠ ã€WPSã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€å¾çˆ±ç ´è§£ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-02-21 æ·»åŠ ã€å…¨æ°‘Kæ­Œã€‘VIP æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2021-02-20 æ·»åŠ ã€serveré…± turbo ç‰ˆã€‘æ¨é€åŠŸèƒ½</li><li>2021-01-27 æ·»åŠ ã€å¤©ç¿¼äº‘ç›˜ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2021-01-22 æ·»åŠ ã€AcFunã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2021-01-19 æ·»åŠ ã€Barkã€‘æ¨é€åŠŸèƒ½</li><li>2021-01-16 æ·»åŠ ã€å°ç±³è¿åŠ¨ã€‘åˆ·æ­¥æ•°åŠŸèƒ½</li><li>2021-01-07<ul><li>æ·»åŠ ã€ä»€ä¹ˆå€¼å¾—ä¹°ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€å’”å½ç½‘å•ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€V2EXã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li></ul></li><li>2021-01-03 æ·»åŠ ã€è”é€šã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2020-12-22 æ·»åŠ ã€Cool Pushã€‘æ¨é€åŠŸèƒ½</li><li>2020-12-21<ul><li>æ·»åŠ ã€bilibiliã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€ç™¾åº¦è´´å§ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li></ul></li><li>2020-12-19 æ·»åŠ ã€Fa ç±³å®¶ Appã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2020-12-10 æ·»åŠ ã€ä¸€åŠ æ‰‹æœºç¤¾åŒºå®˜æ–¹è®ºå›ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>2020-12-07<ul><li>æ·»åŠ ã€æ¯æ—¥å¤©æ°”ã€‘é¢„æŠ¥</li><li>æ·»åŠ ã€æ¯æ—¥ä¸€å¥ã€‘è·å–</li></ul></li><li>2020-12-06<ul><li>æ·»åŠ ã€ç½‘æ˜“äº‘éŸ³ä¹ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€è…¾è®¯è§†é¢‘ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€å¾çˆ±ç ´è§£ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€æœ‰é“äº‘ç¬”è®°ã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€çˆ±å¥‡è‰ºã€‘æ¯æ—¥ç­¾åˆ°è„šæœ¬</li><li>æ·»åŠ ã€ç™¾åº¦ç«™ç‚¹ã€‘æ¯æ—¥æäº¤è„šæœ¬</li></ul></li></ul><h2 id="å†å²-Star-æ•°"><a href="#å†å²-Star-æ•°" class="headerlink" title="å†å² Star æ•°"></a>å†å² Star æ•°</h2><p align="center">    <a href="https://starchart.cc/Sitoi/dailycheckin"><img src="https://starchart.cc/Sitoi/dailycheckin.svg" alt="starchart"></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://socialify.git.ci/Sitoi/dailycheckin/image?description=1&amp;font=Rokkitt&amp;forks=1&amp;issues=1&amp;language=1&amp;ow</summary>
      
    
    
    
    <category term="GitHub" scheme="https://sitoi.cn/categories/GitHub/"/>
    
    
    <category term="Python" scheme="https://sitoi.cn/tags/Python/"/>
    
    <category term="ç­¾åˆ°" scheme="https://sitoi.cn/tags/%E7%AD%BE%E5%88%B0/"/>
    
    <category term="è„šæœ¬" scheme="https://sitoi.cn/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Mac &amp; Windows è½¯ä»¶æ¨è</title>
    <link href="https://sitoi.cn/posts/13953.html"/>
    <id>https://sitoi.cn/posts/13953.html</id>
    <published>2020-11-13T04:24:51.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸ºäº†è®°å½•è‡ªå·±ä½¿ç”¨çš„è½¯ä»¶ï¼Œå› ä¸ºå…¬å¸ç”¨çš„æ˜¯ Windows å®¶é‡Œç”¨çš„æ˜¯ Mac æ‰€ä»¥åŸºæœ¬ä¸Š ä¸¤ä¸ªå¹³å°çš„è½¯ä»¶éƒ½ä¼šæŒ‘é€‰é€‚åˆè‡ªå·±çš„è½¯ä»¶ã€‚</p><blockquote><p>å…³äºé“¾æ¥ä»€ä¹ˆçš„æœ‰ç©ºå†è¡¥ä¸Šå§ï¼</p></blockquote><h2 id="è½¯ä»¶åˆ—è¡¨"><a href="#è½¯ä»¶åˆ—è¡¨" class="headerlink" title="è½¯ä»¶åˆ—è¡¨"></a>è½¯ä»¶åˆ—è¡¨</h2><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">Windows</button></li><li class="tab"><button type="button" data-href="#test4-2">Mac</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/software/Windows.png" alt="Windows"></p><p><strong>ç»ˆç«¯</strong></p><ul><li>Windows Terminal</li><li>Git Bash</li></ul><p><strong>å›¾åºŠ</strong></p><ul><li>PicGo</li></ul><p><strong>ä¸‹è½½å·¥å…·</strong></p><ul><li>è¿…é›·</li><li>IDM</li></ul><p><strong>è§£å‹ç¼©</strong></p><ul><li>360 Zip å›½é™…ç‰ˆ</li></ul><p><strong>æ¡Œé¢æ•´ç†</strong></p><ul><li>è…¾è®¯æ¡Œé¢æ•´ç†</li></ul><p><strong>ç½‘ç›˜</strong></p><ul><li>ç™¾åº¦ç½‘ç›˜</li><li>Nextcloud</li></ul><p><strong>å½•å±è½¯ä»¶</strong></p><ul><li>ScreenToGif</li></ul><p><strong>æˆªå›¾å·¥å…·</strong></p><ul><li>Snipaste</li></ul><p><strong>è¿œç¨‹è¿æ¥</strong></p><ul><li>è¿œç¨‹æ¡Œé¢<ul><li>å‘æ—¥è‘µ</li><li>Microsoft Remote Desktops Beta</li></ul></li><li>è¿œç¨‹è¿æ¥<ul><li>Termius</li><li>Xshell</li><li>Xftp</li></ul></li></ul><p><strong>æ€ç»´å¯¼å›¾</strong></p><ul><li>XMind ZEN</li></ul><p><strong>åŠå…¬è½¯ä»¶</strong></p><ul><li>Office å¥—ä»¶<ul><li>Microsoft Word</li><li>Microsoft Excel</li><li>Microsoft PowerPoint</li></ul></li></ul><p><strong>ç¬”è®°è½¯ä»¶</strong></p><ul><li>å¹•å¸ƒ</li><li>Typora</li><li>Notion</li></ul><p><strong>ç§‘å­¦ä¸Šç½‘</strong></p><ul><li>Clash</li><li>OpenVPN</li></ul><p><strong>éŸ³ä¹æ’­æ”¾å™¨</strong></p><ul><li>QQ éŸ³ä¹</li></ul><p><strong>è§†é¢‘æ’­æ”¾å™¨</strong></p><ul><li>åœ¨çº¿<ul><li>è…¾è®¯è§†é¢‘</li><li>çˆ±å¥‡è‰º</li><li>ä¼˜é…·</li></ul></li><li>ç¦»çº¿<ul><li>PorPlayer</li></ul></li></ul><p><strong>ç¤¾äº¤è½¯ä»¶</strong></p><ul><li>QQ</li><li>å¾®ä¿¡</li><li>é’‰é’‰</li><li>Telegram</li></ul><p><strong>å¼€å‘å·¥å…·</strong></p><ul><li>Visual Studio Code</li><li>JetBrain Tools<ul><li>PyCharm</li><li>WebStorm</li></ul></li><li>Postman</li><li>æ•°æ®åº“å¯è§†åŒ–<ul><li>RDM</li><li>Navicat Premium</li></ul></li><li>æŠ“åŒ…<ul><li>Fiddler Everywhere</li><li>mitmproxy</li><li>Charles</li></ul></li></ul><p><strong>è¾“å…¥æ³•</strong></p><ul><li>QQæ‹¼éŸ³è¾“å…¥æ³•</li></ul><p><strong>è™šæ‹Ÿæœº/æ¨¡æ‹Ÿå™¨</strong></p><ul><li>VMvare Workstation</li><li>å¤œç¥æ¨¡æ‹Ÿå™¨</li><li>Docker</li></ul><p><strong>å·¥å…·é›†</strong></p><ul><li>PowerToys</li><li>QuickLook</li></ul><p><strong>æµè§ˆå™¨</strong></p><ul><li>Google Chrome</li><li>Microsoft Edge</li></ul><p><strong>é‚®ç®±</strong></p><ul><li>ç½‘æ˜“é‚®ç®±å¤§å¸ˆ</li></ul><p><strong>GTD</strong></p><ul><li>Microsot To DO</li></ul><p><strong>è¯å…¸</strong></p><ul><li>æ¬§é™†è¯å…¸</li></ul><p><strong>æŠ¤çœ¼</strong></p><ul><li>f.lux</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/software/Mac.png" alt="Mac"></p><p><strong>PDF ç¼–è¾‘å™¨</strong></p><ul><li>PDF  Expert</li></ul><p><strong>è§†é¢‘ç¼–è¾‘</strong></p><ul><li>iMovie</li><li>Final Cut Pro</li><li>ArcTime Pro</li></ul><p><strong>å›¾å½¢è®¾è®¡</strong></p><ul><li>PhotoShop</li><li>Imagine</li></ul><p><strong>å›¾åºŠ</strong></p><ul><li>PicGo</li></ul><p><strong>ç»ˆç«¯</strong></p><ul><li>iTerm 2</li></ul><p><strong>çª—å£ç®¡ç†</strong></p><ul><li>Magnet</li></ul><p><strong>ä¸‹è½½å·¥å…·</strong></p><ul><li>è¿…é›·</li><li>Downie 4</li></ul><p><strong>ç³»ç»Ÿæ¸…ç†</strong></p><ul><li>è…¾è®¯æŸ æª¬</li></ul><p><strong>å½•å±è½¯ä»¶</strong></p><ul><li>ScreenFlow</li></ul><p><strong>æˆªå›¾å·¥å…·</strong></p><ul><li>iShot</li></ul><p><strong>æ—¥å†</strong></p><ul><li>Itsycal</li></ul><p><strong>è¿œç¨‹è¿æ¥</strong></p><ul><li>è¿œç¨‹æ¡Œé¢<ul><li>å‘æ—¥è‘µ</li><li>Microsoft Remote Desktops Beta</li><li>Termius</li></ul></li></ul><p><strong>æ€ç»´å¯¼å›¾</strong></p><ul><li>XMind ZEN</li></ul><p><strong>åŠå…¬è½¯ä»¶</strong></p><ul><li>Office å¥—ä»¶<ul><li>Microsoft Word</li><li>Microsoft Excel</li><li>Microsoft PowerPoint</li></ul></li></ul><p><strong>ç¬”è®°è½¯ä»¶</strong></p><ul><li>å¹•å¸ƒ</li><li>Typora</li><li>Notion</li></ul><p><strong>ç§‘å­¦ä¸Šç½‘</strong></p><ul><li>ClashX</li><li>OpenVPN</li></ul><p><strong>éŸ³ä¹æ’­æ”¾å™¨</strong></p><ul><li>Music</li><li>QQ éŸ³ä¹</li></ul><p><strong>è§†é¢‘æ’­æ”¾å™¨</strong></p><ul><li>åœ¨çº¿<ul><li>è…¾è®¯è§†é¢‘</li><li>çˆ±å¥‡è‰º</li><li>ä¼˜é…·</li></ul></li><li>ç¦»çº¿<ul><li>IINA</li></ul></li></ul><p><strong>ç¤¾äº¤è½¯ä»¶</strong></p><ul><li>QQ</li><li>å¾®ä¿¡</li><li>é’‰é’‰</li><li>Telegram</li></ul><p><strong>å¼€å‘å·¥å…·</strong></p><ul><li>Visual Studio Code</li><li>JetBrain Tools<ul><li>PyCharm</li><li>WebStorm</li></ul></li><li>Xcode</li><li>Postman</li><li>æŠ“åŒ…<ul><li>Charles</li><li>Fiddler Everywhere</li><li>mitmproxy</li></ul></li><li>æ•°æ®åº“å¯è§†åŒ–<ul><li>Navicat Premium</li><li>RDM</li></ul></li></ul><p><strong>èœå•æ æ•´ç†</strong></p><ul><li>Barteder 3</li></ul><p><strong>è™šæ‹Ÿæœº/æ¨¡æ‹Ÿå™¨</strong></p><ul><li>Parallels Desktop</li><li>å¤œç¥æ¨¡æ‹Ÿå™¨</li><li>Docker</li></ul><p><strong>å…¶ä»–</strong></p><ul><li>Adguard for Safrai</li><li>CheatSheet</li></ul><p><strong>è§£å‹ç¼©</strong></p><ul><li>Keka</li></ul><p><strong>æµè§ˆå™¨</strong></p><ul><li>Safari</li><li>Google Chrome</li><li>Edge</li></ul><p><strong>é‚®ç®±</strong></p><ul><li>ç½‘æ˜“é‚®ç®±å¤§å¸ˆ</li></ul><p><strong>æ‹¾è‰²å™¨</strong></p><ul><li>Pikka</li></ul><p><strong>GTD</strong></p><ul><li>Microsot To DO</li></ul><p><strong>æ¸¸æˆ</strong></p><ul><li>Steam</li></ul><p><strong>è¯å…¸</strong></p><ul><li>æ¬§é™†è¯å…¸</li></ul><p><strong>å±å¹•å¸¸äº®</strong></p><ul><li>Amphetamine</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸ºäº†è®°å½•è‡ªå·±ä½¿ç”¨çš„è½¯ä»¶ï¼Œå› ä¸ºå…¬å¸ç”¨çš„æ˜¯ Windows å®¶é‡Œç”¨çš„æ˜¯ Mac æ‰€ä»¥åŸºæœ¬ä¸Š ä¸¤ä¸ªå¹³å°çš„è½¯ä»¶éƒ½ä¼šæŒ‘é€‰é€‚åˆè‡ªå·±çš„è½¯ä»¶ã€‚&lt;/p&gt;
&lt;b</summary>
      
    
    
    
    <category term="è½¯ä»¶" scheme="https://sitoi.cn/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
    <category term="Mac" scheme="https://sitoi.cn/tags/Mac/"/>
    
    <category term="Windows" scheme="https://sitoi.cn/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>MongoDB é›†ç¾¤å¼€å¯åˆ†ç‰‡æ“ä½œ</title>
    <link href="https://sitoi.cn/posts/1040.html"/>
    <id>https://sitoi.cn/posts/1040.html</id>
    <published>2020-09-25T05:18:29.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›"><a href="#å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›" class="headerlink" title="å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›"></a>å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›</h2><ol><li><p>å‘½ä»¤è¡Œ è¿›å…¥ <code>mongos</code></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo --host=&lt;host&gt; -u &lt;user&gt;</span><br></pre></td></tr></table></figure></li><li><p>åˆ‡æ¢åˆ° admin åº“</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use admin</span><br></pre></td></tr></table></figure></li><li><p>å¯¹æ•°æ®åº“å¯ç”¨åˆ†ç‰‡èƒ½åŠ›</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.adminCommand( &#123;</span><br><span class="line">   enableSharding: <span class="string">&quot;&lt;database name&gt;&quot;</span></span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸€æ­¥æ˜¯å¯¹æ•°æ®åº“å¯ç”¨åˆ†ç‰‡èƒ½åŠ›ï¼ŒåŒä¸€ä¸ªåº“çš„ä¸åŒ collection ä¼šåˆ†å¸ƒåˆ°ä¸åŒ shard ä¸Šï¼Œä½†æ˜¯ä¸€ä¸ª collection åªä¼šå­˜åœ¨äºä¸€ä¸ª shard ä¸Š</p></blockquote></li></ol><h2 id="å¼€å¯é›†åˆåˆ†ç‰‡"><a href="#å¼€å¯é›†åˆåˆ†ç‰‡" class="headerlink" title="å¼€å¯é›†åˆåˆ†ç‰‡"></a>å¼€å¯é›†åˆåˆ†ç‰‡</h2><div class="note info flat"><p>ç´¢å¼•è¦åœ¨å¼€å¯åˆ†ç‰‡å‰å»ºå¥½ã€‚è™½ç„¶ MongoDB è¯´å¦‚æœæ˜¯ç©ºåº“ï¼Œå¼€å¯åˆ†ç‰‡æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„ç´¢å¼•ï¼Œä½†è¿˜æ˜¯å»ºè®®ä½ äº‹å‰æ‰‹åŠ¨åˆ›å»ºå¥½ã€‚</p></div><div class="note info flat"><p>ç´¢å¼•å­—æ®µæœ€å¥½æ˜¯åœ¨ç©ºåº“çš„æ—¶å€™å°±å»ºå¥½ã€‚æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™æ–°å»ºç´¢å¼•ä¸€å®šè¦å°å¿ƒï¼Œç¬¬ä¸€æ‰¾ä¸šåŠ¡ä¸å¿™çš„æ—¶å€™åšï¼Œç¬¬äºŒåƒä¸‡åˆ«å¿˜äº†åŠ  <code>background</code> å‚æ•°ã€‚</p></div><p>è¿˜æ˜¯è¦åœ¨ <code>admin</code> åº“ä¸‹æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.shardCollection( &#123;</span><br><span class="line">   <span class="string">&quot;&lt;database_name&gt;.&lt;collection_name&gt;&quot;</span>: &#123;&lt;shardkey&gt;: &lt;shardtype&gt;&#125;</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure><blockquote><p>shardtype æè¿°</p></blockquote><ul><li><code>1</code> ï¼šèŒƒå›´ç‰‡å¥</li><li><code>&quot;hashed&quot;</code> ï¼šå“ˆå¸Œç‰‡é”®</li></ul><p><strong>èŒƒå›´ç‰‡å¥ä¾‹å­</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh.shardCollection(<span class="string">&quot;blog.sitoi&quot;</span>, &#123; sitoi: 1 &#125; )</span><br></pre></td></tr></table></figure><p><strong>å“ˆå¸Œç‰‡é”®ä¾‹å­</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh.shardCollection(<span class="string">&quot;blog.sitoi&quot;</span>, &#123; sitoi: <span class="string">&quot;hashed&quot;</span> &#125; )</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://docs.mongodb.com/manual/reference/command/enableSharding/">https://docs.mongodb.com/manual/reference/command/enableSharding/</a></li><li><a href="https://docs.mongodb.com/manual/reference/method/sh.shardCollection/">https://docs.mongodb.com/manual/reference/method/sh.shardCollection/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›&quot;&gt;&lt;a href=&quot;#å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›&quot; class=&quot;headerlink&quot; title=&quot;å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›&quot;&gt;&lt;/a&gt;å¼€å¯æ•°æ®åº“åˆ†ç‰‡èƒ½åŠ›&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å‘½ä»¤è¡Œ è¿›å…¥ &lt;code&gt;mongos&lt;/code&gt;&lt;/p&gt;
 &lt;</summary>
      
    
    
    
    <category term="æ•°æ®åº“" scheme="https://sitoi.cn/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MongoDB" scheme="https://sitoi.cn/tags/MongoDB/"/>
    
    <category term="é›†ç¾¤" scheme="https://sitoi.cn/tags/%E9%9B%86%E7%BE%A4/"/>
    
    <category term="åˆ†ç‰‡" scheme="https://sitoi.cn/tags/%E5%88%86%E7%89%87/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€é”®æ›´æ–° package.json ä¸­çš„åŒ…åˆ°æœ€æ–°ç‰ˆæœ¬</title>
    <link href="https://sitoi.cn/posts/9059.html"/>
    <id>https://sitoi.cn/posts/9059.html</id>
    <published>2020-09-20T14:15:04.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…-npm-check-updates"><a href="#å®‰è£…-npm-check-updates" class="headerlink" title="å®‰è£… npm-check-updates"></a>å®‰è£… npm-check-updates</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g npm-check-updates</span><br></pre></td></tr></table></figure><h2 id="æ£€æµ‹æ›´æ–°"><a href="#æ£€æµ‹æ›´æ–°" class="headerlink" title="æ£€æµ‹æ›´æ–°"></a>æ£€æµ‹æ›´æ–°</h2><blockquote><p>ncu æ˜¯ npm-check-updates çš„ç¼©å†™å‘½ä»¤</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncu -u</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Upgrading /Users/shitao/WebstormProjects/blog/package.json</span><br><span class="line">[====================] 38/38 100%</span><br><span class="line"></span><br><span class="line"> @babel/preset-env      ^7.11.0  â†’  ^7.11.5</span><br><span class="line"> eslint                  ^7.6.0  â†’   ^7.9.0</span><br><span class="line"> hexo-generator-search   ^2.4.0  â†’   ^2.4.1</span><br><span class="line"> hexo-renderer-marked    ^3.0.0  â†’   ^3.2.0</span><br><span class="line"> hexo-renderer-stylus    ^1.1.0  â†’   ^2.0.1</span><br><span class="line"> terser                  ^5.0.0  â†’   ^5.3.2</span><br><span class="line"> workbox-build           ^5.1.3  â†’   ^5.1.4</span><br><span class="line"></span><br><span class="line">Run npm install to install new versions.</span><br></pre></td></tr></table></figure><p>æ›´æ–°åä¼šè‡ªåŠ¨ä¿®æ”¹ package.json é‡Œçš„ç‰ˆæœ¬å·ï¼Œä½†æ˜¯ package-lock.json æˆ–è€… yarn.lock ä¸ä¼šæ›´æ–°ï¼Œéœ€è¦é‡æ–° npm install æˆ–è€… yarn installã€‚</p><h2 id="å‡çº§-npm-åŒ…"><a href="#å‡çº§-npm-åŒ…" class="headerlink" title="å‡çº§ npm åŒ…"></a>å‡çº§ npm åŒ…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹-ncu-å¸®åŠ©"><a href="#æŸ¥çœ‹-ncu-å¸®åŠ©" class="headerlink" title="æŸ¥çœ‹ ncu å¸®åŠ©"></a>æŸ¥çœ‹ ncu å¸®åŠ©</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">â¯ ncu --<span class="built_in">help</span></span><br><span class="line">Usage: ncu [options] [filter]</span><br><span class="line"></span><br><span class="line">[filter] is a list or regex of package names to check (all others will be ignored).</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  --concurrency &lt;n&gt;            Max number of concurrent HTTP requests to</span><br><span class="line">                               registry. (default: 8)</span><br><span class="line">  --configFilePath &lt;path&gt;      Directory of .ncurc config file (default:</span><br><span class="line">                               directory of `packageFile`).</span><br><span class="line">  --configFileName &lt;filename&gt;  Config file name (default: .ncurc.&#123;json,yml,js&#125;)</span><br><span class="line">  --cwd &lt;path&gt;                 Working directory <span class="keyword">in</span> <span class="built_in">which</span> npm will be executed.</span><br><span class="line">  --dep &lt;dep&gt;                  Check one or more sections of dependencies only:</span><br><span class="line">                               prod, dev, peer, optional, bundle</span><br><span class="line">                               (comma-delimited).</span><br><span class="line">  --deprecated                 Include deprecated packages.</span><br><span class="line">  --doctor                     Iteratively installs upgrades and runs tests to</span><br><span class="line">                               identify breaking upgrades. Run <span class="string">&quot;ncu --doctor&quot;</span></span><br><span class="line">                               <span class="keyword">for</span> detailed <span class="built_in">help</span>. Add <span class="string">&quot;-u&quot;</span> to execute.</span><br><span class="line">  --enginesNode                Include only packages that satisfy engines.node</span><br><span class="line">                               as specified <span class="keyword">in</span> the package file.</span><br><span class="line">  -e, --errorLevel &lt;n&gt;         Set the error level. 1: exits with error code 0</span><br><span class="line">                               <span class="keyword">if</span> no errors occur. 2: exits with error code 0</span><br><span class="line">                               <span class="keyword">if</span> no packages need updating (useful <span class="keyword">for</span></span><br><span class="line">                               continuous integration). (default: 1)</span><br><span class="line">  -f, --filter &lt;matches&gt;       Include only package names matching the given</span><br><span class="line">                               string, comma-or-space-delimited list, or</span><br><span class="line">                               /regex/.</span><br><span class="line">  -g, --global                 Check global packages instead of <span class="keyword">in</span> the current</span><br><span class="line">                               project.</span><br><span class="line">  --greatest                   DEPRECATED. Renamed to <span class="string">&quot;--target greatest&quot;</span>.</span><br><span class="line">  -i, --interactive            Enable interactive prompts <span class="keyword">for</span> each dependency;</span><br><span class="line">                               implies -u unless one of the json options are</span><br><span class="line">                               <span class="built_in">set</span>,</span><br><span class="line">  -j, --jsonAll                Output new package file instead of</span><br><span class="line">                               human-readable message.</span><br><span class="line">  --jsonDeps                   Like `jsonAll` but only lists `dependencies`,</span><br><span class="line">                               `devDependencies`, `optionalDependencies`, etc</span><br><span class="line">                               of the new package data.</span><br><span class="line">  --jsonUpgraded               Output upgraded dependencies <span class="keyword">in</span> json.</span><br><span class="line">  -l, --loglevel &lt;n&gt;           Amount to <span class="built_in">log</span>: silent, error, minimal, warn,</span><br><span class="line">                               info, verbose, silly. (default: <span class="string">&quot;warn&quot;</span>)</span><br><span class="line">  -m, --minimal                Do not upgrade newer versions that are already</span><br><span class="line">                               satisfied by the version range according to</span><br><span class="line">                               semver.</span><br><span class="line">  -n, --newest                 DEPRECATED. Renamed to <span class="string">&quot;--target newest&quot;</span>.</span><br><span class="line">  -p, --packageManager &lt;name&gt;  npm, yarn (default: <span class="string">&quot;npm&quot;</span>)</span><br><span class="line">  -o, --ownerChanged           Check <span class="keyword">if</span> the package owner changed between</span><br><span class="line">                               current and upgraded version.</span><br><span class="line">  --packageData &lt;string&gt;       Package file data (you can also use stdin).</span><br><span class="line">  --packageFile &lt;path&gt;         Package file location (default: ./package.json).</span><br><span class="line">  --pre &lt;n&gt;                    Include -alpha, -beta, -rc. (default: 0; default</span><br><span class="line">                               with --newest and --greatest: 1).</span><br><span class="line">  --prefix &lt;path&gt;              Current working directory of npm.</span><br><span class="line">  -r, --registry &lt;url&gt;         Third-party npm registry.</span><br><span class="line">  --removeRange                Remove version ranges from the final package</span><br><span class="line">                               version.</span><br><span class="line">  --semverLevel &lt;value&gt;        DEPRECATED. Renamed to --target.</span><br><span class="line">  -s, --silent                 Don<span class="string">&#x27;t output anything (--loglevel silent).</span></span><br><span class="line"><span class="string">  -t, --target &lt;value&gt;         Target version to upgrade to: latest, newest,</span></span><br><span class="line"><span class="string">                               greatest, minor, patch.</span></span><br><span class="line"><span class="string">  --timeout &lt;ms&gt;               Global timeout in milliseconds. (default: no</span></span><br><span class="line"><span class="string">                               global timeout and 30 seconds per</span></span><br><span class="line"><span class="string">                               npm-registery-fetch).</span></span><br><span class="line"><span class="string">  -u, --upgrade                Overwrite package file with upgraded versions</span></span><br><span class="line"><span class="string">                               instead of just outputting to console.</span></span><br><span class="line"><span class="string">  -x, --reject &lt;matches&gt;       Exclude packages matching the given string,</span></span><br><span class="line"><span class="string">                               comma-or-space-delimited list, or /regex/.</span></span><br><span class="line"><span class="string">  -V, --version                output the version number</span></span><br><span class="line"><span class="string">  -h, --help                   display help for command</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å®‰è£…-npm-check-updates&quot;&gt;&lt;a href=&quot;#å®‰è£…-npm-check-updates&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£… npm-check-updates&quot;&gt;&lt;/a&gt;å®‰è£… npm-check-updates&lt;/h2&gt;&lt;</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://sitoi.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="npm" scheme="https://sitoi.cn/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>Linux ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶ä¸ªæ•°ä»¥åŠç›®å½•ä¸ªæ•°</title>
    <link href="https://sitoi.cn/posts/12507.html"/>
    <id>https://sitoi.cn/posts/12507.html</id>
    <published>2020-09-10T08:29:50.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰"><a href="#åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰" class="headerlink" title="åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰"></a>åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰</h2><p>å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">drwxrwsr-x    2 sitoi sitoi  4096 Sep 10 16:32 10271113/</span><br><span class="line">drwxrwsr-x    2 sitoi sitoi  4096 Sep 10 16:32 10271114/</span><br><span class="line">drwxrwsr-x    2 sitoi sitoi  4096 Sep 10 16:32 10271115/</span><br><span class="line">drwxrwsr-x    2 sitoi sitoi  4096 Sep 10 16:32 10271116/</span><br><span class="line">drwxrwsr-x    2 sitoi sitoi  4096 Sep 10 16:32 10271117/</span><br><span class="line">drwxrwsr-x    2 sitoi sitoi  4096 Sep 10 16:32 10271118/</span><br></pre></td></tr></table></figure><ul><li><p>ç»ˆç«¯è¾“å‡ºçš„ç»“æœæ˜¯ä¸€è¡Œä¸€è¡Œçš„å­—ç¬¦ï¼Œæ¯ä¸€è¡Œå­—ç¬¦å¯¹åº”ä¸€ä¸ªç›®å½•æˆ–è€…æ˜¯æ–‡ä»¶</p></li><li><p>å¦‚æœæ˜¯æ–‡ä»¶çš„è¯ï¼Œè¯¥è¡Œçš„å­—ç¬¦ä¸²ä¿¡æ¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¾ç¤ºçš„æ˜¯ <code>-</code></p></li><li><p>å¦‚æœæ˜¯ç›®å½•çš„è¯ï¼Œè¯¥è¡Œçš„å­—ç¬¦çš„ç¬¬ä¸€ä¸ªæ˜¾ç¤ºçš„æ˜¯ <code>d</code>ï¼Œæ„å³ <code>directory</code>ï¼Œæ‰¾åˆ°è¿™ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼Œè¿è¡Œèƒ½å¤Ÿåˆ¤åˆ«</p></li></ul><h2 id="æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶"><a href="#æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶" class="headerlink" title="æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶"></a>æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶</h2><p>å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l | grep <span class="string">&quot;^-&quot;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>&quot;^-&quot;</code> è¡¨ç¤ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º <code>-</code></p><p>å¦‚ä¸‹ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw-r-- 1 sitoi sitoi  52983 Sep 10 16:31 10272015_1.png</span><br><span class="line">-rw-rw-r-- 1 sitoi sitoi 109263 Sep 10 16:31 10272015_2.png</span><br><span class="line">-rw-rw-r-- 1 sitoi sitoi 121148 Sep 10 16:31 10272015_3.png</span><br><span class="line">-rw-rw-r-- 1 sitoi sitoi 127864 Sep 10 16:31 10272015_4.png</span><br><span class="line">-rw-rw-r-- 1 sitoi sitoi 114144 Sep 10 16:31 10272015_5.png</span><br><span class="line">-rw-rw-r-- 1 sitoi sitoi  99405 Sep 10 16:31 10272015_6.png</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å¯ä»¥ç”¨wcå‘½ä»¤è¿›è¡Œç»Ÿè®¡:</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc [-lwm]</span><br></pre></td></tr></table></figure><p>å‚æ•°:</p><ul><li><p><code>-l</code> ä»…åˆ—å‡ºè¡Œæ•°</p></li><li><p><code>-w</code> ä»…åˆ—å‡ºå¤šå°‘å­—(è‹±æ–‡å•å­—)</p></li><li><p><code>-m</code> å¤šå°‘å­—ç¬¦</p></li></ul><h2 id="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶ä¸ªæ•°"><a href="#ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶ä¸ªæ•°"></a>ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶ä¸ªæ•°</h2><p>å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l ./|grep <span class="string">&quot;^-&quot;</span>|wc -l</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure><h2 id="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­ç›®å½•ä¸ªæ•°"><a href="#ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­ç›®å½•ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­ç›®å½•ä¸ªæ•°"></a>ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸­ç›®å½•ä¸ªæ•°</h2><p>å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l ./|grep <span class="string">&quot;^d&quot;</span>|wc -l</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure><h2 id="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶"><a href="#ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶" class="headerlink" title="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶"></a>ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶</h2><p>å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lR | grep <span class="string">&quot;^-&quot;</span>| wc -l</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">34699</span><br></pre></td></tr></table></figure><h2 id="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­ç›®å½•"><a href="#ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­ç›®å½•" class="headerlink" title="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­ç›®å½•"></a>ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­ç›®å½•</h2><p>å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lR | grep <span class="string">&quot;^d&quot;</span>| wc -l</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2034</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/sganchang/article/details/91432435">https://blog.csdn.net/sganchang/article/details/91432435</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰&quot;&gt;&lt;a href=&quot;#åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆæ˜¾ç¤ºä¸éšè—çš„æ–‡ä»¶ä¸æ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯ï¼‰&quot;&gt;&lt;/a&gt;åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ï¼ˆ</summary>
      
    
    
    
    <category term="Linux" scheme="https://sitoi.cn/categories/Linux/"/>
    
    
    <category term="shell" scheme="https://sitoi.cn/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>æœ€æ–° Navicat Premium 15 ç ´è§£æ–¹æ³•è¯¦ç»†æ•™ç¨‹ï¼ˆWindowsï¼‰</title>
    <link href="https://sitoi.cn/posts/40411.html"/>
    <id>https://sitoi.cn/posts/40411.html</id>
    <published>2020-09-01T02:34:24.000Z</published>
    <updated>2021-09-02T01:06:14.136Z</updated>
    
    <content type="html"><![CDATA[<div class="note danger flat"><p>åœ¨ç ´è§£å®‰è£…ä¹‹å‰ï¼Œè¯·å…ˆå¸è½½ç”µè„‘ä¸­æ—§ç‰ˆæœ¬çš„æ‰€æœ‰ <code>Navicat Premium</code> å¹¶é‡æ–°å®‰è£…ï¼</p></div><div class="note danger flat"><p>åœ¨ç ´è§£å®‰è£…ä¹‹å‰ï¼Œè¯·å…ˆå¸è½½ç”µè„‘ä¸­æ—§ç‰ˆæœ¬çš„æ‰€æœ‰ <code>Navicat Premium</code> å¹¶é‡æ–°å®‰è£…ï¼</p></div><div class="note danger flat"><p>åœ¨ç ´è§£å®‰è£…ä¹‹å‰ï¼Œè¯·å…ˆå¸è½½ç”µè„‘ä¸­æ—§ç‰ˆæœ¬çš„æ‰€æœ‰ <code>Navicat Premium</code> å¹¶é‡æ–°å®‰è£…ï¼</p></div><h2 id="å®‰è£…-Navicat-Premium-15"><a href="#å®‰è£…-Navicat-Premium-15" class="headerlink" title="å®‰è£… Navicat Premium 15"></a>å®‰è£… Navicat Premium 15</h2><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://www.navicat.com.cn/download/navicat-premium">https://www.navicat.com.cn/download/navicat-premium</a></p><blockquote><p>å®‰è£…å®Œæˆåè¯·æ‰“å¼€ä¸€æ¬¡è½¯ä»¶å¹¶å…³é—­</p></blockquote><h2 id="æ¿€æ´»-Navicat-Premium-15"><a href="#æ¿€æ´»-Navicat-Premium-15" class="headerlink" title="æ¿€æ´» Navicat Premium 15"></a>æ¿€æ´» Navicat Premium 15</h2><h3 id="ä¸‹è½½æ¿€æ´»è½¯ä»¶-Navicat-Keygen-Patch"><a href="#ä¸‹è½½æ¿€æ´»è½¯ä»¶-Navicat-Keygen-Patch" class="headerlink" title="ä¸‹è½½æ¿€æ´»è½¯ä»¶ Navicat Keygen Patch"></a>ä¸‹è½½æ¿€æ´»è½¯ä»¶ Navicat Keygen Patch</h3><p>ä¸‹è½½åœ°å€ï¼š<a href="https://sitoi.lanzous.com/iDXhOg935ng">https://sitoi.lanzous.com/iDXhOg935ng</a>  å¯†ç ï¼š<code>4wfy</code></p><blockquote><p>æ— éœ€æ–­ç½‘è¿è¡Œæ¿€æ´»è½¯ä»¶ Navicat_Keygen_Patchï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</p></blockquote><h3 id="ç‚¹å‡»-Patch-æ›¿æ¢-navicat-exe"><a href="#ç‚¹å‡»-Patch-æ›¿æ¢-navicat-exe" class="headerlink" title="ç‚¹å‡» Patch æ›¿æ¢ navicat.exe"></a>ç‚¹å‡» Patch æ›¿æ¢ navicat.exe</h3><p>ç‚¹å‡» <code>Patch</code> é€‰æ‹© <code>Navicat Premium 15</code> å®‰è£…è·¯åŠ²ä¸‹çš„ <code>navicat.exe</code></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Navicat_Keygen_Patch.png" alt="Navicat Keygen Patch"></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/navicat.exe.png" alt="navicat.exe"></p><p>æ˜¾ç¤ºä¸‹å›¾ï¼Œè¡¨ç¤ºæˆåŠŸ</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/navicat.exe_Cracked.png" alt="navicat.exe Cracked"></p><h3 id="ç”Ÿæˆæ³¨å†Œç "><a href="#ç”Ÿæˆæ³¨å†Œç " class="headerlink" title="ç”Ÿæˆæ³¨å†Œç "></a>ç”Ÿæˆæ³¨å†Œç </h3><ol><li><p>å…³é—­ <code>Navicat Premium 15</code> å¹¶é‡æ–°æ‰“å¼€ï¼Œç‚¹å‡»æ³¨å†Œ</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/registered.png" alt="æ³¨å†Œ"></p></li><li><p>ä¿®æ”¹ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰-&gt; ç”Ÿæˆæ³¨å†Œç  -&gt; å¤åˆ¶æ³¨å†Œç </p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Generate_registration_code.png" alt="ç”Ÿæˆæ³¨å†Œç "></p></li><li><p>å¡«å…¥æ³¨å†Œç åç‚¹å‡»æ¿€æ´»ï¼Œè¿™é‡Œä¼šæç¤ºæ³¨å†Œå¤±è´¥</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Activation_code.png" alt="æ¿€æ´»"></p></li><li><p>ç‚¹å‡»æ‰‹åŠ¨æ¿€æ´»</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Manual_activation.png" alt="æ‰‹åŠ¨æ¿€æ´»"></p></li><li><p>å¤åˆ¶è¯·æ±‚ç </p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Request_code.png" alt="è¯·æ±‚ç "></p></li><li><p>å°†è¯·æ±‚ç ç²˜è´´åˆ°æ¿€æ´»è½¯ä»¶ -&gt; ç‚¹å‡»ç”Ÿæˆæ¿€æ´»ç  -&gt; å¤åˆ¶æ¿€æ´»ç </p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Generate_activation_code.png" alt="ç”Ÿæˆæ¿€æ´»ç "></p></li><li><p>ç²˜è´´æ¿€æ´»ç åˆ° <code>Navicat Premium 15</code> çš„æ¿€æ´»ç ï¼Œç‚¹å‡»æ¿€æ´»</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Activate_activation_code.png" alt="æ¿€æ´»"></p></li><li><p>æç¤ºæ¿€æ´»æˆåŠŸ</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Activated_successfully.png" alt="æ¿€æ´»æˆåŠŸ"></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/navicat/Perpetual_license.png" alt="æ°¸ä¹…è®¸å¯è¯"></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note danger flat&quot;&gt;&lt;p&gt;åœ¨ç ´è§£å®‰è£…ä¹‹å‰ï¼Œè¯·å…ˆå¸è½½ç”µè„‘ä¸­æ—§ç‰ˆæœ¬çš„æ‰€æœ‰ &lt;code&gt;Navicat Premium&lt;/code&gt; å¹¶é‡æ–°å®‰è£…ï¼&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;note danger flat&quot;&gt;&lt;p&gt;åœ¨ç ´è§£å®‰è£…</summary>
      
    
    
    
    <category term="è½¯ä»¶" scheme="https://sitoi.cn/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
    <category term="Navicat Premium 15" scheme="https://sitoi.cn/tags/Navicat-Premium-15/"/>
    
    <category term="Navicat Keygen Patch" scheme="https://sitoi.cn/tags/Navicat-Keygen-Patch/"/>
    
    <category term="ç ´è§£" scheme="https://sitoi.cn/tags/%E7%A0%B4%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>Selenium ChromeDriver è®¾ç½®ä»£ç† å’Œ è®¾ç½®è®¤è¯ä»£ç†</title>
    <link href="https://sitoi.cn/posts/34819.html"/>
    <id>https://sitoi.cn/posts/34819.html</id>
    <published>2020-08-19T05:27:38.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<div class="note info flat"><p><a href="/posts/14489.html">Selenium &amp; ChromeDriver å…¨å¹³å°å®‰è£…æ•™ç¨‹ï¼ˆMacã€Windowsã€Linuxï¼‰</a></p></div><h2 id="Selenium-ChromeDriver-ä»£ç†ä½¿ç”¨ï¼Œæ— å¯†ç æˆ–å·²è®¾ç½®ç™½åå•-IP"><a href="#Selenium-ChromeDriver-ä»£ç†ä½¿ç”¨ï¼Œæ— å¯†ç æˆ–å·²è®¾ç½®ç™½åå•-IP" class="headerlink" title="Selenium + ChromeDriver ä»£ç†ä½¿ç”¨ï¼Œæ— å¯†ç æˆ–å·²è®¾ç½®ç™½åå• IP"></a>Selenium + ChromeDriver ä»£ç†ä½¿ç”¨ï¼Œæ— å¯†ç æˆ–å·²è®¾ç½®ç™½åå• IP</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">chromeOptions = webdriver.ChromeOptions()</span><br><span class="line">chromeOptions.add_argument(<span class="string">&quot;--proxy-server=http://127.0.0.1:7890&quot;</span>)</span><br><span class="line">browser = webdriver.Chrome(options=chromeOptions)</span><br><span class="line">browser.get(<span class="string">&quot;https://httpbin.org/get?show_env=1&quot;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;httpbin.png&quot;</span>)</span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨: <code>--proxy-server=http://host:port</code> ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</p></blockquote><h2 id="Selenium-ChromeDriver-ä»£ç†ä½¿ç”¨ï¼Œæ”¯æŒ-Httpã€Https-è´¦å·å¯†ç "><a href="#Selenium-ChromeDriver-ä»£ç†ä½¿ç”¨ï¼Œæ”¯æŒ-Httpã€Https-è´¦å·å¯†ç " class="headerlink" title="Selenium + ChromeDriver ä»£ç†ä½¿ç”¨ï¼Œæ”¯æŒ Httpã€Https è´¦å·å¯†ç "></a>Selenium + ChromeDriver ä»£ç†ä½¿ç”¨ï¼Œæ”¯æŒ Httpã€Https è´¦å·å¯†ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_proxyauth_extension</span>(<span class="params">proxy_host, proxy_port, proxy_username, proxy_password, scheme=<span class="string">&quot;http&quot;</span>, plugin_path=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Proxy Auth Extension</span></span><br><span class="line"><span class="string">    args:</span></span><br><span class="line"><span class="string">        proxy_host (str): domain or ip address, ie proxy.domain.com</span></span><br><span class="line"><span class="string">        proxy_port (int): port</span></span><br><span class="line"><span class="string">        proxy_username (str): auth username</span></span><br><span class="line"><span class="string">        proxy_password (str): auth password</span></span><br><span class="line"><span class="string">    kwargs:</span></span><br><span class="line"><span class="string">        scheme (str): proxy scheme, default http</span></span><br><span class="line"><span class="string">        plugin_path (str): absolute path of the extension</span></span><br><span class="line"><span class="string">    return str -&gt; plugin_path</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">import</span> string</span><br><span class="line">    <span class="keyword">import</span> zipfile</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> plugin_path <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        plugin_path = <span class="string">r&quot;./chrome_proxyauth_plugin.zip&quot;</span></span><br><span class="line">    manifest_json = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        &quot;version&quot;: &quot;1.0.0&quot;,</span></span><br><span class="line"><span class="string">        &quot;manifest_version&quot;: 2,</span></span><br><span class="line"><span class="string">        &quot;name&quot;: &quot;Chrome Proxy&quot;,</span></span><br><span class="line"><span class="string">        &quot;permissions&quot;: [</span></span><br><span class="line"><span class="string">            &quot;proxy&quot;,</span></span><br><span class="line"><span class="string">            &quot;tabs&quot;,</span></span><br><span class="line"><span class="string">            &quot;unlimitedStorage&quot;,</span></span><br><span class="line"><span class="string">            &quot;storage&quot;,</span></span><br><span class="line"><span class="string">            &quot;&lt;all_urls&gt;&quot;,</span></span><br><span class="line"><span class="string">            &quot;webRequest&quot;,</span></span><br><span class="line"><span class="string">            &quot;webRequestBlocking&quot;</span></span><br><span class="line"><span class="string">        ],</span></span><br><span class="line"><span class="string">        &quot;background&quot;: &#123;</span></span><br><span class="line"><span class="string">            &quot;scripts&quot;: [&quot;background.js&quot;]</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        &quot;minimum_chrome_version&quot;:&quot;22.0.0&quot;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    background_js = string.Template(</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        var config = &#123;</span></span><br><span class="line"><span class="string">                mode: &quot;fixed_servers&quot;,</span></span><br><span class="line"><span class="string">                rules: &#123;</span></span><br><span class="line"><span class="string">                  singleProxy: &#123;</span></span><br><span class="line"><span class="string">                    scheme: &quot;$&#123;scheme&#125;&quot;,</span></span><br><span class="line"><span class="string">                    host: &quot;$&#123;host&#125;&quot;,</span></span><br><span class="line"><span class="string">                    port: parseInt($&#123;port&#125;)</span></span><br><span class="line"><span class="string">                  &#125;,</span></span><br><span class="line"><span class="string">                  bypassList: [&quot;foobar.com&quot;]</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">              &#125;;</span></span><br><span class="line"><span class="string">        chrome.proxy.settings.set(&#123;value: config, scope: &quot;regular&quot;&#125;, function() &#123;&#125;);</span></span><br><span class="line"><span class="string">        function callbackFn(details) &#123;</span></span><br><span class="line"><span class="string">            return &#123;</span></span><br><span class="line"><span class="string">                authCredentials: &#123;</span></span><br><span class="line"><span class="string">                    username: &quot;$&#123;username&#125;&quot;,</span></span><br><span class="line"><span class="string">                    password: &quot;$&#123;password&#125;&quot;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        chrome.webRequest.onAuthRequired.addListener(</span></span><br><span class="line"><span class="string">                    callbackFn,</span></span><br><span class="line"><span class="string">                    &#123;urls: [&quot;&lt;all_urls&gt;&quot;]&#125;,</span></span><br><span class="line"><span class="string">                    [&#x27;blocking&#x27;]</span></span><br><span class="line"><span class="string">        );</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">    ).substitute(host=proxy_host, port=proxy_port, username=proxy_username, password=proxy_password, scheme=scheme)</span><br><span class="line">    <span class="keyword">with</span> zipfile.ZipFile(plugin_path, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> zp:</span><br><span class="line">        zp.writestr(<span class="string">&quot;manifest.json&quot;</span>, manifest_json)</span><br><span class="line">        zp.writestr(<span class="string">&quot;background.js&quot;</span>, background_js)</span><br><span class="line">    <span class="keyword">return</span> plugin_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">proxyauth_plugin_path = create_proxyauth_extension(</span><br><span class="line">    proxy_host=<span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">    proxy_port=<span class="number">7890</span>,</span><br><span class="line">    proxy_username=<span class="literal">None</span>,</span><br><span class="line">    proxy_password=<span class="literal">None</span></span><br><span class="line">)</span><br><span class="line">options = webdriver.ChromeOptions()</span><br><span class="line">options.add_argument(<span class="string">&quot;--start-maximized&quot;</span>)</span><br><span class="line">options.add_extension(proxyauth_plugin_path)</span><br><span class="line">browser = webdriver.Chrome(options=options)</span><br><span class="line">browser.get(<span class="string">&quot;https://httpbin.org/get?show_env=1&quot;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;httpbin.png&quot;</span>)</span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note info flat&quot;&gt;&lt;p&gt;&lt;a href=&quot;/posts/14489.html&quot;&gt;Selenium &amp;amp; ChromeDriver å…¨å¹³å°å®‰è£…æ•™ç¨‹ï¼ˆMacã€Windowsã€Linuxï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;


&lt;h2 id=&quot;S</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    
    <category term="Selenium" scheme="https://sitoi.cn/tags/Selenium/"/>
    
    <category term="ChromeDriver" scheme="https://sitoi.cn/tags/ChromeDriver/"/>
    
    <category term="Proxy" scheme="https://sitoi.cn/tags/Proxy/"/>
    
  </entry>
  
  <entry>
    <title>ã€Python3 çˆ¬è™« js é€†å‘ã€‘ä»Šæ—¥å¤´æ¡ asã€cpã€_signature å‚æ•°</title>
    <link href="https://sitoi.cn/posts/11194.html"/>
    <id>https://sitoi.cn/posts/11194.html</id>
    <published>2020-07-17T02:58:50.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><div class="note danger flat"><p>çˆ¬è™«å…·æœ‰æ—¶æ•ˆæ€§ï¼Œæ­¤ç¯‡æ–‡ç« ä»£ç ä¸ä¸€å®šé•¿æœŸæœ‰æ•ˆï¼Œä½†æ˜¯è§£å†³æ–¹æ¡ˆé€šç”¨ã€‚</p></div><div class="note info flat"><p>ç‰ˆæœ¬ä¿¡æ¯ï¼š2020-07-17</p></div><p>ä»Šæ—¥å¤´æ¡ <code>web</code> ç‰ˆçš„è¯·æ±‚ä¸»è¦å‚æ•°æ˜¯ï¼š<code>as</code>ã€<code>cp</code>ã€<code>_signature</code>ã€‚</p><ul><li><code>as</code>ã€<code>cp</code> æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨ <code>js</code> æºç ï¼Œæˆ–è€…ç”¨ <code>python</code> ç¼–è¯‘éƒ½å¯ä»¥</li><li><code>_signature</code> æ¯”è¾ƒå¤æ‚</li></ul><h2 id="URL-åˆ†æ"><a href="#URL-åˆ†æ" class="headerlink" title="URL åˆ†æ"></a>URL åˆ†æ</h2><p>éšä¾¿æ‰“å¼€ä»Šæ—¥å¤´æ¡ç½‘é¡µç‰ˆä¸€ä¸ªç•Œé¢ï¼Œç¤ºä¾‹è¿™é‡Œæ‰“å¼€çš„æ˜¯ <a href="https://www.toutiao.com/ch/news_hot/">çƒ­ç‚¹åˆ†æ </a> åœ°å€ï¼š<a href="https://www.toutiao.com/ch/news_hot/">https://www.toutiao.com/ch/news_hot/</a></p><p>æˆ‘ä»¬å‘ä¸‹æ»‘åŠ¨é¡µé¢ï¼Œä¸æ–­åŠ è½½å‡ºæ–°çš„å†…å®¹</p><p>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© <code>Network</code> ä¸­çš„ <code>XHR</code> æ ‡ç­¾ï¼Œç»§ç»­ä¸‹æ»‘å¤´æ¡ç½‘é¡µï¼Œè§‚å¯Ÿç½‘é¡µè¯·æ±‚é“¾æ¥</p><p>ä»¥ä¸‹ä¸ºä¸‰ä¸ªç¤ºä¾‹é“¾æ¥ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=0&amp;max_behot_time_tmp=0&amp;tadrequire=true&amp;as=A1E51F21B0A055D&amp;cp=5F10201525DD4E1&amp;_signature=_02B4Z6wo00f01jcKhsgAAIBAdPSMZ6-fGcI3D4JAANLfaIBd69iVqrqwt-Kzkp68yjCiTBebZn4bKtxcot5cz26TAvNJxqWymSmizGkrEL3-TkzTvjaW14sJJpUdGO-qtIjt.n.qWnE26C8g79</span><br><span class="line">https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594880609&amp;max_behot_time_tmp=1594880609&amp;tadrequire=true&amp;as=A1F58F71E04057E&amp;cp=5F1030A557BEAE1&amp;_signature=_02B4Z6wo00901tH42wgAAIBAkgbRpdhpFFbR.d-AAOt8c3CZDocehB19PuHUmDrMDvCRZp9PXbVULneN4NWmDbAaPPGPWLtRA9--LfxHyF7itVXaG6r5K8bMdDlZeFZqFmVD3ExhcFH9u52b84</span><br><span class="line">https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&amp;_signature=_02B4Z6wo00501-pBU5QAAIBBqb9ZOOz-JLfqRFcAAKWKddCx4Y7Ps7qRC.B89m1IPx7kVtIM9Dy4i2lN8gSXryJypKZG7gVFrub3gVeiJxy8SjWeeg8O1c4-OQN2YJLbXyVanlfiHvufxjHi59</span><br></pre></td></tr></table></figure><p>ç»è¿‡æ¯”è¾ƒå‘ç°å…³é”®å˜é‡æœ‰ï¼š<code>max_behot_time</code>ã€<code>as</code>ã€<code>cp</code>ã€_<code>signature</code>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯¹è¿™å››ä¸ªå˜é‡è¿›è¡Œåˆ†æã€‚</p><h2 id="max-behot-time-åˆ†æ"><a href="#max-behot-time-åˆ†æ" class="headerlink" title="max_behot_time åˆ†æ"></a>max_behot_time åˆ†æ</h2><p><code>max_behot_time</code> çš„æ•°å€¼çœ‹ä¼¼æ˜¯æ—¶é—´æˆ³ï¼Œä½†æ˜¯æ¯”è¾ƒå‘ç°ï¼Œå¹¶ä¸æ˜¯è®¿é—®é“¾æ¥æ—¶çš„çœŸå®æ—¶é—´æˆ³ã€‚</p><p>æ¨æ–­æ˜¯ç”±ç‰¹å®šå‡½æ•°ç”Ÿæˆã€‚</p><p>æˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹ç½‘é¡µè¯·æ±‚è¿”å›çš„ <code>json</code> æ•°æ®ã€‚å‘ç°é™¤äº†è¿”å›çš„æ–°é—»å†…å®¹ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>next</code>ï¼ŒåŒ…å« <code>max_behot_time</code> çš„å€¼ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/max_behot_time.png" alt="max_behot_time"></p><p>é€šè¿‡æ¯”è¾ƒå‘ç°ï¼Œè¿™ä¸ª <code>next</code> ä¸­ <code>max_behot_time</code> çš„å€¼ï¼Œæ­£æ˜¯é¡µé¢ä¸‹æ»‘æ—¶ï¼Œä¸‹ä¸€ä¸ªè¯·æ±‚ <code>url</code> ä¸­ <code>max_behot_time</code>ã€‚</p><p>ç”±äºå¤´æ¡æ²¡æœ‰æ˜ç¡®çš„é¡µç ï¼Œäºæ˜¯åˆ¤æ–­ç”± <code>max_behot_time</code> çš„æ•°å€¼å……å½“ <code>é¡µç </code>ã€‚ç”±äº <code>next</code> çš„å€¼å¯ä»¥ç›´æ¥è·å–ï¼Œæˆ‘ä»¬å°±ä¸å¿…åˆ†æå…¶ç”Ÿæˆå‡½æ•°äº†ã€‚</p><h2 id="asã€cp-åˆ†æ"><a href="#asã€cp-åˆ†æ" class="headerlink" title="asã€cp åˆ†æ"></a>asã€cp åˆ†æ</h2><p>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© <code>Network</code> æŒ‰ <code>Ctrl + F</code> è¿›å…¥å…¨å±€æœç´¢ï¼Œæœç´¢ <code>as</code> ã€‚</p><p>å› ä¸ºè¯å¤ªçŸ­ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸Šç™¾æ¡æ•°æ®ã€‚æƒ³æ‰¾ <code>as</code> çš„ç”Ÿæˆå‡½æ•°çŠ¹å¦‚å¤§æµ·æé’ˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/as.png" alt="as"></p><p>æ¢ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥ä¸€ä¸‹ <code>max_behot_time</code>ï¼Œåœ¨å…³é”®å‡½æ•°å‘¨å›´è§‚å¯Ÿä¸€ä¸‹æœ‰æ²¡æœ‰ <code>as</code>ã€<code>cp</code> çš„ç”Ÿæˆå‡½æ•°ã€‚</p><p>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© <code>Network</code> æŒ‰ <code>Ctrl + F</code> è¿›å…¥å…¨å±€æœç´¢ï¼Œæœç´¢ <code>max_behot_time</code>ã€‚åªæœ‰ä¸€æ¡å‡½æ•°ï¼Œæ ¼å¼åŒ–ä»£ç åè§‚å¯Ÿï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/findas.png" alt="as"></p><p>æˆ‘ä»¬ä¸å¿…çœ‹ <code>max_behot_time</code>ï¼Œæ­£å¥½å®ƒä¸‹æ–¹æœ‰ <code>as</code>ã€<code>cp</code> çš„å‡½æ•°ã€‚ä¸ºäº†åˆ¤æ–­æ˜¯ä¸æ˜¯æˆ‘ä»¬è¦çš„å€¼ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ç»“å°¾å¤„æ‰“æ–­ç‚¹ï¼Œåˆ·æ–°ç½‘é¡µï¼ŒæŸ¥çœ‹ <code>as</code>ã€<code>cp</code> çš„æ•°å€¼ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/getHoney.png" alt="getHoney"></p><p>æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ asã€cp çš„å€¼ï¼Œå†è§‚å¯Ÿå‡½æ•°ï¼Œç”± e å‡½æ•°ç”Ÿæˆï¼Œå³ä¸Šå›¾ç”»çº¢åœˆéƒ¨åˆ†ã€‚å…³é”®å‡½æ•°ä¸º <code>ascp.getHoney</code> ï¼Œæˆ‘ä»¬æŠŠé¼ æ ‡æ”¾åœ¨ <code>ascp.getHoney</code> ä¸Šè·³è½¬åˆ°ç›¸å…³å‡½æ•°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/ascpmd5.png" alt="ascpmd5"></p><p>è¿™é‡Œå°±æ˜¯ <code>as</code>ã€<code>cp</code> çš„è®¡ç®—å‡½æ•°äº†ã€‚ <code>i = md5(t)</code> ä½¿ç”¨çš„æ˜¯ md5 åŠ å¯†ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ·±å…¥ç ”ç©¶ä¸€ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥å°† js ä»£ç è½¬æ¢ä¸º <code>python</code> ä»£ç ï¼Œæ–¹ä¾¿è°ƒç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_honey</span>():</span></span><br><span class="line">    t = <span class="built_in">int</span>(time.time())</span><br><span class="line">    e = <span class="built_in">hex</span>(t).upper()[<span class="number">2</span>:]</span><br><span class="line">    md = hashlib.md5()</span><br><span class="line">    md.update(<span class="built_in">str</span>(t).encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    i = <span class="built_in">str</span>(md.hexdigest()).upper()</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(e) != <span class="number">8</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;as&#x27;</span>: <span class="string">&quot;479BB4B7254C150&quot;</span>, <span class="string">&#x27;cp&#x27;</span>: <span class="string">&quot;7E0AC8874BB0985&quot;</span>&#125;</span><br><span class="line">    s = r = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line">        s = s + i[:<span class="number">5</span>][k] + e[k]</span><br><span class="line">        r = r + e[k+<span class="number">3</span>] + i[-<span class="number">5</span>:][k]</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;as&#x27;</span>: <span class="string">&quot;A1&quot;</span> + s + e[-<span class="number">3</span>:], <span class="string">&#x27;cp&#x27;</span>: e[:<span class="number">3</span>] + r + <span class="string">&quot;E1&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±è·å–åˆ°äº† <code>as</code>ã€<code>cp</code> çš„å€¼äº†ã€‚</p><h2 id="signature-åˆ†æ"><a href="#signature-åˆ†æ" class="headerlink" title="_signature åˆ†æ"></a>_signature åˆ†æ</h2><p>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© <code>Network</code> æŒ‰ <code>Ctrl + F</code> è¿›å…¥å…¨å±€æœç´¢ï¼Œæœç´¢ <code>_signature</code>ã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°ä¸¤æ¡ç»“æœã€‚ä¸¤æ¡éƒ½çœ‹ä¸€ä¸‹ï¼šç¬¬ä¸€æ¡æ˜¯æ„é€ å‡½æ•°ï¼Œç¬¬äºŒæ¡åªæ˜¯è°ƒç”¨äº†å€¼ã€‚æˆ‘ä»¬åˆ†æç¬¬ä¸€æ¡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/signature.png" alt="signature"></p><p>åœ¨å…³é”®å‡½æ•°ç»“å°¾è¡Œæ‰“æ–­ç‚¹ï¼Œåˆ·æ–°é¡µé¢ã€‚ç­‰å¾…é¡µé¢è§£æå®Œæˆåï¼Œé¼ æ ‡æ”¾åœ¨ <code>_signature</code> ä¸Šï¼Œçœ‹åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„å€¼ã€‚ä»”ç»†è§‚å¯Ÿï¼Œ<code>_signature</code> çš„å€¼ç”± <code>tacSign</code> å‡½æ•°ç”Ÿæˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/tacsign.png" alt="tacsign"></p><p>é¼ æ ‡æ”¾åœ¨ <code>tacSign</code> ä¸Šï¼Œç‚¹å‡»ä¸Šæ–¹çš„ <code>f tacSign(e,t)</code> è·³è½¬åˆ°ç›¸å…³å‡½æ•°ã€‚è§ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/tacsign_func.png" alt="tacsign_func"></p><p>æŠŠä¸Šä¸€ä¸ªå‡½æ•°æ‰“çš„æ–­ç‚¹å–æ¶ˆï¼ç„¶ååœ¨ <code>tacSign</code> å‡½æ•°ç»“å°¾è¡Œæ‰“æ–­ç‚¹ï¼Œç‚¹å‡»ä¸‹å›¾è“è‰²ç®­å¤´ <code>F8</code> ï¼Œåˆ·æ–°ç•Œé¢ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/f8.png" alt="f8"></p><p>å¯ä»¥çœ‹åˆ° <code>i</code> æ˜¯æˆ‘ä»¬æƒ³è¦çš„å€¼ï¼Œç”± <code>window.byted_acrawler.sign(o)</code> ç”Ÿæˆï¼Œå‚æ•° <code>o</code> ä¸ºè®¿é—®é“¾æ¥ã€‚</p><div class="note info flat"><p>æ­£å¸¸æµç¨‹ä¸ºå…ˆè·å– <code>as</code>ã€<code>cp</code> å€¼ï¼Œç„¶åæ„é€ é“¾æ¥ä½œä¸ºå‚æ•° <code>o</code> è°ƒç”¨ <code>window.byted_acrawler.sign</code> å¾—åˆ° _<code>signature</code></p></div><p>é¼ æ ‡æ”¾åœ¨ <code>window.byted_acrawler.sign</code> ä¸Šï¼Œç‚¹å‡»å¼¹å‡ºçš„ <code>f e()</code>ï¼Œè·³è½¬åˆ°ç›®æ ‡å‡½æ•°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/arguments.png" alt="arguments"></p><p>è·³è½¬åˆ°è¿™é‡Œï¼Œçœ‹åˆ°è¿™ä¸ªåƒä¸‡åˆ«è’™è”½ï¼Œè¿™åªæ˜¯ä¸€ä¸ªè¶…çº§å¤§çš„å‡½æ•°è€Œå·²ï¼Œå¤§æ¦‚ 500 è¡Œã€‚</p><p>æˆ‘ä»¬ä¸å¿…å®Œå…¨çœ‹æ‡‚ï¼ŒæŠŠæ•´ä¸ª js æ–‡ä»¶è€ƒå‡ºæ¥å³å¯ã€‚</p><p>è‡ªå·±æ‹·è´å°±å¥½ï¼Œæˆ‘è¿™é‡Œä¸è´´å®Œæ•´ä»£ç äº†ï¼Œè¿‘ 500 è¡Œï¼Œåªæ”¾ä¸€ä¸‹å¼€å¤´å’Œç»“å°¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _typeof = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator ? <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">: <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; f.constructor === <span class="built_in">Symbol</span> &amp;&amp; f !== <span class="built_in">Symbol</span>.prototype ? <span class="string">&quot;symbol&quot;</span> : <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">;</span><br><span class="line">TAC = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">f, a, b, d, c, r</span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(),</span><br><span class="line">TAC(<span class="string">&quot;484e4f4a4......&quot;</span>, []);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æŠŠä¸Šè¿°ä»£ç ä¿å­˜ä¸ºå•ç‹¬çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>sign.js</code></p><p>åœ¨ç»“å°¾åŠ ä¸Šä¸¤è¡Œä»£ç æµ‹è¯•ä¸€ä¸‹è¾“å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sign = <span class="built_in">window</span>.byted_acrawler.sign(&#123;<span class="attr">url</span>:<span class="string">&quot;https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sign);</span><br></pre></td></tr></table></figure><p>æˆ‘æ˜¯åœ¨ <code>Pycharm</code> ä¸­å®‰è£…äº† <code>node.js</code> æ’ä»¶ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ <code>Pycharm</code> ä¸­ç›´æ¥è¿è¡Œã€‚</p><h2 id="js-è¿è¡ŒæŠ¥é”™"><a href="#js-è¿è¡ŒæŠ¥é”™" class="headerlink" title="js è¿è¡ŒæŠ¥é”™"></a>js è¿è¡ŒæŠ¥é”™</h2><h3 id="window-is-not-defined"><a href="#window-is-not-defined" class="headerlink" title="window is not defined"></a>window is not defined</h3><p><strong>é”™è¯¯ä¿¡æ¯</strong></p><p>è¿è¡Œ jsï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/windowisnotdefined.png" alt="window is not defined"></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>åœ¨å¼€å¤´æ·»åŠ ä¸€ä¸‹ <code>window</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span> = <span class="built_in">global</span>;</span><br></pre></td></tr></table></figure><h3 id="Cannot-read-property-â€˜hrefâ€™-of-undefined"><a href="#Cannot-read-property-â€˜hrefâ€™-of-undefined" class="headerlink" title="Cannot read property â€˜hrefâ€™ of undefined"></a>Cannot read property â€˜hrefâ€™ of undefined</h3><p><strong>é”™è¯¯ä¿¡æ¯</strong></p><p>è¿è¡Œ jsï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/hrefofundefined.png" alt="href of undefined"></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>ç”¨<code>jsdom</code> æ¨¡æ‹Ÿç¯å¢ƒ</p><p>å®‰è£…å¥½ <code>node.js</code> åï¼Œåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ä½¿ç”¨ <code>npm install jsdom</code> å®‰è£…ã€‚</p><p>å®‰è£…å¥½åï¼Œå†™ä¸€ä¸ªæœ€ç®€å•çš„ç•Œé¢ï¼Œç„¶åæ·»åŠ å¤´æ¡çš„ <code>href</code>ã€‚</p><p>é‚£ä¹ˆå¤´æ¡çš„ <code>href</code> åœ¨å“ªé‡Œå‘¢ï¼Ÿæˆ‘ä»¬æ‰“å¼€å¤´æ¡é¡µé¢ï¼ŒæŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·,é€‰æ‹© <code>Console</code>ï¼Œè¾“å…¥ <code>window.location</code> åå›è½¦ï¼Œå¯è§ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/window.location.png" alt="window.location"></p><p>æˆ‘ä»¬åœ¨ <code>window.location</code> ä¸­æ·»åŠ  <code>href</code> å³å¯ï¼Œä¸ºäº†æ›´å®‰å…¨ï¼Œæˆ‘ä»¬æŠŠ <code>location</code> ä¸­å…¶ä»–å‚æ•°ä¹Ÿæ·»åŠ è¿›å»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsdom = <span class="built_in">require</span>(<span class="string">&quot;jsdom&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; JSDOM &#125; = jsdom;</span><br><span class="line"><span class="keyword">const</span> dom = <span class="keyword">new</span> JSDOM(<span class="string">`&lt;!DOCTYPE html&gt;&lt;p&gt;Hello world&lt;/p&gt;`</span>);</span><br><span class="line"><span class="built_in">window</span> = <span class="built_in">global</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">document</span> = dom.window.document;</span><br><span class="line"><span class="keyword">var</span> params = &#123;</span><br><span class="line">    <span class="attr">location</span>:&#123;</span><br><span class="line">        <span class="attr">hash</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">hostname</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">href</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">origin</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathname</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">protocol</span>: <span class="string">&quot;https:&quot;</span>,</span><br><span class="line">        <span class="attr">search</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="built_in">window</span>,params);</span><br><span class="line"><span class="built_in">window</span>.document = <span class="built_in">document</span>;</span><br><span class="line"><span class="comment">// ----------è¿™é‡Œæ˜¯å¤åˆ¶çš„è¿‘ 500 è¡Œä»£ç  ----------</span></span><br><span class="line"><span class="keyword">var</span> _typeof = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator ? <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">: <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; f.constructor === <span class="built_in">Symbol</span> &amp;&amp; f !== <span class="built_in">Symbol</span>.prototype ? <span class="string">&quot;symbol&quot;</span> : <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">;</span><br><span class="line">TAC = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">f, a, b, d, c, r</span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(),</span><br><span class="line">TAC(<span class="string">&quot;484e4f4a4......&quot;</span>, []);</span><br><span class="line"><span class="comment">// ----------------------------------------</span></span><br><span class="line"></span><br><span class="line">sign = <span class="built_in">window</span>.byted_acrawler.sign(&#123;<span class="attr">url</span>:<span class="string">&quot;https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sign);</span><br></pre></td></tr></table></figure><h3 id="Cannot-read-property-â€˜userAgentâ€™-of-undefined"><a href="#Cannot-read-property-â€˜userAgentâ€™-of-undefined" class="headerlink" title="Cannot read property â€˜userAgentâ€™ of undefined"></a>Cannot read property â€˜userAgentâ€™ of undefined</h3><p><strong>é”™è¯¯ä¿¡æ¯</strong></p><p>è¿è¡Œ jsï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/userAgentofundefined.png" alt="userAgent of undefined"></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>æ‰“å¼€å¤´æ¡é¡µé¢ï¼ŒæŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© <code>Console</code>ï¼Œè¾“å…¥ <code>window.navigator</code> åå›è½¦ï¼Œå¯è§ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/window.navigator.png" alt="window.navigator"></p><p>åœ¨ <code>window.navigator </code>ä¸­æ·»åŠ  <code>userAgent</code> å³å¯ï¼Œä¸ºäº†æ›´å®‰å…¨ï¼ŒæŠŠ <code>navigator</code> ä¸­å…¶ä»–å‚æ•°ä¹Ÿæ·»åŠ è¿›å»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsdom = <span class="built_in">require</span>(<span class="string">&quot;jsdom&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; JSDOM &#125; = jsdom;</span><br><span class="line"><span class="keyword">const</span> dom = <span class="keyword">new</span> JSDOM(<span class="string">`&lt;!DOCTYPE html&gt;&lt;p&gt;Hello world&lt;/p&gt;`</span>);</span><br><span class="line"><span class="built_in">window</span> = <span class="built_in">global</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">document</span> = dom.window.document;</span><br><span class="line"><span class="keyword">var</span> params = &#123;</span><br><span class="line">    <span class="attr">location</span>:&#123;</span><br><span class="line">        <span class="attr">hash</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">hostname</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">href</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">origin</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathname</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">protocol</span>: <span class="string">&quot;https:&quot;</span>,</span><br><span class="line">        <span class="attr">search</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">navigator</span>:&#123;</span><br><span class="line">        <span class="attr">appCodeName</span>: <span class="string">&quot;Mozilla&quot;</span>,</span><br><span class="line">        <span class="attr">appName</span>: <span class="string">&quot;Netscape&quot;</span>,</span><br><span class="line">        <span class="attr">appVersion</span>: <span class="string">&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">cookieEnabled</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">deviceMemory</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">doNotTrack</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">hardwareConcurrency</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="attr">language</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">        <span class="attr">languages</span>: [<span class="string">&quot;zh-CN&quot;</span>, <span class="string">&quot;zh&quot;</span>],</span><br><span class="line">        <span class="attr">maxTouchPoints</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">onLine</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">platform</span>: <span class="string">&quot;Win32&quot;</span>,</span><br><span class="line">        <span class="attr">product</span>: <span class="string">&quot;Gecko&quot;</span>,</span><br><span class="line">        <span class="attr">productSub</span>: <span class="string">&quot;20030107&quot;</span>,</span><br><span class="line">        <span class="attr">userAgent</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">vendor</span>: <span class="string">&quot;Google Inc.&quot;</span>,</span><br><span class="line">        <span class="attr">vendorSub</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="built_in">window</span>,params);</span><br><span class="line"><span class="built_in">window</span>.document = <span class="built_in">document</span>;</span><br><span class="line"><span class="comment">// ----------è¿™é‡Œæ˜¯å¤åˆ¶çš„è¿‘ 500 è¡Œä»£ç  ----------</span></span><br><span class="line"><span class="keyword">var</span> _typeof = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator ? <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">: <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; f.constructor === <span class="built_in">Symbol</span> &amp;&amp; f !== <span class="built_in">Symbol</span>.prototype ? <span class="string">&quot;symbol&quot;</span> : <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">;</span><br><span class="line">TAC = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">f, a, b, d, c, r</span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(),</span><br><span class="line">TAC(<span class="string">&quot;484e4f4a4......&quot;</span>, []);</span><br><span class="line"><span class="comment">// ----------------------------------------</span></span><br><span class="line"></span><br><span class="line">sign = <span class="built_in">window</span>.byted_acrawler.sign(&#123;<span class="attr">url</span>:<span class="string">&quot;https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sign);</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¸€ä¸‹ï¼ŒæˆåŠŸè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_02B4Z6wo00f0122Q2eAAAIBAkOB99iCRDv9tkt1AAIR91a</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œè¿™åªæ˜¯ <code>_signature</code> çš„ä¸€éƒ¨åˆ†ã€‚æ˜¯ä¸æ˜¯é—æ¼äº†ä»€ä¹ˆï¼Ÿ</p><p>å†å…¨å±€æœç´¢ <code>window.byted_acrawler</code>ï¼Œåœ¨ç½‘é¡µæºç ä¸­å‘ç°æœ‰ä¸€æ®µ <code>js</code> ç”Ÿæˆçš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.byted_acrawler &amp;&amp; <span class="built_in">window</span>.byted_acrawler.init(&#123;</span><br><span class="line">    <span class="attr">aid</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">dfp</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">intercept</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯æ‹¦æˆªå™¨åï¼Œæ‰€æœ‰ç¬¦åˆä¸‹é¢åˆ—è¡¨æ¡ä»¶çš„ url éƒ½ä¼šè‡ªåŠ¨åŠ ä¸Š _signature å‚æ•°</span></span><br><span class="line">    <span class="comment">// SDK ä¼šæ‹¦æˆªæ‰€æœ‰ä½¿ç”¨ XMLHTTPRequest å‘é€çš„è¯·æ±‚ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“å‘å‡ºçš„ï¼Œæ‰€ä»¥è¯·ä¸¥æ ¼è®¾ç½® enablePathList</span></span><br><span class="line">    <span class="attr">enablePathList</span>: [</span><br><span class="line">      <span class="string">&#x27;/c/ugc/video/publish/&#x27;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">urlRewriteRules</span>: [</span><br><span class="line">      [<span class="string">&#x27;/c/ugc/video/publish/&#x27;</span>, <span class="string">&#x27;https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/c/ugc/video/publish/&#x27;</span>]</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æŠŠä¸Šè¿°ä»£ç  <code>sdk</code> æ‹¦æˆªå»æ‰ï¼Œç„¶åæ’å…¥ <code>sign.js</code> ä¸­è¿è¡Œä¸€ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsdom = <span class="built_in">require</span>(<span class="string">&quot;jsdom&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; JSDOM &#125; = jsdom;</span><br><span class="line"><span class="keyword">const</span> dom = <span class="keyword">new</span> JSDOM(<span class="string">`&lt;!DOCTYPE html&gt;&lt;p&gt;Hello world&lt;/p&gt;`</span>);</span><br><span class="line"><span class="built_in">window</span> = <span class="built_in">global</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">document</span> = dom.window.document;</span><br><span class="line"><span class="keyword">var</span> params = &#123;</span><br><span class="line">    <span class="attr">location</span>:&#123;</span><br><span class="line">        <span class="attr">hash</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">hostname</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">href</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">origin</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathname</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">protocol</span>: <span class="string">&quot;https:&quot;</span>,</span><br><span class="line">        <span class="attr">search</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">navigator</span>:&#123;</span><br><span class="line">        <span class="attr">appCodeName</span>: <span class="string">&quot;Mozilla&quot;</span>,</span><br><span class="line">        <span class="attr">appName</span>: <span class="string">&quot;Netscape&quot;</span>,</span><br><span class="line">        <span class="attr">appVersion</span>: <span class="string">&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">cookieEnabled</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">deviceMemory</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">doNotTrack</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">hardwareConcurrency</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="attr">language</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">        <span class="attr">languages</span>: [<span class="string">&quot;zh-CN&quot;</span>, <span class="string">&quot;zh&quot;</span>],</span><br><span class="line">        <span class="attr">maxTouchPoints</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">onLine</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">platform</span>: <span class="string">&quot;Win32&quot;</span>,</span><br><span class="line">        <span class="attr">product</span>: <span class="string">&quot;Gecko&quot;</span>,</span><br><span class="line">        <span class="attr">productSub</span>: <span class="string">&quot;20030107&quot;</span>,</span><br><span class="line">        <span class="attr">userAgent</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">vendor</span>: <span class="string">&quot;Google Inc.&quot;</span>,</span><br><span class="line">        <span class="attr">vendorSub</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="built_in">window</span>,params);</span><br><span class="line"><span class="built_in">window</span>.document = <span class="built_in">document</span>;</span><br><span class="line"><span class="comment">// ----------è¿™é‡Œæ˜¯å¤åˆ¶çš„è¿‘ 500 è¡Œä»£ç  ----------</span></span><br><span class="line"><span class="keyword">var</span> _typeof = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator ? <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">: <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; f.constructor === <span class="built_in">Symbol</span> &amp;&amp; f !== <span class="built_in">Symbol</span>.prototype ? <span class="string">&quot;symbol&quot;</span> : <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">;</span><br><span class="line">TAC = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">f, a, b, d, c, r</span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(),</span><br><span class="line">TAC(<span class="string">&quot;484e4f4a4......&quot;</span>, []);</span><br><span class="line"><span class="comment">// ----------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.byted_acrawler &amp;&amp; <span class="built_in">window</span>.byted_acrawler.init(&#123;</span><br><span class="line">    <span class="attr">aid</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">dfp</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">sign = <span class="built_in">window</span>.byted_acrawler.sign(&#123;<span class="attr">url</span>:<span class="string">&quot;https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sign);</span><br></pre></td></tr></table></figure><h3 id="Cannot-read-property-â€˜widthâ€™-of-undefined"><a href="#Cannot-read-property-â€˜widthâ€™-of-undefined" class="headerlink" title="Cannot read property â€˜widthâ€™ of undefined"></a>Cannot read property â€˜widthâ€™ of undefined</h3><p><strong>é”™è¯¯ä¿¡æ¯</strong></p><p>è¿è¡Œ jsï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/widthofundefined.png" alt="width of undefined"></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>æ‰“å¼€å¤´æ¡é¡µé¢ï¼ŒæŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹© <code>Console</code>ï¼Œè¾“å…¥ <code>window.screen</code> åå›è½¦ï¼Œå¯è§ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/toutiao/window.screen.png" alt="window.screen"></p><p>åœ¨ <code>window.screen</code> ä¸­æ·»åŠ  <code>width</code> å³å¯ï¼Œä¸ºäº†æ›´å®‰å…¨ï¼ŒæŠŠ <code>screen</code> ä¸­å…¶ä»–å‚æ•°ä¹Ÿæ·»åŠ è¿›å»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsdom = <span class="built_in">require</span>(<span class="string">&quot;jsdom&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; JSDOM &#125; = jsdom;</span><br><span class="line"><span class="keyword">const</span> dom = <span class="keyword">new</span> JSDOM(<span class="string">`&lt;!DOCTYPE html&gt;&lt;p&gt;Hello world&lt;/p&gt;`</span>);</span><br><span class="line"><span class="built_in">window</span> = <span class="built_in">global</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">document</span> = dom.window.document;</span><br><span class="line"><span class="keyword">var</span> params = &#123;</span><br><span class="line">    <span class="attr">location</span>:&#123;</span><br><span class="line">        <span class="attr">hash</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">hostname</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">href</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">origin</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathname</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">protocol</span>: <span class="string">&quot;https:&quot;</span>,</span><br><span class="line">        <span class="attr">search</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">navigator</span>:&#123;</span><br><span class="line">        <span class="attr">appCodeName</span>: <span class="string">&quot;Mozilla&quot;</span>,</span><br><span class="line">        <span class="attr">appName</span>: <span class="string">&quot;Netscape&quot;</span>,</span><br><span class="line">        <span class="attr">appVersion</span>: <span class="string">&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">cookieEnabled</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">deviceMemory</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">doNotTrack</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">hardwareConcurrency</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="attr">language</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">        <span class="attr">languages</span>: [<span class="string">&quot;zh-CN&quot;</span>, <span class="string">&quot;zh&quot;</span>],</span><br><span class="line">        <span class="attr">maxTouchPoints</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">onLine</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">platform</span>: <span class="string">&quot;Win32&quot;</span>,</span><br><span class="line">        <span class="attr">product</span>: <span class="string">&quot;Gecko&quot;</span>,</span><br><span class="line">        <span class="attr">productSub</span>: <span class="string">&quot;20030107&quot;</span>,</span><br><span class="line">        <span class="attr">userAgent</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">vendor</span>: <span class="string">&quot;Google Inc.&quot;</span>,</span><br><span class="line">        <span class="attr">vendorSub</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;screen&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">availHeight</span>: <span class="number">1040</span>,</span><br><span class="line">        <span class="attr">availLeft</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">availTop</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">availWidth</span>: <span class="number">1920</span>,</span><br><span class="line">        <span class="attr">colorDepth</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">1080</span>,</span><br><span class="line">        <span class="attr">pixelDepth</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">1920</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="built_in">window</span>,params);</span><br><span class="line"><span class="built_in">window</span>.document = <span class="built_in">document</span>;</span><br><span class="line"><span class="comment">// ----------è¿™é‡Œæ˜¯å¤åˆ¶çš„è¿‘ 500 è¡Œä»£ç  ----------</span></span><br><span class="line"><span class="keyword">var</span> _typeof = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator ? <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">: <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; f.constructor === <span class="built_in">Symbol</span> &amp;&amp; f !== <span class="built_in">Symbol</span>.prototype ? <span class="string">&quot;symbol&quot;</span> : <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">;</span><br><span class="line">TAC = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">f, a, b, d, c, r</span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(),</span><br><span class="line">TAC(<span class="string">&quot;484e4f4a4......&quot;</span>, []);</span><br><span class="line"><span class="comment">// ----------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.byted_acrawler &amp;&amp; <span class="built_in">window</span>.byted_acrawler.init(&#123;</span><br><span class="line">    <span class="attr">aid</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">dfp</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">sign = <span class="built_in">window</span>.byted_acrawler.sign(&#123;<span class="attr">url</span>:<span class="string">&quot;https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sign);</span><br></pre></td></tr></table></figure><p>å†è¿è¡Œä¸€ä¸‹ï¼Œæ²¡æœ‰æŠ¥é”™äº†ã€‚è¿”å›å€¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_02B4Z6wo00f01erPHLwAAIBCF7-4qJivPAXqzRgAACWl0b</span><br></pre></td></tr></table></figure><h3 id="signature-é•¿åº¦ä¸ä¸€è‡´"><a href="#signature-é•¿åº¦ä¸ä¸€è‡´" class="headerlink" title="_signature é•¿åº¦ä¸ä¸€è‡´"></a>_signature é•¿åº¦ä¸ä¸€è‡´</h3><p>å¤šæ–¹è°ƒæŸ¥å‘ç°ï¼šæ˜¯çœŸå®ç½‘é¡µæ˜¯å¸¦ <code>cookie</code> è®¿é—®çš„ï¼Œæˆ‘ä»¬çš„æ¨¡æ‹Ÿç¯å¢ƒæ²¡æœ‰ <code>cookie</code></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>åœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­æ·»åŠ  <code>cookie</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsdom = <span class="built_in">require</span>(<span class="string">&quot;jsdom&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; JSDOM &#125; = jsdom;</span><br><span class="line"><span class="keyword">const</span> dom = <span class="keyword">new</span> JSDOM(<span class="string">`&lt;!DOCTYPE html&gt;&lt;p&gt;Hello world&lt;/p&gt;`</span>);</span><br><span class="line"><span class="built_in">window</span> = <span class="built_in">global</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">document</span> = dom.window.document;</span><br><span class="line"><span class="keyword">var</span> params = &#123;</span><br><span class="line">    <span class="attr">location</span>:&#123;</span><br><span class="line">        <span class="attr">hash</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">hostname</span>: <span class="string">&quot;www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">href</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">origin</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathname</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">port</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">protocol</span>: <span class="string">&quot;https:&quot;</span>,</span><br><span class="line">        <span class="attr">search</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">navigator</span>:&#123;</span><br><span class="line">        <span class="attr">appCodeName</span>: <span class="string">&quot;Mozilla&quot;</span>,</span><br><span class="line">        <span class="attr">appName</span>: <span class="string">&quot;Netscape&quot;</span>,</span><br><span class="line">        <span class="attr">appVersion</span>: <span class="string">&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">cookieEnabled</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">deviceMemory</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">doNotTrack</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">hardwareConcurrency</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="attr">language</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">        <span class="attr">languages</span>: [<span class="string">&quot;zh-CN&quot;</span>, <span class="string">&quot;zh&quot;</span>],</span><br><span class="line">        <span class="attr">maxTouchPoints</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">onLine</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">platform</span>: <span class="string">&quot;Win32&quot;</span>,</span><br><span class="line">        <span class="attr">product</span>: <span class="string">&quot;Gecko&quot;</span>,</span><br><span class="line">        <span class="attr">productSub</span>: <span class="string">&quot;20030107&quot;</span>,</span><br><span class="line">        <span class="attr">userAgent</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;</span>,</span><br><span class="line">        <span class="attr">vendor</span>: <span class="string">&quot;Google Inc.&quot;</span>,</span><br><span class="line">        <span class="attr">vendorSub</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;screen&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">availHeight</span>: <span class="number">1040</span>,</span><br><span class="line">        <span class="attr">availLeft</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">availTop</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">availWidth</span>: <span class="number">1920</span>,</span><br><span class="line">        <span class="attr">colorDepth</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">1080</span>,</span><br><span class="line">        <span class="attr">pixelDepth</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">1920</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(<span class="built_in">window</span>,params);</span><br><span class="line"><span class="built_in">window</span>.document = <span class="built_in">document</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params">name, value, seconds</span>) </span>&#123;</span><br><span class="line">    seconds = seconds || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> expires = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (seconds != <span class="number">0</span> ) &#123;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    date.setTime(date.getTime()+(seconds*<span class="number">1000</span>));</span><br><span class="line">    expires = <span class="string">&quot;; expires=&quot;</span>+date.toGMTString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.cookie = name+<span class="string">&quot;=&quot;</span>+<span class="built_in">escape</span>(value)+expires+<span class="string">&quot;; path=/&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠŠè‡ªå·±æµè§ˆå™¨çš„çœŸå® cookie å¤åˆ¶è¿‡æ¥å³å¯</span></span><br><span class="line">cookies = <span class="string">&quot;s_v_web_id=xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> cookie <span class="keyword">of</span> cookies.split(<span class="string">&quot;;&quot;</span>))&#123;</span><br><span class="line">    tmp = cookie.split(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">    setCookie(tmp[<span class="number">0</span>],tmp[<span class="number">1</span>],<span class="number">1800</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ----------è¿™é‡Œæ˜¯å¤åˆ¶çš„è¿‘ 500 è¡Œä»£ç  ----------</span></span><br><span class="line"><span class="keyword">var</span> _typeof = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator ? <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">: <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f &amp;&amp; <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; f.constructor === <span class="built_in">Symbol</span> &amp;&amp; f !== <span class="built_in">Symbol</span>.prototype ? <span class="string">&quot;symbol&quot;</span> : <span class="keyword">typeof</span> f</span><br><span class="line">&#125;</span><br><span class="line">;</span><br><span class="line">TAC = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">f, a, b, d, c, r</span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(),</span><br><span class="line">TAC(<span class="string">&quot;484e4f4a4......&quot;</span>, []);</span><br><span class="line"><span class="comment">// ----------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.byted_acrawler &amp;&amp; <span class="built_in">window</span>.byted_acrawler.init(&#123;</span><br><span class="line">    <span class="attr">aid</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">dfp</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">sign = <span class="built_in">window</span>.byted_acrawler.sign(&#123;<span class="attr">url</span>:<span class="string">&quot;https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=1594869246&amp;max_behot_time_tmp=1594869246&amp;tadrequire=true&amp;as=A1B5EF51300180F&amp;cp=5F10A138508FDE1&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(sign);</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¸€ä¸‹ï¼Œç»ˆäºï¼å¾—åˆ°äº†å®Œæ•´çš„ <code>_signature</code> å€¼:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_02B4Z6wo00f01jc-omQAAIBByk4GctL5ZYo3PKbAANLr40OHsHg8RRe1BK03uca1smyI5DA3wElBPDGI.KcAotMiY1IOIhstbtN3bZIM9xRX0NzP.PoYAaq0JjXmU5cIgLSE03L.57r1BQkJe6</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰æƒ…æè¦&quot;&gt;&lt;a href=&quot;#å‰æƒ…æè¦&quot; class=&quot;headerlink&quot; title=&quot;å‰æƒ…æè¦&quot;&gt;&lt;/a&gt;å‰æƒ…æè¦&lt;/h2&gt;&lt;div class=&quot;note danger flat&quot;&gt;&lt;p&gt;çˆ¬è™«å…·æœ‰æ—¶æ•ˆæ€§ï¼Œæ­¤ç¯‡æ–‡ç« ä»£ç ä¸ä¸€å®šé•¿æœŸæœ‰æ•ˆï¼Œä½†æ˜¯è§£å†³æ–¹æ¡ˆé€šç”¨ã€‚&lt;</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    <category term="js é€†å‘" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/js-%E9%80%86%E5%90%91/"/>
    
    
    <category term="js é€†å‘" scheme="https://sitoi.cn/tags/js-%E9%80%86%E5%90%91/"/>
    
    <category term="ä»Šæ—¥å¤´æ¡" scheme="https://sitoi.cn/tags/%E4%BB%8A%E6%97%A5%E5%A4%B4%E6%9D%A1/"/>
    
  </entry>
  
  <entry>
    <title>MongoEngine å¸¸ç”¨è¯­æ³•æ±‡æ€»</title>
    <link href="https://sitoi.cn/posts/24744.html"/>
    <id>https://sitoi.cn/posts/24744.html</id>
    <published>2020-06-13T14:54:17.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MongoEngine-æŸ¥è¯¢"><a href="#MongoEngine-æŸ¥è¯¢" class="headerlink" title="MongoEngine æŸ¥è¯¢"></a>MongoEngine æŸ¥è¯¢</h2><h3 id="è¿‡æ»¤æŸ¥è¯¢"><a href="#è¿‡æ»¤æŸ¥è¯¢" class="headerlink" title="è¿‡æ»¤æŸ¥è¯¢"></a>è¿‡æ»¤æŸ¥è¯¢</h3><p>å¯ä»¥é€šè¿‡è°ƒç”¨ <code>QuerySet</code> å¯¹è±¡çš„å…³é”®å­—å‚æ•°æ¥å¯¹æ•°æ®æŸ¥è¯¢è¿›è¡Œè¿‡æ»¤ï¼Œå…³é”®å­—æŸ¥è¯¢ä¸­çš„é”®å’Œä½ æƒ³è¦æŸ¥è¯¢çš„ <code>Document</code> ä¸­çš„å­—æ®µä¸€è‡´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users = User.objects(name=<span class="string">&#x27;sitoi&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¯¹äºå†…åµŒdocumentçš„å­—æ®µå¯ä»¥ä½¿ç”¨ <code>__</code> æ¥ä»£æ›¿å¯¹è±¡å±æ€§è®¿é—®è¯­æ³•ä¸­çš„ . è¿›è¡Œè®¿é—®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pages = Page.objects(author__country=<span class="string">&#x27;chine&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ“ä½œç¬¦"><a href="#æŸ¥è¯¢æ“ä½œç¬¦" class="headerlink" title="æŸ¥è¯¢æ“ä½œç¬¦"></a>æŸ¥è¯¢æ“ä½œç¬¦</h3><p>åœ¨æŸ¥è¯¢ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨æ“ä½œç¬¦ï¼Œåªè¦å°†å…¶åŠ åœ¨å…³é”®å­—çš„åŒä¸‹åˆ’çº¿ <code>__</code> ä¹‹åå³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">young_users = Users.objects(age__lte=<span class="number">18</span>)</span><br></pre></td></tr></table></figure><p>å¯ç”¨çš„è¿ç®—ç¬¦å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="center">ç¬¦å·</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">ne</td><td align="center">ä¸ç­‰äº <code>â‰ </code></td></tr><tr><td align="center">lt</td><td align="center">å°äº <code>&lt;</code></td></tr><tr><td align="center">lte</td><td align="center">å°äºç­‰äº <code>â‰¤</code></td></tr><tr><td align="center">gt</td><td align="center">å¤§äº <code>&gt;</code></td></tr><tr><td align="center">gte</td><td align="center">å¤§äºç­‰äº <code>â‰¥</code></td></tr><tr><td align="center">not</td><td align="center">å¦å®šä¸€ä¸ªæ ‡å‡†çš„æ£€æŸ¥ï¼Œéœ€è¦ç”¨åœ¨å…¶ä»–æ“ä½œç¬¦ä¹‹å‰(e.g. <code>Q(age__not__mod=5)</code>)</td></tr><tr><td align="center">in</td><td align="center">å€¼åœ¨ <code>list</code> ä¸­</td></tr><tr><td align="center">nin</td><td align="center">å€¼ä¸åœ¨ <code>list</code> ä¸­</td></tr><tr><td align="center">mod</td><td align="center"><code>value % x == y</code>, å…¶ä¸­ <code>x</code> å’Œ <code>y</code> ä¸ºç»™å®šçš„å€¼</td></tr><tr><td align="center">all</td><td align="center"><code>list</code> é‡Œé¢æ‰€æœ‰çš„å€¼</td></tr><tr><td align="center">size</td><td align="center">æ•°ç»„çš„å¤§å°</td></tr><tr><td align="center">exists</td><td align="center">å­˜åœ¨è¿™ä¸ªå€¼</td></tr></tbody></table><h3 id="å­—ç¬¦ä¸²æŸ¥è¯¢"><a href="#å­—ç¬¦ä¸²æŸ¥è¯¢" class="headerlink" title="å­—ç¬¦ä¸²æŸ¥è¯¢"></a>å­—ç¬¦ä¸²æŸ¥è¯¢</h3><p>ä»¥ä¸‹æ“ä½œç¬¦å¯ä»¥å¿«æ·çš„è¿›è¡Œ<code>æ­£åˆ™æŸ¥è¯¢</code>ï¼š</p><table><thead><tr><th align="center">ç¬¦å·</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">exact</td><td align="center">å­—ç¬¦ä¸²å‹å­—æ®µå®Œå…¨åŒ¹é…è¿™ä¸ªå€¼</td></tr><tr><td align="center">iexact</td><td align="center">å­—ç¬¦ä¸²å‹å­—æ®µå®Œå…¨åŒ¹é…è¿™ä¸ªå€¼ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰</td></tr><tr><td align="center">contains</td><td align="center">å­—ç¬¦ä¸²å­—æ®µåŒ…å«è¿™ä¸ªå€¼</td></tr><tr><td align="center">icontains</td><td align="center">å­—ç¬¦ä¸²å­—æ®µåŒ…å«è¿™ä¸ªå€¼ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰</td></tr><tr><td align="center">startswith</td><td align="center">å­—ç¬¦ä¸²å­—æ®µç”±è¿™ä¸ªå€¼å¼€å¤´</td></tr><tr><td align="center">istartswith</td><td align="center">å­—ç¬¦ä¸²å­—æ®µç”±è¿™ä¸ªå€¼å¼€å¤´ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰</td></tr><tr><td align="center">endswith</td><td align="center">å­—ç¬¦ä¸²å­—æ®µç”±è¿™ä¸ªå€¼ç»“å°¾</td></tr><tr><td align="center">iendswith</td><td align="center">å­—ç¬¦ä¸²å­—æ®µç”±è¿™ä¸ªå€¼ç»“å°¾ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰</td></tr><tr><td align="center">match</td><td align="center">æ‰§è¡Œ <code>$elemMatch</code> æ“ä½œï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ä¸­çš„ <code>document</code> å®ä¾‹</td></tr></tbody></table><h3 id="åˆ—è¡¨æŸ¥è¯¢"><a href="#åˆ—è¡¨æŸ¥è¯¢" class="headerlink" title="åˆ—è¡¨æŸ¥è¯¢"></a>åˆ—è¡¨æŸ¥è¯¢</h3><p>å¯¹äºå¤§å¤šæ•°å­—æ®µï¼Œè¿™ç§è¯­æ³•ä¼šæŸ¥è¯¢å‡ºé‚£äº›å­—æ®µä¸ç»™å‡ºçš„å€¼ç›¸åŒ¹é…çš„ <code>document</code>ï¼Œä½†æ˜¯å½“ä¸€ä¸ªå­—æ®µå¼•ç”¨ <code>ListField</code> çš„æ—¶å€™ï¼Œè€Œåªä¼šæä¾›ä¸€æ¡æ•°æ®ï¼Œé‚£ä¹ˆåŒ…å«è¿™æ¡æ•°æ®çš„å°±ä¼šè¢«åŒ¹é…ä¸Šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Page</span>(<span class="params">Document</span>):</span></span><br><span class="line">    tags = ListField(StringField())</span><br><span class="line"></span><br><span class="line">Page.objects(tags=<span class="string">&#x27;coding&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="åŸå§‹æŸ¥è¯¢"><a href="#åŸå§‹æŸ¥è¯¢" class="headerlink" title="åŸå§‹æŸ¥è¯¢"></a>åŸå§‹æŸ¥è¯¢</h3><p>ä½ å¯ä»¥é€šè¿‡ <code>__raw__</code> å‚æ•°æ¥ä½¿ç”¨ä¸€ä¸ªåŸå§‹çš„ <code>PyMongo</code> è¯­å¥æ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿™æ ·å¯ä»¥è¿›è¡ŒåŸå§‹çš„å®Œæ•´æŸ¥è¯¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Page.objects(__raw__=&#123;<span class="string">&#x27;tags&#x27;</span>: <span class="string">&#x27;coding&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><h3 id="é™åˆ¶å’Œè·³è¿‡ç»“æœ"><a href="#é™åˆ¶å’Œè·³è¿‡ç»“æœ" class="headerlink" title="é™åˆ¶å’Œè·³è¿‡ç»“æœ"></a>é™åˆ¶å’Œè·³è¿‡ç»“æœ</h3><p>å°±åƒä¼ ç»Ÿçš„ <code>ORM</code> ä¸€æ ·ï¼Œä½ æœ‰æ—¶å€™éœ€è¦é™åˆ¶è¿”å›çš„ç»“æœçš„æ•°é‡ï¼Œæˆ–è€…éœ€è¦è·³è¿‡ä¸€å®šæ•°é‡çš„ç»“æœã€‚<code>QuerySet</code> é‡Œé¢å¯ä»¥ä½¿ç”¨ <code>limit()</code> å’Œ <code>skip()</code> è¿™ä¸¤ä¸ªæ–¹æ³•æ¥å®ç°ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨æ•°ç»„åˆ‡å‰²çš„è¯­æ³•ï¼š</p><h4 id="é™åˆ¶å‰-5-ä¸ª"><a href="#é™åˆ¶å‰-5-ä¸ª" class="headerlink" title="é™åˆ¶å‰ 5 ä¸ª"></a>é™åˆ¶å‰ 5 ä¸ª</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users = User.objects[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure><h4 id="è·³è¿‡å‰5ä¸ª"><a href="#è·³è¿‡å‰5ä¸ª" class="headerlink" title="è·³è¿‡å‰5ä¸ª"></a>è·³è¿‡å‰5ä¸ª</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users = User.objects[<span class="number">5</span>:]</span><br></pre></td></tr></table></figure><h4 id="å–-10-åˆ°-15-ä¸ª"><a href="#å–-10-åˆ°-15-ä¸ª" class="headerlink" title="å– 10 åˆ° 15 ä¸ª"></a>å– 10 åˆ° 15 ä¸ª</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">users = User.objects[<span class="number">10</span>:<span class="number">15</span>]</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥æŒ‡å®šè®©æŸ¥è¯¢è¿”å›ä¸€ä¸ªç»“æœã€‚å¦‚æœè¿™ä¸ªæ¡åœ¨æ•°æ®åº“ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šå¼•å‘ <code>IndexError</code> é”™è¯¯ ã€‚ä½¿ç”¨ <code>first()</code> æ–¹æ³•åœ¨æ•°æ®ä¸å­˜åœ¨çš„æ—¶å€™ä¼šè¿”å› <code>None</code>ï¼š</p><h3 id="é»˜è®¤-Document-æŸ¥è¯¢"><a href="#é»˜è®¤-Document-æŸ¥è¯¢" class="headerlink" title="é»˜è®¤ Document æŸ¥è¯¢"></a>é»˜è®¤ Document æŸ¥è¯¢</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Document</code> çš„ <code>objects</code> å±æ€§è¿”å›ä¸€ä¸ªä¸€ä¸ª <code>QuerySet</code> å¯¹è±¡ï¼Œå®ƒå¹¶æ²¡æœ‰è¿›è¡Œä»»ä½•ç­›é€‰å’Œè¿‡æ»¤ï¼Œå®ƒè¿”å›çš„æ˜¯æ‰€æœ‰çš„æ•°æ®å¯¹è±¡ã€‚è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡ç»™ä¸€ä¸ª <code>document</code> å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥ä¿®æ”¹ ä¸€ä¸ª <code>queryset</code> ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦ä¸¤å‚æ•° <code>__doc_cls</code> å’Œ <code>queryset</code> ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®šä¹‰è¿™ä¸ªæ–¹æ³•çš„ <code>Document</code> ç±»åï¼ˆä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´ï¼Œè¿™ä¸ªæ–¹æ³•åƒæ˜¯ä¸€ä¸ª <code>classmethod()</code> è€Œä¸æ˜¯ä¸€èˆ¬çš„æ–¹æ³•ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆå§‹åŒ–çš„ <code>queryset</code>ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦ä½¿ç”¨ <code>queryset_manager()</code> æ¥è£…é¥°æ¥å®ƒï¼Œä½¿å¾—å®ƒè¢«è®¤å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogPost</span>(<span class="params">Document</span>):</span></span><br><span class="line">    title = StringField()</span><br><span class="line">    date = DateTimeField()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @queryset_manager</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objects</span>(<span class="params">doc_cls, queryset</span>):</span></span><br><span class="line">        <span class="keyword">return</span> queryset.order_by(<span class="string">&#x27;-date&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä½ ä¸ç”¨è°ƒç”¨ <code>objects</code> æ–¹æ³•ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰æ›´å¤šçš„ç®¡ç†æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogPost</span>(<span class="params">Document</span>):</span></span><br><span class="line">    title = StringField()</span><br><span class="line">    published = BooleanField()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @queryset_manager</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">live_posts</span>(<span class="params">doc_cls, queryset</span>):</span></span><br><span class="line">        <span class="keyword">return</span> queryset.<span class="built_in">filter</span>(published=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">BlogPost(title=<span class="string">&#x27;test1&#x27;</span>, published=<span class="literal">False</span>).save()</span><br><span class="line">BlogPost(title=<span class="string">&#x27;test2&#x27;</span>, published=<span class="literal">True</span>).save()</span><br><span class="line"><span class="keyword">assert</span> <span class="built_in">len</span>(BlogPost.objects) == <span class="number">2</span></span><br><span class="line"><span class="keyword">assert</span> <span class="built_in">len</span>(BlogPost.live_posts()) == <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰-QuerySets"><a href="#è‡ªå®šä¹‰-QuerySets" class="headerlink" title="è‡ªå®šä¹‰ QuerySets"></a>è‡ªå®šä¹‰ QuerySets</h3><p>å½“ä½ æƒ³è‡ªå·±å®šä¹‰ä¸€äº›æ–¹æ³•æ¥è¿‡æ»¤ <code>document</code> çš„æ—¶å€™ï¼Œç»§æ‰¿ <code>QuerySet</code> ç±»å¯¹ä½ æ¥è¯´å°±æ˜¯ä¸ªå¥½çš„æ–¹æ³•ã€‚ä¸ºäº†åœ¨ <code>document</code> é‡Œé¢ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>QuerySet</code> ç±»ï¼Œä½ å¯ä»¥åœ¨ document é‡Œçš„ meta å­—å…¸é‡Œè®¾ç½® <code>queryset_class</code> çš„å€¼æ¥å®ç°å®ƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AwesomerQuerySet</span>(<span class="params">QuerySet</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_awesome</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">filter</span>(awesome=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Page</span>(<span class="params">Document</span>):</span></span><br><span class="line">    meta = &#123;<span class="string">&#x27;queryset_class&#x27;</span>: AwesomerQuerySet&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Page.objects.get_awesome()</span><br></pre></td></tr></table></figure><h3 id="Aggregation-èšåˆ"><a href="#Aggregation-èšåˆ" class="headerlink" title="Aggregation èšåˆ"></a>Aggregation èšåˆ</h3><p>MongoDB æä¾›äº†å¼€ç®±å³ç”¨çš„èšåˆæ–¹æ³•ï¼Œä½†æ²¡æœ‰ <code>RDBMS</code> æä¾›çš„é‚£æ ·å¤šã€‚<code>MongoEngine</code> æä¾›äº†ä¸€ä¸ªåŒ…è£…è¿‡çš„å†…ç½®çš„æ–¹æ³•ï¼ŒåŒæ—¶è‡ªèº«æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå®ƒå®ç°äº†åœ¨æ•°æ®åº“æœåŠ¡ä¸Šæ‰§è¡Œçš„ <code>Javascript</code> ä»£ç çš„åŠŸèƒ½ã€‚</p><h5 id="ç»“æœè®¡æ•°"><a href="#ç»“æœè®¡æ•°" class="headerlink" title="ç»“æœè®¡æ•°"></a>ç»“æœè®¡æ•°</h5><p>å°±åƒé™åˆ¶å’Œè·³è¿‡ç»“æœä¸€æ ·ï¼Œ <code>QuerySet</code> å¯¹è±¡æä¾›äº†ç”¨æ¥è®¡æ•°çš„æ–¹æ³• - <code>count()</code>ï¼Œä¸è¿‡è¿˜æœ‰ä¸€ä¸ªæ›´ <code>Pythonic</code> çš„æ–¹æ³•æ¥å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num_users = <span class="built_in">len</span>(User.objects)</span><br></pre></td></tr></table></figure><h5 id="æ›´å¤šåŠŸèƒ½"><a href="#æ›´å¤šåŠŸèƒ½" class="headerlink" title="æ›´å¤šåŠŸèƒ½"></a>æ›´å¤šåŠŸèƒ½</h5><p>å½“ä½ æƒ³ä¸º <code>document</code> çš„ç‰¹å®šçš„å­—æ®µçš„æ•°é‡è®¡æ•°çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ <code>sum()</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yearly_expense = Employee.objects.<span class="built_in">sum</span>(<span class="string">&#x27;salary&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å½“ä½ æƒ³æ±‚æŸä¸ªå­—æ®µçš„å¹³å‡å€¼çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ <code>average()</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mean_age = User.objects.average(<span class="string">&#x27;age&#x27;</span>)</span><br></pre></td></tr></table></figure><p>MongoEngine æä¾›äº†ä¸€ä¸ªæ–¹æ³•æ¥è·å–ä¸€ä¸ªåœ¨é›†åˆé‡Œ <code>item</code> çš„é¢‘ç‡ - <code>item_frequencies()</code>ã€‚ä¸‹é¢ä¸€ä¸ªä¾‹å­å¯ä»¥ç”Ÿæˆ <code>tag-clouds</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span>(<span class="params">Document</span>):</span></span><br><span class="line">    tag = ListField(StringField())</span><br><span class="line"></span><br><span class="line">tag_freqs = Article.objects.item_frequencies(<span class="string">&#x27;tag&#x27;</span>, normalize=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</span><br><span class="line">top_tags = <span class="built_in">sorted</span>(tag_freqs.items(), key=itemgetter(<span class="number">1</span>), reverse=<span class="literal">True</span>)[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><h3 id="é«˜çº§æŸ¥è¯¢"><a href="#é«˜çº§æŸ¥è¯¢" class="headerlink" title="é«˜çº§æŸ¥è¯¢"></a>é«˜çº§æŸ¥è¯¢</h3><p>æœ‰æ—¶å€™ä½¿ç”¨å…³é”®å­—å‚æ•°è¿”å›çš„ <code>QuerySet</code> ä¸èƒ½å®Œå…¨æ»¡è¶³ä½ çš„æŸ¥è¯¢éœ€è¦ã€‚ä¾‹å¦‚æœ‰æ—¶å€™ä½ éœ€è¦å°†çº¦æŸæ¡ä»¶è¿›è¡Œ <code>and</code>ï¼Œ<code>or</code> çš„æ“ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>MongoEngine</code> æä¾›çš„ <code>Q</code> ç±»æ¥å®ç°ï¼Œä¸€ä¸ª <code>Q</code> ç±»ä»£è¡¨äº†ä¸€ä¸ªæŸ¥è¯¢çš„ä¸€éƒ¨åˆ†ï¼Œé‡Œé¢çš„å‚æ•°è®¾ç½®ä¸ä½ æŸ¥è¯¢ <code>document</code> çš„æ—¶å€™ç›¸åŒã€‚å»ºç«‹ä¸€ä¸ªå¤æ‚æŸ¥è¯¢çš„æ—¶å€™ï¼Œä½ éœ€è¦ç”¨ <code>&amp;</code> æˆ– <code>|</code> æ“ä½œç¬¦å°† <code>Q</code> å¯¹è±¡è¿ç»“èµ·æ¥ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mongoengine.queryset.visitor <span class="keyword">import</span> Q</span><br><span class="line"></span><br><span class="line">Post.objects(Q(published=<span class="literal">True</span>) | Q(publish_date__lte=datetime.now()))</span><br><span class="line"></span><br><span class="line">Post.objects((Q(featured=<span class="literal">True</span>) &amp; Q(hits__gte=<span class="number">1000</span>)) | Q(hits__gte=<span class="number">5000</span>))</span><br></pre></td></tr></table></figure><h3 id="Atomic-updatesï¼ˆåŸå­æ›´æ–°ï¼‰"><a href="#Atomic-updatesï¼ˆåŸå­æ›´æ–°ï¼‰" class="headerlink" title="Atomic updatesï¼ˆåŸå­æ›´æ–°ï¼‰"></a>Atomic updatesï¼ˆåŸå­æ›´æ–°ï¼‰</h3><p>MongoDB æ–‡æ¡£ å¯ä»¥é€šè¿‡ <code>QuerySet</code> ä¸Šçš„ <code>update_one()</code>ã€<code>update()</code>ã€<code>modify()</code> æ–¹æ³•è‡ªåŠ¨æ›´æ–°ã€‚ä¸‹é¢å‡ ç§æ“ä½œç¬¦å¯ä»¥è¢«ç”¨åˆ°è¿™å‡ ç§æ–¹æ³•ä¸Šï¼š</p><table><thead><tr><th align="center">ç¬¦å·</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">set</td><td align="center">è®¾ç½®æˆä¸€ä¸ªæŒ‡å®šçš„å€¼</td></tr><tr><td align="center">unset</td><td align="center">åˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„å€¼</td></tr><tr><td align="center">inc</td><td align="center">å°†å€¼åŠ ä¸Šä¸€ä¸ªç»™å®šçš„æ•°</td></tr><tr><td align="center">dec</td><td align="center">å°†å€¼å‡å»ä¸€ä¸ªç»™å®šçš„æ•°</td></tr><tr><td align="center">push</td><td align="center">åœ¨ <code>list</code> ä¸­æ·»åŠ ä¸€ä¸ªå€¼</td></tr><tr><td align="center">push_all</td><td align="center">åœ¨ <code>list</code> ä¸­æ·»åŠ ä¸€ä¸ªå€¼</td></tr><tr><td align="center">pop</td><td align="center">ç§»é™¤list çš„ç¬¬ä¸€é¡¹æˆ–æœ€åä¸€é¡¹ï¼ˆæ ¹æ® <code>pop__&lt;field&gt;=val</code> ä¸­ <code>val</code> çš„å€¼å†³å®šåˆ é™¤ç¬¬ä¸€é¡¹è¿˜æ˜¯æœ€åä¸€é¡¹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<code>val</code> ä¸ºè´Ÿåˆ™åˆ é™¤ç¬¬ä¸€é¡¹ï¼Œä¸ºæ­£åˆ™åˆ é™¤æœ€åä¸€é¡¹ï¼Œå‚è§ï¼š<a href="https://docs.mongodb.com/manual/reference/operator/update/pop/">mongodb $pop</a></td></tr><tr><td align="center">pull</td><td align="center">ä» <code>list</code> é‡Œé¢ç§»é™¤ä¸€ä¸ªå€¼</td></tr><tr><td align="center">pull_all</td><td align="center">ä» <code>list</code> é‡Œé¢ç§»é™¤ä¸ªå€¼</td></tr><tr><td align="center">add_to_set</td><td align="center">å½“è¦æ·»åŠ çš„å€¼ä¸åœ¨ <code>list</code> ä¸­æ—¶ï¼Œæ·»åŠ è¿™ä¸ªå€¼</td></tr></tbody></table><p>åŸå­æ›´æ–°çš„è¯­æ³•ç±»ä¼¼äºæŸ¥è¯¢è¯­æ³•ï¼ŒåŒºåˆ«åœ¨äºä¿®é¥°æ“ä½œç¬¦ä½äºå­—æ®µä¹‹å‰ï¼Œè€Œä¸æ˜¯ä¹‹åï¼š</p><p>ç»™æ–‡æ¡£ä¸­çš„ <code>page_views</code> å­—æ®µä¸ŠåŠ ä¸€ä¸ªç»™å®šçš„æ•°å­—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">post = BlogPost(title=<span class="string">&#x27;Test&#x27;</span>, page_views=<span class="number">0</span>, tags=[<span class="string">&#x27;database&#x27;</span>])</span><br><span class="line">post.save()</span><br><span class="line">BlogPost.objects(<span class="built_in">id</span>=post.<span class="built_in">id</span>).update_one(inc__page_views=<span class="number">1</span>)</span><br><span class="line">post.reload()  <span class="comment"># the document has been changed, so we need to reload it</span></span><br><span class="line">post.page_views</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><p>å°†æ–‡æ¡£ä¸­çš„ <code>title</code> æ›´æ–°ä¸º <code>Example Post</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BlogPost.objects(<span class="built_in">id</span>=post.<span class="built_in">id</span>).update_one(set__title=<span class="string">&#x27;Example Post&#x27;</span>)</span><br><span class="line">post.reload()</span><br><span class="line">post.title</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;Example Post&#x27;</span><br></pre></td></tr></table></figure><p>å¾€æ–‡æ¡£ä¸­ <code>tags</code> çš„åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BlogPost.objects(<span class="built_in">id</span>=post.<span class="built_in">id</span>).update_one(push__tags=<span class="string">&#x27;nosql&#x27;</span>)</span><br><span class="line">post.reload()</span><br><span class="line">post.tags</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;database&#x27;, &#x27;nosql&#x27;]</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ä¿®é¥°æ“ä½œç¬¦ï¼Œåˆ™é»˜è®¤ä¸º <code>$set</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BlogPost.objects(<span class="built_in">id</span>=post.<span class="built_in">id</span>).update(title=<span class="string">&#x27;Example Post&#x27;</span>)</span><br><span class="line">BlogPost.objects(<span class="built_in">id</span>=post.<span class="built_in">id</span>).update(set__title=<span class="string">&#x27;Example Post&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æœåŠ¡å™¨ç«¯-JavaScript-æ‰§è¡Œ"><a href="#æœåŠ¡å™¨ç«¯-JavaScript-æ‰§è¡Œ" class="headerlink" title="æœåŠ¡å™¨ç«¯ JavaScript æ‰§è¡Œ"></a>æœåŠ¡å™¨ç«¯ JavaScript æ‰§è¡Œ</h3><p>å¯ä»¥å†™ <code>Javascript</code> å‡½æ•°ï¼Œç„¶åå‘é€åˆ°æœåŠ¡å™¨æ¥æ‰§è¡Œã€‚å®ƒè¿”å›ç»“æœæ˜¯ <code>Javascript</code> å‡½æ•°çš„è¿”å›å€¼ã€‚è¿™ä¸ªåŠŸèƒ½æ˜¯é€šè¿‡ <code>QuerySet()</code> å¯¹è±¡çš„ <code>exec_js()</code> æ–¹æ³•å®ç°ã€‚ä¼ é€’ä¸€ä¸ªåŒ…å«ä¸€ä¸ª <code>Javascript</code> å‡½æ•°çš„å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p><p>å…¶ä½™ä½ç½®çš„å‚æ•°çš„åå­—å­—æ®µå°†ä½œä¸ºæ‚¨çš„ <code>Javascript</code> å‡½æ•°çš„å‚æ•°ä¼ é€’è¿‡å»ã€‚</p><p>åœ¨ <code>JavaScript</code> å‡½æ•°èŒƒå›´ä¸­ï¼Œä¸€äº›å˜é‡å¯ç”¨ï¼š</p><ul><li><p><code>collection</code> â€“ å¯¹åº”ä½¿ç”¨çš„ <code>Document</code> ç±»çš„é›†åˆçš„åç§°</p></li><li><p><code>query</code> â€“ ä¸€ä¸ª <code>QuerySet</code> å¯¹è±¡</p></li><li><p><code>options</code> â€“ ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«è¦ä¼ é€’ç»™ <code>exec_js()</code> å‡½æ•°çš„ä¸€äº›å‚æ•°</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_field</span>(<span class="params">document, field_name, include_negatives=<span class="literal">True</span></span>):</span></span><br><span class="line">    code = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    function(sumField) &#123;</span></span><br><span class="line"><span class="string">        var total = 0.0;</span></span><br><span class="line"><span class="string">        db[collection].find(query).forEach(function(doc) &#123;</span></span><br><span class="line"><span class="string">            var val = doc[sumField];</span></span><br><span class="line"><span class="string">            if (val &gt;= 0.0 || options.includeNegatives) &#123;</span></span><br><span class="line"><span class="string">                total += val;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;);</span></span><br><span class="line"><span class="string">        return total;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    options = &#123;<span class="string">&#x27;includeNegatives&#x27;</span>: include_negatives&#125;</span><br><span class="line">    <span class="keyword">return</span> document.objects.exec_js(code, field_name, **options)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;MongoEngine-æŸ¥è¯¢&quot;&gt;&lt;a href=&quot;#MongoEngine-æŸ¥è¯¢&quot; class=&quot;headerlink&quot; title=&quot;MongoEngine æŸ¥è¯¢&quot;&gt;&lt;/a&gt;MongoEngine æŸ¥è¯¢&lt;/h2&gt;&lt;h3 id=&quot;è¿‡æ»¤æŸ¥è¯¢&quot;&gt;&lt;a href=&quot;#è¿‡</summary>
      
    
    
    
    <category term="æ•°æ®åº“" scheme="https://sitoi.cn/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="NoSQL" scheme="https://sitoi.cn/tags/NoSQL/"/>
    
    <category term="PyMongo" scheme="https://sitoi.cn/tags/PyMongo/"/>
    
    <category term="MongoEngine" scheme="https://sitoi.cn/tags/MongoEngine/"/>
    
    <category term="CRUD" scheme="https://sitoi.cn/tags/CRUD/"/>
    
    <category term="Python" scheme="https://sitoi.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>PyMongo å¸¸ç”¨è¯­æ³•æ±‡æ€»</title>
    <link href="https://sitoi.cn/posts/37062.html"/>
    <id>https://sitoi.cn/posts/37062.html</id>
    <published>2020-06-10T14:53:42.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å»ºç«‹åŸºæœ¬è¿æ¥"><a href="#å»ºç«‹åŸºæœ¬è¿æ¥" class="headerlink" title="å»ºç«‹åŸºæœ¬è¿æ¥"></a>å»ºç«‹åŸºæœ¬è¿æ¥</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œè¿æ¥ MongoDB æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ PyMongo åº“ä¸­çš„ MongoClient æ¥å»ºç«‹è¿æ¥ï¼Œé»˜è®¤è¿æ¥çš„åœ°å€æ˜¯ <code>mongodb://localhost:27017</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line"></span><br><span class="line">clinet = MongoClient(<span class="string">&quot;mongodb://localhost:27017&quot;</span>)</span><br><span class="line">db = clinet[<span class="string">&quot;demo&quot;</span>]</span><br><span class="line">col = db[<span class="string">&quot;demo&quot;</span>]</span><br></pre></td></tr></table></figure><p>é¦–å…ˆé€šè¿‡ä¸Šé¢çš„ä»£ç åˆ›å»º æ•°æ®åº“å¯¹è±¡å’Œé›†åˆå¯¹è±¡ã€‚</p><ul><li>æ•°æ®åº“è¿æ¥å®ä¾‹ <code>MongoClient</code> </li><li>æ•°æ®åº“å®ä¾‹ <code>demo</code></li><li>é›†åˆå®ä¾‹ <code>demo</code></li></ul><h2 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h2><h3 id="æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯"><a href="#æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯"></a>æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server_info = clinet.server_info()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>:<span class="string">&quot;4.2.6&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gitVersion&quot;</span>:<span class="string">&quot;20364840b8f1af16917e4c23c1b5f5efd8b352f8&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;modules&quot;</span>:[</span><br><span class="line"></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;allocator&quot;</span>:<span class="string">&quot;tcmalloc&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;javascriptEngine&quot;</span>:<span class="string">&quot;mozjs&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sysInfo&quot;</span>:<span class="string">&quot;deprecated&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;versionArray&quot;</span>:[</span><br><span class="line">        <span class="number">4</span>,</span><br><span class="line">        <span class="number">2</span>,</span><br><span class="line">        <span class="number">6</span>,</span><br><span class="line">        <span class="number">0</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;openssl&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;running&quot;</span>:<span class="string">&quot;OpenSSL 1.1.1  11 Sep 2018&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;compiled&quot;</span>:<span class="string">&quot;OpenSSL 1.1.1  11 Sep 2018&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;buildEnvironment&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;distmod&quot;</span>:<span class="string">&quot;ubuntu1804&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;distarch&quot;</span>:<span class="string">&quot;x86_64&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;cc&quot;</span>:<span class="string">&quot;/opt/mongodbtoolchain/v3/bin/gcc: gcc (GCC) 8.2.0&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;ccflags&quot;</span>:<span class="string">&quot;-fno-omit-frame-pointer -fno-strict-aliasing -ggdb -pthread -Wall -Wsign-compare -Wno-unknown-pragmas -Winvalid-pch -Werror -O2 -Wno-unused-local-typedefs -Wno-unused-function -Wno-deprecated-declarations -Wno-unused-const-variable -Wno-unused-but-set-variable -Wno-missing-braces -fstack-protector-strong -fno-builtin-memcmp&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;cxx&quot;</span>:<span class="string">&quot;/opt/mongodbtoolchain/v3/bin/g++: g++ (GCC) 8.2.0&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;cxxflags&quot;</span>:<span class="string">&quot;-Woverloaded-virtual -Wno-maybe-uninitialized -fsized-deallocation -std=c++17&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;linkflags&quot;</span>:<span class="string">&quot;-pthread -Wl,-z,now -rdynamic -Wl,--fatal-warnings -fstack-protector-strong -fuse-ld=gold -Wl,--build-id -Wl,--hash-style=gnu -Wl,-z,noexecstack -Wl,--warn-execstack -Wl,-z,relro&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;target_arch&quot;</span>:<span class="string">&quot;x86_64&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;target_os&quot;</span>:<span class="string">&quot;linux&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;bits&quot;</span>:<span class="number">64</span>,</span><br><span class="line">    <span class="attr">&quot;debug&quot;</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;maxBsonObjectSize&quot;</span>:<span class="number">16777216</span>,</span><br><span class="line">    <span class="attr">&quot;storageEngines&quot;</span>:[</span><br><span class="line">        <span class="string">&quot;biggie&quot;</span>,</span><br><span class="line">        <span class="string">&quot;devnull&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ephemeralForTest&quot;</span>,</span><br><span class="line">        <span class="string">&quot;wiredTiger&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;ok&quot;</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºå½“å‰æ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å"><a href="#æ˜¾ç¤ºå½“å‰æ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å" class="headerlink" title="æ˜¾ç¤ºå½“å‰æ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å"></a>æ˜¾ç¤ºå½“å‰æ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">database_names = clinet.list_database_names()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;admin&#x27;, &#x27;config&#x27;, &#x27;demo&#x27;, &#x27;local&#x27;]</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ²¡æœ‰ <code>demo</code> æ•°æ®åº“æ˜¯å› ä¸ºåœ¨æ²¡æœ‰æ’å…¥æ•°æ®çš„æƒ…å†µä¸‹æ˜¯ä¸ä¼šè¢«åˆ›å»ºçš„ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æ’å…¥æ•°æ®ï¼Œä¼šè‡ªåŠ¨çš„åˆ›å»ºæ•°æ®åº“ä»¥åŠå¯¹åº”çš„é›†åˆã€‚</p></blockquote><h3 id="æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸Šçš„å…¨éƒ¨é›†åˆå"><a href="#æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸Šçš„å…¨éƒ¨é›†åˆå" class="headerlink" title="æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸Šçš„å…¨éƒ¨é›†åˆå"></a>æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸Šçš„å…¨éƒ¨é›†åˆå</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">collection_names = db.list_collection_names()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;demo&#x27;]</span><br></pre></td></tr></table></figure><h2 id="æ’å…¥æ–‡æ¡£"><a href="#æ’å…¥æ–‡æ¡£" class="headerlink" title="æ’å…¥æ–‡æ¡£"></a>æ’å…¥æ–‡æ¡£</h2><h3 id="æ’å…¥ä¸€ä¸ªæ–‡æ¡£"><a href="#æ’å…¥ä¸€ä¸ªæ–‡æ¡£" class="headerlink" title="æ’å…¥ä¸€ä¸ªæ–‡æ¡£"></a>æ’å…¥ä¸€ä¸ªæ–‡æ¡£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">demo = &#123;</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">22</span>,</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Sitoi-blog&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tags&quot;</span>: [<span class="string">&quot;man&quot;</span>, <span class="string">&quot;spider&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">demo_id = col.insert_one(demo).inserted_id</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5ee3806bb6c75d29c94aa9fc</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥å¤šä¸ªæ–‡æ¡£"><a href="#æ’å…¥å¤šä¸ªæ–‡æ¡£" class="headerlink" title="æ’å…¥å¤šä¸ªæ–‡æ¡£"></a>æ’å…¥å¤šä¸ªæ–‡æ¡£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">demos = [</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;bash&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">30</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;bash&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;python&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">50</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;language&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;mongodb&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">80</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;NoSQL&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;pymongo&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">97</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Python for MongoDB&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">]</span><br><span class="line">demo_ids = col.insert_many(demos).inserted_ids</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;)]</span><br></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢æ–‡æ¡£"><a href="#æŸ¥è¯¢æ–‡æ¡£" class="headerlink" title="æŸ¥è¯¢æ–‡æ¡£"></a>æŸ¥è¯¢æ–‡æ¡£</h2><h3 id="æŸ¥è¯¢å•ä¸ªæ–‡æ¡£"><a href="#æŸ¥è¯¢å•ä¸ªæ–‡æ¡£" class="headerlink" title="æŸ¥è¯¢å•ä¸ªæ–‡æ¡£"></a>æŸ¥è¯¢å•ä¸ªæ–‡æ¡£</h3><p>è¿”å›æŸ¥è¯¢çš„<code>ç¬¬ä¸€æ¡</code>ï¼Œ<code>find_one</code> é‡Œé¢å¯ä»¥å¡«å†™<code>æŸ¥è¯¢æ¡ä»¶</code></p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>filter</code>ï¼šæŸ¥è¯¢æ¡ä»¶</li><li><code>projection</code>ï¼šæ˜ å°„æ¡ä»¶</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">result = col.find_one(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢å¤šä¸ªæ–‡æ¡£"><a href="#æŸ¥è¯¢å¤šä¸ªæ–‡æ¡£" class="headerlink" title="æŸ¥è¯¢å¤šä¸ªæ–‡æ¡£"></a>æŸ¥è¯¢å¤šä¸ªæ–‡æ¡£</h3><p>è¿”å›ä¸€ä¸ªå¯¹è±¡,<code>find</code> é‡Œé¢å¯ä»¥å¡«å†™ <code>æŸ¥è¯¢æ¡ä»¶</code></p><ul><li><code>filter</code>ï¼šæŸ¥è¯¢æ¡ä»¶</li><li><code>projection</code>ï¼šæ˜ å°„æ¡ä»¶</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">result = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;pymongo.cursor.Cursor object at 0x7f695ed56c88&gt;</span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡<code>For</code>å¾ªç¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">results = col.find()</span><br><span class="line"><span class="keyword">for</span> result <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>éå†ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;_id&#x27;</span>: ObjectId(<span class="string">&#x27;5ee3806bb6c75d29c94aa9fc&#x27;</span>), <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;Sitoi&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">22</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;Sitoi-blog&#x27;</span>, <span class="string">&#x27;tags&#x27;</span>: [<span class="string">&#x27;man&#x27;</span>, <span class="string">&#x27;spider&#x27;</span>]&#125;</span><br><span class="line">&#123;<span class="string">&#x27;_id&#x27;</span>: ObjectId(<span class="string">&#x27;5ee3806bb6c75d29c94aa9fd&#x27;</span>), <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;blog&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;blog&#x27;</span>, <span class="string">&#x27;text&#x27;</span>: <span class="string">&#x27;Sitoi Blog&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;_id&#x27;</span>: ObjectId(<span class="string">&#x27;5ee3806bb6c75d29c94aa9fe&#x27;</span>), <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;bash&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">30</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;bash&#x27;</span>, <span class="string">&#x27;text&#x27;</span>: <span class="string">&#x27;Sitoi Blog&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;_id&#x27;</span>: ObjectId(<span class="string">&#x27;5ee3806bb6c75d29c94aa9ff&#x27;</span>), <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">50</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;language&#x27;</span>, <span class="string">&#x27;text&#x27;</span>: <span class="string">&#x27;Sitoi Blog&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;_id&#x27;</span>: ObjectId(<span class="string">&#x27;5ee3806bb6c75d29c94aaa00&#x27;</span>), <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;mongodb&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">80</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;NoSQL&#x27;</span>, <span class="string">&#x27;text&#x27;</span>: <span class="string">&#x27;Sitoi Blog&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;_id&#x27;</span>: ObjectId(<span class="string">&#x27;5ee3806bb6c75d29c94aaa01&#x27;</span>), <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;pymongo&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">97</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;Python for MongoDB&#x27;</span>, <span class="string">&#x27;text&#x27;</span>: <span class="string">&#x27;Sitoi Blog&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šè¿”å›å“ªäº›å­—æ®µ"><a href="#æŒ‡å®šè¿”å›å“ªäº›å­—æ®µ" class="headerlink" title="æŒ‡å®šè¿”å›å“ªäº›å­—æ®µ"></a>æŒ‡å®šè¿”å›å“ªäº›å­—æ®µ</h3><p>é€šè¿‡ <code>projection</code> å‚æ•°æ§åˆ¶è¿”å›çš„ç»“æœåŒ…å«å“ªäº›å­—æ®µ</p><h4 id="ç¤ºä¾‹ä¸€ï¼šæ‰€æœ‰å­—æ®µ"><a href="#ç¤ºä¾‹ä¸€ï¼šæ‰€æœ‰å­—æ®µ" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šæ‰€æœ‰å­—æ®µ"></a>ç¤ºä¾‹ä¸€ï¼šæ‰€æœ‰å­—æ®µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">results = col.find()</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;, &#x27;age&#x27;: 30, &#x27;title&#x27;: &#x27;bash&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), &#x27;author&#x27;: &#x27;python&#x27;, &#x27;age&#x27;: 50, &#x27;title&#x27;: &#x27;language&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), &#x27;author&#x27;: &#x27;mongodb&#x27;, &#x27;age&#x27;: 80, &#x27;title&#x27;: &#x27;NoSQL&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;), &#x27;author&#x27;: &#x27;pymongo&#x27;, &#x27;age&#x27;: 97, &#x27;title&#x27;: &#x27;Python for MongoDB&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹äºŒï¼šç”¨å­—å…¸æŒ‡å®šè¦æ˜¾ç¤ºçš„å“ªå‡ ä¸ªå­—æ®µ"><a href="#ç¤ºä¾‹äºŒï¼šç”¨å­—å…¸æŒ‡å®šè¦æ˜¾ç¤ºçš„å“ªå‡ ä¸ªå­—æ®µ" class="headerlink" title="ç¤ºä¾‹äºŒï¼šç”¨å­—å…¸æŒ‡å®šè¦æ˜¾ç¤ºçš„å“ªå‡ ä¸ªå­—æ®µ"></a>ç¤ºä¾‹äºŒï¼šç”¨å­—å…¸æŒ‡å®šè¦æ˜¾ç¤ºçš„å“ªå‡ ä¸ªå­—æ®µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">projection = &#123;<span class="string">&quot;_id&quot;</span>: <span class="literal">True</span>, <span class="string">&quot;author&quot;</span>: <span class="literal">True</span>&#125;</span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), &#x27;author&#x27;: &#x27;python&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), &#x27;author&#x27;: &#x27;mongodb&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;), &#x27;author&#x27;: &#x27;pymongo&#x27;&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹ä¸‰ï¼šç”¨å­—å…¸æŒ‡å®šå»æ‰å“ªäº›å­—æ®µ"><a href="#ç¤ºä¾‹ä¸‰ï¼šç”¨å­—å…¸æŒ‡å®šå»æ‰å“ªäº›å­—æ®µ" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šç”¨å­—å…¸æŒ‡å®šå»æ‰å“ªäº›å­—æ®µ"></a>ç¤ºä¾‹ä¸‰ï¼šç”¨å­—å…¸æŒ‡å®šå»æ‰å“ªäº›å­—æ®µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">projection = &#123;<span class="string">&quot;_id&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;author&quot;</span>: <span class="literal">False</span>&#125;</span><br><span class="line">results = col.find(query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br><span class="line">&#123;&#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;age&#x27;: 30, &#x27;title&#x27;: &#x27;bash&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;age&#x27;: 50, &#x27;title&#x27;: &#x27;language&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;age&#x27;: 80, &#x27;title&#x27;: &#x27;NoSQL&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;age&#x27;: 97, &#x27;title&#x27;: &#x27;Python for MongoDB&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹å››ï¼šç”¨åˆ—è¡¨æŒ‡å®šè¦æ˜¾ç¤ºå“ªå‡ ä¸ªå­—æ®µ"><a href="#ç¤ºä¾‹å››ï¼šç”¨åˆ—è¡¨æŒ‡å®šè¦æ˜¾ç¤ºå“ªå‡ ä¸ªå­—æ®µ" class="headerlink" title="ç¤ºä¾‹å››ï¼šç”¨åˆ—è¡¨æŒ‡å®šè¦æ˜¾ç¤ºå“ªå‡ ä¸ªå­—æ®µ"></a>ç¤ºä¾‹å››ï¼šç”¨åˆ—è¡¨æŒ‡å®šè¦æ˜¾ç¤ºå“ªå‡ ä¸ªå­—æ®µ</h4><blockquote><p><code>_id</code> ä¸æŒ‡å®šä¸º <code>False</code> åˆ™å¿…å®šè¿”å›</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">projection = [<span class="string">&quot;author&quot;</span>, <span class="string">&quot;title&quot;</span>]</span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;title&#x27;: &#x27;blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;, &#x27;title&#x27;: &#x27;bash&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), &#x27;author&#x27;: &#x27;python&#x27;, &#x27;title&#x27;: &#x27;language&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), &#x27;author&#x27;: &#x27;mongodb&#x27;, &#x27;title&#x27;: &#x27;NoSQL&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;), &#x27;author&#x27;: &#x27;pymongo&#x27;, &#x27;title&#x27;: &#x27;Python for MongoDB&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šæŸ¥è¯¢æ¡ä»¶"><a href="#æŒ‡å®šæŸ¥è¯¢æ¡ä»¶" class="headerlink" title="æŒ‡å®šæŸ¥è¯¢æ¡ä»¶"></a>æŒ‡å®šæŸ¥è¯¢æ¡ä»¶</h3><table><thead><tr><th align="center">ç¬¦å·</th><th align="center">å«ä¹‰</th><th align="center">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="center">$lt</td><td align="center">å°äº</td><td align="center">{â€˜ageâ€™: {â€˜$ltâ€™: 18}}</td></tr><tr><td align="center">$gt</td><td align="center">å¤§äº</td><td align="center">{â€˜ageâ€™: {â€˜$gtâ€™: 18}}</td></tr><tr><td align="center">$lte</td><td align="center">å°äºç­‰äº</td><td align="center">{â€˜ageâ€™: {â€˜$lteâ€™: 18}}</td></tr><tr><td align="center">$gte</td><td align="center">å¤§äºç­‰äº</td><td align="center">{â€˜ageâ€™: {â€˜$gteâ€™: 18}}</td></tr><tr><td align="center">$ne</td><td align="center">ä¸ç­‰äº</td><td align="center">{â€˜ageâ€™: {â€˜$neâ€™: 18}}</td></tr><tr><td align="center">$in</td><td align="center">åœ¨èŒƒå›´å†…</td><td align="center">{â€˜ageâ€™: {â€˜$inâ€™: [18, 22]}}</td></tr><tr><td align="center">$nin</td><td align="center">ä¸åœ¨èŒƒå›´å†…</td><td align="center">{â€˜ageâ€™: {â€˜$ninâ€™: [18, 22]}}</td></tr><tr><td align="center">$all</td><td align="center">æ¡ä»¶å†…æ‰€æœ‰å€¼</td><td align="center">{â€˜ageâ€™: {â€˜$allâ€™: [18, 22]}}</td></tr></tbody></table><h4 id="ç¤ºä¾‹ï¼šæŒ‡å®šèŒƒå›´ï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äº"><a href="#ç¤ºä¾‹ï¼šæŒ‡å®šèŒƒå›´ï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äº" class="headerlink" title="ç¤ºä¾‹ï¼šæŒ‡å®šèŒƒå›´ï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äº"></a>ç¤ºä¾‹ï¼šæŒ‡å®šèŒƒå›´ï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äº</h4><blockquote><p>10 &lt;= å¹´é¾„ &lt;= 30 </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$gte&quot;</span>: <span class="number">10</span>, <span class="string">&quot;$lte&quot;</span>: <span class="number">30</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;, &#x27;age&#x27;: 30, &#x27;title&#x27;: &#x27;bash&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="å¹¶åˆ—æŸ¥è¯¢"><a href="#å¹¶åˆ—æŸ¥è¯¢" class="headerlink" title="å¹¶åˆ—æŸ¥è¯¢"></a>å¹¶åˆ—æŸ¥è¯¢</h3><h4 id="ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶"><a href="#ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶"></a>ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶"><a href="#ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶" class="headerlink" title="ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶"></a>ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é”™è¯¯ï¼š</span></span><br><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$gt&quot;</span>: <span class="number">10</span>&#125;, <span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$lt&quot;</span>: <span class="number">20</span>&#125;&#125;</span><br><span class="line"><span class="comment"># æ­£ç¡®ï¼š</span></span><br><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$gte&quot;</span>: <span class="number">10</span>, <span class="string">&quot;$lte&quot;</span>: <span class="number">20</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="æˆ–æ¡ä»¶æŸ¥è¯¢"><a href="#æˆ–æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æˆ–æ¡ä»¶æŸ¥è¯¢"></a>æˆ–æ¡ä»¶æŸ¥è¯¢</h3><h4 id="ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶"><a href="#ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶"></a>ç¤ºä¾‹ä¸€ï¼šä¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;$or&quot;</span>: [&#123;<span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;, &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;blog&quot;</span>&#125;]&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶"><a href="#ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶" class="headerlink" title="ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶"></a>ç¤ºä¾‹äºŒï¼šç›¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;$or&quot;</span>: [&#123;<span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;, &#123;<span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;]&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="å­—æ®µæ˜¯å¦å­˜åœ¨"><a href="#å­—æ®µæ˜¯å¦å­˜åœ¨" class="headerlink" title="å­—æ®µæ˜¯å¦å­˜åœ¨"></a>å­—æ®µæ˜¯å¦å­˜åœ¨</h3><h4 id="ç¤ºä¾‹ä¸€ï¼šå­—æ®µä¸å­˜åœ¨"><a href="#ç¤ºä¾‹ä¸€ï¼šå­—æ®µä¸å­˜åœ¨" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šå­—æ®µä¸å­˜åœ¨"></a>ç¤ºä¾‹ä¸€ï¼šå­—æ®µä¸å­˜åœ¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;text&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹äºŒï¼šå­—æ®µå­˜åœ¨"><a href="#ç¤ºä¾‹äºŒï¼šå­—æ®µå­˜åœ¨" class="headerlink" title="ç¤ºä¾‹äºŒï¼šå­—æ®µå­˜åœ¨"></a>ç¤ºä¾‹äºŒï¼šå­—æ®µå­˜åœ¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;$ne&quot;</span>: <span class="literal">None</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;, &#x27;age&#x27;: 30, &#x27;title&#x27;: &#x27;bash&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), &#x27;author&#x27;: &#x27;python&#x27;, &#x27;age&#x27;: 50, &#x27;title&#x27;: &#x27;language&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), &#x27;author&#x27;: &#x27;mongodb&#x27;, &#x27;age&#x27;: 80, &#x27;title&#x27;: &#x27;NoSQL&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;), &#x27;author&#x27;: &#x27;pymongo&#x27;, &#x27;age&#x27;: 97, &#x27;title&#x27;: &#x27;Python for MongoDB&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="æ­£åˆ™æŸ¥è¯¢"><a href="#æ­£åˆ™æŸ¥è¯¢" class="headerlink" title="æ­£åˆ™æŸ¥è¯¢"></a>æ­£åˆ™æŸ¥è¯¢</h3><p>è¿™é‡Œä½¿ç”¨ <code>$regex</code> æ¥æŒ‡å®šæ­£åˆ™åŒ¹é…ï¼Œ<code>^S.*</code> ä»£è¡¨ä»¥ <code>S</code> å¼€å¤´çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚<br>è¿™é‡Œå°†ä¸€äº›åŠŸèƒ½ç¬¦å·å†å½’ç±»ä¸ºä¸‹è¡¨ã€‚</p><table><thead><tr><th align="center">ç¬¦å·</th><th align="center">å«ä¹‰</th><th align="center">ç¤ºä¾‹</th><th align="center">ç¤ºä¾‹å«ä¹‰</th></tr></thead><tbody><tr><td align="center">$regex</td><td align="center">åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td><td align="center"><code>&#123;&#39;author&#39;: &#123;&#39;$regex&#39;: &#39;^S.*&#39;&#125;&#125;</code></td><td align="center"><code>author</code> ä»¥ <code>S</code> å¼€å¤´</td></tr><tr><td align="center">$exists</td><td align="center">å±æ€§æ˜¯å¦å­˜åœ¨</td><td align="center"><code>&#123;&#39;author&#39;: &#123;&#39;$exists&#39;: True&#125;&#125;</code></td><td align="center"><code>author</code> å±æ€§å­˜åœ¨</td></tr><tr><td align="center">$type</td><td align="center">ç±»å‹åˆ¤æ–­</td><td align="center"><code>&#123;&#39;age&#39;: &#123;&#39;$type&#39;: &#39;int&#39;&#125;&#125;</code></td><td align="center"><code>age</code> çš„ç±»å‹ä¸º <code>int</code></td></tr><tr><td align="center">$mod</td><td align="center">æ•°å­—æ¨¡æ“ä½œ</td><td align="center"><code>&#123;&#39;age&#39;: &#123;&#39;$mod&#39;: [5, 0]&#125;&#125;</code></td><td align="center">å¹´é¾„æ¨¡ <code>5</code> ä½™ <code>0</code></td></tr><tr><td align="center">$text</td><td align="center">æ–‡æœ¬æŸ¥è¯¢</td><td align="center"><code>&#123;&#39;$text&#39;: &#123;&#39;$search&#39;: &#39;Sitoi&#39;&#125;&#125;</code></td><td align="center">text ç±»å‹çš„å±æ€§ä¸­åŒ…å« <code>Sitoi</code> å­—ç¬¦ä¸²</td></tr><tr><td align="center">$where</td><td align="center">é«˜çº§æ¡ä»¶æŸ¥è¯¢</td><td align="center"><code>&#123;&#39;$where&#39;: &#39;obj.fans_count == obj.follows_count&#39;&#125;</code></td><td align="center">è‡ªèº«ç²‰ä¸æ•°ç­‰äºå…³æ³¨æ•°</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;name&quot;</span>: &#123;<span class="string">&quot;$regex&quot;</span>: <span class="string">&quot;^M.*&quot;</span>&#125;&#125;</span><br><span class="line">projection = &#123;&#125;</span><br><span class="line">result = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br></pre></td></tr></table></figure><h3 id="è®¡æ•°"><a href="#è®¡æ•°" class="headerlink" title="è®¡æ•°"></a>è®¡æ•°</h3><p>æ ¹æ®æŸ¥è¯¢æ¡ä»¶è®¡æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">count = col.count_documents(<span class="built_in">filter</span>=query)</span><br></pre></td></tr></table></figure><p>æ–‡æ¡£æ¡æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure><h3 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h3><p>ç”¨ <code>List</code> åµŒå¥— <code>tuple</code> çš„æ–¹å¼å³å¯ï¼š[(<code>å­—æ®µå1</code>ï¼Œ<code>æ’åºæ–¹å¼1</code>),(<code>å­—æ®µå2</code>ï¼Œ<code>æ’åºæ–¹å¼2</code>)]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = col.find().sort([(<span class="string">&quot;author&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;title&quot;</span>, <span class="number">1</span>)])</span><br></pre></td></tr></table></figure><p>æ’åºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;, &#x27;age&#x27;: 30, &#x27;title&#x27;: &#x27;bash&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), &#x27;author&#x27;: &#x27;mongodb&#x27;, &#x27;age&#x27;: 80, &#x27;title&#x27;: &#x27;NoSQL&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;), &#x27;author&#x27;: &#x27;pymongo&#x27;, &#x27;age&#x27;: 97, &#x27;title&#x27;: &#x27;Python for MongoDB&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), &#x27;author&#x27;: &#x27;python&#x27;, &#x27;age&#x27;: 50, &#x27;title&#x27;: &#x27;language&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="è·³è¿‡"><a href="#è·³è¿‡" class="headerlink" title="è·³è¿‡"></a>è·³è¿‡</h3><p>è·³è¿‡ä¸€ä¸ª</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = col.find().skip(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fd&#x27;), &#x27;author&#x27;: &#x27;blog&#x27;, &#x27;age&#x27;: 18, &#x27;title&#x27;: &#x27;blog&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fe&#x27;), &#x27;author&#x27;: &#x27;bash&#x27;, &#x27;age&#x27;: 30, &#x27;title&#x27;: &#x27;bash&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9ff&#x27;), &#x27;author&#x27;: &#x27;python&#x27;, &#x27;age&#x27;: 50, &#x27;title&#x27;: &#x27;language&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa00&#x27;), &#x27;author&#x27;: &#x27;mongodb&#x27;, &#x27;age&#x27;: 80, &#x27;title&#x27;: &#x27;NoSQL&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aaa01&#x27;), &#x27;author&#x27;: &#x27;pymongo&#x27;, &#x27;age&#x27;: 97, &#x27;title&#x27;: &#x27;Python for MongoDB&#x27;, &#x27;text&#x27;: &#x27;Sitoi Blog&#x27;&#125;</span><br></pre></td></tr></table></figure><h3 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h3><p>é™åˆ¶æœ€å¤šè¿”å›å¤šå°‘ä¸ª</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = col.find().limit(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;_id&#x27;: ObjectId(&#x27;5ee3806bb6c75d29c94aa9fc&#x27;), &#x27;author&#x27;: &#x27;Sitoi&#x27;, &#x27;age&#x27;: 22, &#x27;title&#x27;: &#x27;Sitoi-blog&#x27;, &#x27;tags&#x27;: [&#x27;man&#x27;, &#x27;spider&#x27;]&#125;</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°æ–‡æ¡£"><a href="#æ›´æ–°æ–‡æ¡£" class="headerlink" title="æ›´æ–°æ–‡æ¡£"></a>æ›´æ–°æ–‡æ¡£</h2><h3 id="æ›´æ–°å•ä¸ªæ–‡æ¡£"><a href="#æ›´æ–°å•ä¸ªæ–‡æ¡£" class="headerlink" title="æ›´æ–°å•ä¸ªæ–‡æ¡£"></a>æ›´æ–°å•ä¸ªæ–‡æ¡£</h3><p><code>update_one</code> åªæ›´æ–°ç¬¬ä¸€ä¸ªæ–‡æ¡£ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>filter</code>ï¼šéœ€è¦æ›´æ–°çš„æ•°æ®çš„æŸ¥è¯¢æ¡ä»¶</li><li><code>update</code>ï¼šåŒ…å«æ›´æ–°çš„æ–¹å¼ï¼Œä»¥åŠæ›´æ–°çš„å†…å®¹</li><li><code>upsert</code>ï¼šä¸å­˜åœ¨æ˜¯å¦æ’å…¥ï¼Œæ›´æ–°çš„æ•°æ®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line">update = &#123;<span class="string">&quot;$set&quot;</span>: &#123;<span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;&#125;</span><br><span class="line">modified_count = col.update_one(<span class="built_in">filter</span>=query, update=update, upsert=<span class="literal">False</span>).modified_count</span><br></pre></td></tr></table></figure><p>æ›´æ–°æ¡æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°å¤šä¸ªæ–‡æ¡£"><a href="#æ›´æ–°å¤šä¸ªæ–‡æ¡£" class="headerlink" title="æ›´æ–°å¤šä¸ªæ–‡æ¡£"></a>æ›´æ–°å¤šä¸ªæ–‡æ¡£</h3><blockquote><p>ä½¿ç”¨æ–¹æ³•å’Œ <code>update_one</code> ä¸€è‡´</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;</span><br><span class="line">update = &#123;<span class="string">&quot;$set&quot;</span>: &#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi PyMongo&quot;</span>&#125;&#125;</span><br><span class="line">modified_count = col.update_many(<span class="built_in">filter</span>=query, update=update, upsert=<span class="literal">False</span>).modified_count</span><br></pre></td></tr></table></figure><p>æ›´æ–°æ¡æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤æ–‡æ¡£"><a href="#åˆ é™¤æ–‡æ¡£" class="headerlink" title="åˆ é™¤æ–‡æ¡£"></a>åˆ é™¤æ–‡æ¡£</h2><h3 id="åˆ é™¤å•ä¸ªæ–‡æ¡£"><a href="#åˆ é™¤å•ä¸ªæ–‡æ¡£" class="headerlink" title="åˆ é™¤å•ä¸ªæ–‡æ¡£"></a>åˆ é™¤å•ä¸ªæ–‡æ¡£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>&#125;</span><br><span class="line">result = col.delete_one(<span class="built_in">filter</span>=query).deleted_count</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ¡æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å¤šä¸ªæ–‡æ¡£"><a href="#åˆ é™¤å¤šä¸ªæ–‡æ¡£" class="headerlink" title="åˆ é™¤å¤šä¸ªæ–‡æ¡£"></a>åˆ é™¤å¤šä¸ªæ–‡æ¡£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">query = &#123;&#125;</span><br><span class="line">results = col.delete_many(<span class="built_in">filter</span>=query).deleted_count</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ¡æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h2 id="é™„å½•ï¼ˆä»£ç ï¼‰"><a href="#é™„å½•ï¼ˆä»£ç ï¼‰" class="headerlink" title="é™„å½•ï¼ˆä»£ç ï¼‰"></a>é™„å½•ï¼ˆä»£ç ï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line"></span><br><span class="line">clinet = MongoClient(<span class="string">&quot;mongodb://localhost:27017&quot;</span>)</span><br><span class="line"></span><br><span class="line">db = clinet[<span class="string">&quot;demo&quot;</span>]</span><br><span class="line">col = db[<span class="string">&quot;demo&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯&quot;</span>)</span><br><span class="line">server_info = clinet.server_info()</span><br><span class="line"><span class="built_in">print</span>(server_info)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ˜¾ç¤ºå½“å‰æ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å&quot;</span>)</span><br><span class="line">database_names = clinet.list_database_names()</span><br><span class="line"><span class="built_in">print</span>(database_names)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸Šçš„å…¨éƒ¨é›†åˆå&quot;</span>)</span><br><span class="line">collection_names = db.list_collection_names()</span><br><span class="line"><span class="built_in">print</span>(collection_names)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ’å…¥ä¸€ä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">demo = &#123;</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">22</span>,</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Sitoi-blog&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tags&quot;</span>: [<span class="string">&quot;man&quot;</span>, <span class="string">&quot;spider&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">demo_id = col.insert_one(demo).inserted_id</span><br><span class="line"><span class="built_in">print</span>(demo_id)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ’å…¥å¤šä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">demos = [</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;blog&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;bash&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">30</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;bash&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;python&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">50</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;language&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;mongodb&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">80</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;NoSQL&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;pymongo&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">97</span>, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;Python for MongoDB&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;,</span><br><span class="line">]</span><br><span class="line">demo_ids = col.insert_many(demos).inserted_ids</span><br><span class="line"><span class="built_in">print</span>(demo_ids)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æŸ¥è¯¢å•ä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">result = col.find_one(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æŸ¥è¯¢å¤šä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">result = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> result:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ‰€æœ‰å­—æ®µ&quot;</span>)</span><br><span class="line"></span><br><span class="line">results = col.find()</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ç”¨å­—å…¸æŒ‡å®šè¦æ˜¾ç¤ºçš„å“ªå‡ ä¸ªå­—æ®µ&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">projection = &#123;<span class="string">&quot;_id&quot;</span>: <span class="literal">True</span>, <span class="string">&quot;author&quot;</span>: <span class="literal">True</span>&#125;</span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ç”¨å­—å…¸æŒ‡å®šå»æ‰å“ªäº›å­—æ®µ&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">projection = &#123;<span class="string">&quot;_id&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;author&quot;</span>: <span class="literal">False</span>&#125;</span><br><span class="line">results = col.find(query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ç”¨åˆ—è¡¨æŒ‡å®šè¦æ˜¾ç¤ºå“ªå‡ ä¸ªå­—æ®µ&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">projection = [<span class="string">&quot;author&quot;</span>, <span class="string">&quot;title&quot;</span>]</span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æŒ‡å®šèŒƒå›´ï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äº&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$gte&quot;</span>: <span class="number">10</span>, <span class="string">&quot;$lte&quot;</span>: <span class="number">30</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ä¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ç›¸åŒå­—æ®µï¼Œå¹¶åˆ—æ¡ä»¶&quot;</span>)</span><br><span class="line"><span class="comment"># é”™è¯¯ï¼š</span></span><br><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$gt&quot;</span>: <span class="number">50</span>&#125;, <span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$lt&quot;</span>: <span class="number">100</span>&#125;&#125;</span><br><span class="line"><span class="comment"># æ­£ç¡®ï¼š</span></span><br><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: &#123;<span class="string">&quot;$gte&quot;</span>: <span class="number">10</span>, <span class="string">&quot;$lte&quot;</span>: <span class="number">20</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ä¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;$or&quot;</span>: [&#123;<span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;, &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;blog&quot;</span>&#125;]&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; ç›¸åŒå­—æ®µï¼Œæˆ–æ¡ä»¶&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;$or&quot;</span>: [&#123;<span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;, &#123;<span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;]&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; å­—æ®µä¸å­˜åœ¨&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;text&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; å­—æ®µå­˜åœ¨&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;$ne&quot;</span>: <span class="literal">None</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ­£åˆ™æŸ¥è¯¢&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;author&quot;</span>: &#123;<span class="string">&quot;$regex&quot;</span>: <span class="string">&quot;^S.*&quot;</span>&#125;&#125;</span><br><span class="line">projection = <span class="literal">None</span></span><br><span class="line">results = col.find(<span class="built_in">filter</span>=query, projection=projection)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; è®¡æ•°&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">count = col.count_documents(<span class="built_in">filter</span>=query)</span><br><span class="line"><span class="built_in">print</span>(count)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ’åº&quot;</span>)</span><br><span class="line">results = col.find().sort([(<span class="string">&quot;author&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;title&quot;</span>, -<span class="number">1</span>)])</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; è·³è¿‡&quot;</span>)</span><br><span class="line">results = col.find().skip(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; é™åˆ¶&quot;</span>)</span><br><span class="line">results = col.find().limit(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> results:</span><br><span class="line">    <span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ›´æ–°å•ä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line">update = &#123;<span class="string">&quot;$set&quot;</span>: &#123;<span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;&#125;</span><br><span class="line">modified_count = col.update_one(<span class="built_in">filter</span>=query, update=update, upsert=<span class="literal">False</span>).modified_count</span><br><span class="line"><span class="built_in">print</span>(modified_count)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; æ›´æ–°å¤šä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi Blog&quot;</span>&#125;</span><br><span class="line">update = &#123;<span class="string">&quot;$set&quot;</span>: &#123;<span class="string">&quot;text&quot;</span>: <span class="string">&quot;Sitoi PyMongo&quot;</span>&#125;&#125;</span><br><span class="line">modified_count = col.update_many(<span class="built_in">filter</span>=query, update=update, upsert=<span class="literal">False</span>).modified_count</span><br><span class="line"><span class="built_in">print</span>(modified_count)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; åˆ é™¤å•ä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">query = &#123;<span class="string">&quot;author&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>&#125;</span><br><span class="line">delete_count = col.delete_one(<span class="built_in">filter</span>=query).deleted_count</span><br><span class="line"><span class="built_in">print</span>(delete_count)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;&gt;&gt; åˆ é™¤å¤šä¸ªæ–‡æ¡£&quot;</span>)</span><br><span class="line">query = &#123;&#125;</span><br><span class="line">delete_count = col.delete_many(<span class="built_in">filter</span>=query).deleted_count</span><br><span class="line"><span class="built_in">print</span>(delete_count)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å»ºç«‹åŸºæœ¬è¿æ¥&quot;&gt;&lt;a href=&quot;#å»ºç«‹åŸºæœ¬è¿æ¥&quot; class=&quot;headerlink&quot; title=&quot;å»ºç«‹åŸºæœ¬è¿æ¥&quot;&gt;&lt;/a&gt;å»ºç«‹åŸºæœ¬è¿æ¥&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œè¿æ¥ MongoDB æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ PyMongo åº“ä¸­çš„ MongoClie</summary>
      
    
    
    
    <category term="æ•°æ®åº“" scheme="https://sitoi.cn/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MongoDB" scheme="https://sitoi.cn/tags/MongoDB/"/>
    
    <category term="NoSQL" scheme="https://sitoi.cn/tags/NoSQL/"/>
    
    <category term="PyMongo" scheme="https://sitoi.cn/tags/PyMongo/"/>
    
    <category term="CRUD" scheme="https://sitoi.cn/tags/CRUD/"/>
    
    <category term="Python" scheme="https://sitoi.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Fedora å®‰è£… MongoDB æ•™ç¨‹</title>
    <link href="https://sitoi.cn/posts/37161.html"/>
    <id>https://sitoi.cn/posts/37161.html</id>
    <published>2020-06-09T12:04:00.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MongoDB-å®‰è£…"><a href="#MongoDB-å®‰è£…" class="headerlink" title="MongoDB å®‰è£…"></a>MongoDB å®‰è£…</h1><h2 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h2><ul><li>Fedora 29</li></ul><h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><ol><li>å®‰è£… <code>mongodb</code> å’Œ <code>mongodb-server</code></li><li>å¯åŠ¨æœåŠ¡</li></ol><h3 id="å®‰è£…-MongoDB-å’Œ-MongoDB-Server"><a href="#å®‰è£…-MongoDB-å’Œ-MongoDB-Server" class="headerlink" title="å®‰è£… MongoDB å’Œ MongoDB-Server"></a>å®‰è£… MongoDB å’Œ MongoDB-Server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf install mongodb mongodb-server</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h3><p>å¯åŠ¨ <code>mongod</code> æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mongod.service</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> mongod.service</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MongoDB-å®‰è£…&quot;&gt;&lt;a href=&quot;#MongoDB-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;MongoDB å®‰è£…&quot;&gt;&lt;/a&gt;MongoDB å®‰è£…&lt;/h1&gt;&lt;h2 id=&quot;å®‰è£…ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#å®‰è£…ç¯å¢ƒ&quot; class=&quot;head</summary>
      
    
    
    
    <category term="æ•°æ®åº“" scheme="https://sitoi.cn/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="å®‰è£…æ–‡æ¡£" scheme="https://sitoi.cn/tags/%E5%AE%89%E8%A3%85%E6%96%87%E6%A1%A3/"/>
    
    <category term="Linux" scheme="https://sitoi.cn/tags/Linux/"/>
    
    <category term="MongoDB" scheme="https://sitoi.cn/tags/MongoDB/"/>
    
    <category term="NoSQL" scheme="https://sitoi.cn/tags/NoSQL/"/>
    
  </entry>
  
  <entry>
    <title>Squid for Windows å®‰è£…æ•™ç¨‹</title>
    <link href="https://sitoi.cn/posts/53752.html"/>
    <id>https://sitoi.cn/posts/53752.html</id>
    <published>2020-06-09T07:21:59.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½-Squid-for-Windows"><a href="#ä¸‹è½½-Squid-for-Windows" class="headerlink" title="ä¸‹è½½ Squid for Windows"></a>ä¸‹è½½ Squid for Windows</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://squid.diladele.com/">https://squid.diladele.com/</a></p><h2 id="å®‰è£…-squid-æœåŠ¡"><a href="#å®‰è£…-squid-æœåŠ¡" class="headerlink" title="å®‰è£… squid æœåŠ¡"></a>å®‰è£… squid æœåŠ¡</h2><ol><li><p>åŒå‡» <code>squid.msi</code> å®‰è£… squid </p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162038253.png" alt="squid.msi"></p></li><li><p>ç‚¹å‡» <code>Next</code> è¿›å…¥ä¸‹ä¸€æ­¥</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162314774.png" alt="å®‰è£… Squid"></p></li><li><p>å‹¾é€‰ <code>I accept</code> -&gt; ç‚¹å‡» <code>Next</code> è¿›å…¥ä¸‹ä¸€æ­¥</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162334357.png" alt="æ¥å—åè®®"></p></li><li><p>é€‰æ‹©å®‰è£…è·¯å¾„ -&gt; ç‚¹å‡» <code>Next</code> è¿›å…¥ä¸‹ä¸€æ­¥</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162407927.png" alt="é€‰æ‹©å®‰è£…è·¯å¾„"></p></li><li><p>ç‚¹å‡» <code>Install</code> è¿›è¡Œå®‰è£…</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162417741.png" alt="å¼€å§‹å®‰è£…"></p></li><li><p>ç­‰å¾…å®‰è£…å®Œæˆ</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162435862.png" alt="å®‰è£…ä¸­"></p></li><li><p>å®‰è£…å®Œæˆ</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162507517.png" alt="å®Œæˆå®‰è£…"></p></li><li><p>æ£€æµ‹ ç”µè„‘å³ä¸‹æ–¹ <code>Squid for Windows</code> æ˜¯å¦å¯åŠ¨</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200608162538460.png" alt="å®‰è£…å®Œæˆå¹¶è¿è¡Œ"></p></li></ol><h2 id="å®‰è£…å®Œæˆ"><a href="#å®‰è£…å®Œæˆ" class="headerlink" title="å®‰è£…å®Œæˆ"></a>å®‰è£…å®Œæˆ</h2><p>ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ <a href="http://127.0.0.1:3128/">http://127.0.0.1:3128</a>ï¼Œå‡ºç°ä»¥ä¸‹é¡µé¢å°±è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/squid/image-20200609153622275.png" alt="Squid Web"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä¸‹è½½-Squid-for-Windows&quot;&gt;&lt;a href=&quot;#ä¸‹è½½-Squid-for-Windows&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½ Squid for Windows&quot;&gt;&lt;/a&gt;ä¸‹è½½ Squid for Windows&lt;/h2&gt;&lt;</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    <category term="ä»£ç†" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/%E4%BB%A3%E7%90%86/"/>
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="Squid" scheme="https://sitoi.cn/tags/Squid/"/>
    
    <category term="ä»£ç†" scheme="https://sitoi.cn/tags/%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>å¤šæœºåˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„ selenium é›†ç¾¤</title>
    <link href="https://sitoi.cn/posts/19006.html"/>
    <id>https://sitoi.cn/posts/19006.html</id>
    <published>2020-06-09T04:22:14.000Z</published>
    <updated>2021-09-02T01:06:14.136Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿˜æ˜¯çˆ¬è™«é‡Œé¢çš„æŸä¸ªåœºæ™¯éœ€è¦é‡åº¦ä½¿ç”¨ selenium åœºæ™¯ ï¼Œæ‰€ä»¥éœ€è¦èµ·è¿™æ ·ä¸€ä¸ªé›†ç¾¤</p><blockquote><p>å¯¹æ¯”</p></blockquote><ul><li>å•æœºç‰ˆ</li><li>Docker å•æœºç‰ˆ</li><li>Docker å•æœºé›†ç¾¤ç‰ˆ</li><li>Docker åˆ†å¸ƒå¼é›†ç¾¤ç‰ˆ</li></ul><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>selenium</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°±ä½¿ç”¨ä»¥ä¸Šçš„ç¯å¢ƒå’Œæ¨¡å¼</p><h2 id="å•æœºç‰ˆ"><a href="#å•æœºç‰ˆ" class="headerlink" title="å•æœºç‰ˆ"></a>å•æœºç‰ˆ</h2><p>å•æœºæ€ä¹ˆæ“ä½œå‘¢ï¼Œä¸‹è½½ç›¸åº”çš„ <code>webdriver</code>ï¼Œå®‰è£…é…ç½®å‚è€ƒæ•™ç¨‹ <a href="/posts/14489.html">Selenium &amp; ChromeDriver å…¨å¹³å°å®‰è£…æ•™ç¨‹ï¼ˆMacã€Windowsã€Linuxï¼‰</a></p><p>å¯¹äºå°å‹çš„ä½¿ç”¨ç¯å¢ƒï¼Œæ¯”å¦‚å•çº¿ç¨‹æ“ä½œï¼Œæˆ‘ä»¬å®‰è£…å¥½ç¯å¢ƒç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†</p><blockquote><p>ä½¿ç”¨æ¡ˆä¾‹ï¼ˆChromeï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser = webdriver.Chrome()</span><br><span class="line">browser.get(<span class="string">&#x27;https://sitoi.cn/&#x27;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;sitoi.cn.png&quot;</span>)</span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure><h2 id="Docker-å•æœºç‰ˆ"><a href="#Docker-å•æœºç‰ˆ" class="headerlink" title="Docker å•æœºç‰ˆ"></a>Docker å•æœºç‰ˆ</h2><p>ä¿è¯å®‰è£…å¥½ <code>docker</code> å’Œ <code>docker-compose</code> ï¼Œè¿™é‡Œå°±ç›´æ¥ä½¿ç”¨ <code>docker-compose.yml</code> æ–‡ä»¶èµ·ä¸€ä¸ªå®ä¾‹</p><ol><li><p>ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">chrome:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/standalone-chrome:latest</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GRID_TIMEOUT=40</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">4444</span><span class="string">:4444</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>docker-compose.yml</code> æ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure></li><li><p>æ£€æµ‹æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸ</p><p> æµè§ˆå™¨æ‰“å¼€ <a href="http://127.0.0.1:4444/">http://127.0.0.1:4444/</a> å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ hub ç•Œé¢äº†ï¼Œç«¯å£å¯¹åº” <code>docker-compose.yml</code> æ–‡ä»¶å†…çš„ <code>ports</code></p></li><li><p>ä½¿ç”¨æ¡ˆä¾‹ï¼ˆChromeï¼‰</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser = webdriver.Remote(</span><br><span class="line">    command_executor=<span class="string">&#x27;http://127.0.0.1:4444/wd/hub&#x27;</span>,</span><br><span class="line">    desired_capabilities=&#123;</span><br><span class="line">        <span class="string">&#x27;browserName&#x27;</span>: <span class="string">&#x27;chrome&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;version&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;platform&#x27;</span>: <span class="string">&#x27;ANY&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;goog:chromeOptions&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;extensions&#x27;</span>: [],</span><br><span class="line">            <span class="string">&#x27;args&#x27;</span>: [<span class="string">&#x27;--no-sandbox&#x27;</span>, <span class="string">&#x27;-headless&#x27;</span>, <span class="string">&#x27;--disable-dev-shm-usage&#x27;</span>]&#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">browser.get(<span class="string">&quot;https://sitoi.cn&quot;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;sitoi.cn.png&quot;</span>)</span><br><span class="line">browser.quit()</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>å¦‚æœä½ è¦å¼€å¾ˆå¤šä¸ªä¹Ÿå¯ä»¥ï¼Œå‰å°æŒ‚ä¸ª <code>nginx</code> ç„¶åå¯ç”¨å¤šä¸ªä¹‹åé›†ç¾¤</p></blockquote><h2 id="Docker-å•æœºé›†ç¾¤ç‰ˆ"><a href="#Docker-å•æœºé›†ç¾¤ç‰ˆ" class="headerlink" title="Docker å•æœºé›†ç¾¤ç‰ˆ"></a>Docker å•æœºé›†ç¾¤ç‰ˆ</h2><ol><li><p>ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/hub:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;0.0.0.0:4445:4444&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">chrome:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/node-chrome:latest</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">hub</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">HUB_HOST:</span> <span class="string">hub</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">firefox:</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">selenium/node-firefox:latest</span></span><br><span class="line">      <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">      <span class="attr">depends_on:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">hub</span></span><br><span class="line">      <span class="attr">environment:</span></span><br><span class="line">        <span class="attr">HUB_HOST:</span> <span class="string">hub</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>docker-compose.yml</code> æ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure></li><li><p>æ£€æµ‹æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸ</p><p> æµè§ˆå™¨æ‰“å¼€ <a href="http://127.0.0.1:4445/">http://127.0.0.1:4445/</a> å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ hub ç•Œé¢äº†ï¼Œç«¯å£å¯¹åº” <code>docker-compose.yml</code> æ–‡ä»¶å†…çš„ <code>ports</code></p></li></ol><ol start="4"><li><p>ä½¿ç”¨æ¡ˆä¾‹ï¼ˆFirefoxï¼‰</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser = webdriver.Remote(</span><br><span class="line">    command_executor=<span class="string">&#x27;http://127.0.0.1:4445/wd/hub&#x27;</span>,</span><br><span class="line">    desired_capabilities=&#123;</span><br><span class="line">        <span class="string">&#x27;browserName&#x27;</span>: <span class="string">&#x27;firefox&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;version&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;platform&#x27;</span>: <span class="string">&#x27;ANY&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;goog:firefoxOptions&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;extensions&#x27;</span>: [],</span><br><span class="line">            <span class="string">&#x27;args&#x27;</span>: [<span class="string">&#x27;--no-sandbox&#x27;</span>, <span class="string">&#x27;-headless&#x27;</span>, <span class="string">&#x27;--disable-dev-shm-usage&#x27;</span>]&#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">browser.get(<span class="string">&quot;https://sitoi.cn&quot;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;sitoi.cn.png&quot;</span>)</span><br><span class="line">browser.quit()</span><br></pre></td></tr></table></figure></li></ol><h2 id="å¤šæœºé›†ç¾¤"><a href="#å¤šæœºé›†ç¾¤" class="headerlink" title="å¤šæœºé›†ç¾¤"></a>å¤šæœºé›†ç¾¤</h2><p>ä¸ºäº†è§£å†³å•æœºï¼ˆå•æœºé›†ç¾¤ï¼‰æ¨ªå‘æ‰©å±•ä¸è¶³çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ­å»ºåˆ†å¸ƒå¼çš„ selenium é›†ç¾¤ï¼Œå°† hub èŠ‚ç‚¹ å’Œ node èŠ‚ç‚¹æ‹†åˆ†å¼€ï¼Œæ–¹ä¾¿ä»¥åçš„æ¨ªå‘æ‰©å±•ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ æœºå™¨æ¥è§£å†³å•æœºå†…å­˜ç­‰æ€§èƒ½é—®é¢˜ã€‚</p><h3 id="éƒ¨ç½²-hub-èŠ‚ç‚¹"><a href="#éƒ¨ç½²-hub-èŠ‚ç‚¹" class="headerlink" title="éƒ¨ç½² hub èŠ‚ç‚¹"></a>éƒ¨ç½² hub èŠ‚ç‚¹</h3><p>hub èŠ‚ç‚¹å‡è®¾åœ¨ A æœºä¸Šï¼ŒIP åœ°å€ä¸º: <code>10.10.1.1</code></p><ol><li><p>ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/hub:latest</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;0.0.0.0:4446:4444&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>docker-compose.yml</code> æ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure></li><li><p>æ£€æµ‹æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸ</p><p> æµè§ˆå™¨æ‰“å¼€ <a href="http://127.0.0.1:4446/">http://127.0.0.1:4446/</a> å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ hub ç•Œé¢äº†ï¼Œç«¯å£å¯¹åº” <code>docker-compose.yml</code> æ–‡ä»¶å†…çš„ <code>ports</code></p></li></ol><h3 id="éƒ¨ç½²-node-èŠ‚ç‚¹ï¼ˆchromeï¼‰"><a href="#éƒ¨ç½²-node-èŠ‚ç‚¹ï¼ˆchromeï¼‰" class="headerlink" title="éƒ¨ç½² node èŠ‚ç‚¹ï¼ˆchromeï¼‰"></a>éƒ¨ç½² node èŠ‚ç‚¹ï¼ˆchromeï¼‰</h3><p>node èŠ‚ç‚¹ï¼ˆchromeï¼‰å‡è®¾ B æœºä¸Šï¼ŒIP åœ°å€ä¸ºï¼š<code>10.10.2.1</code></p><ol><li><p>ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">chrome:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">selenium/node-chrome:latest</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">HUB_HOST=10.10.2.22</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">HUB_PORT=4446</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">REMOTE_HOST=http://10.10.2.1:5556</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:5556:5555</span></span><br></pre></td></tr></table></figure> <div class="note info flat"><p><code>HUB_HOST</code> å¡«å†™ hub èŠ‚ç‚¹çš„ IP åœ°å€<br><code>HUB_PORT</code> å¡«å†™ hub èŠ‚ç‚¹çš„ PORT ç«¯å£<br><code>REMOTE_HOST</code> å¡«å†™åœ°å€ä¸º node èŠ‚ç‚¹çš„ IP åœ°å€ï¼Œå’Œç«¯å£å·</p></div></li><li><p>åœ¨ <code>docker-compose.yml</code> æ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure></li></ol><h3 id="éƒ¨ç½²-node-èŠ‚ç‚¹ï¼ˆfirefoxï¼‰"><a href="#éƒ¨ç½²-node-èŠ‚ç‚¹ï¼ˆfirefoxï¼‰" class="headerlink" title="éƒ¨ç½² node èŠ‚ç‚¹ï¼ˆfirefoxï¼‰"></a>éƒ¨ç½² node èŠ‚ç‚¹ï¼ˆfirefoxï¼‰</h3><p>node èŠ‚ç‚¹ï¼ˆfirefoxï¼‰å‡è®¾ C æœºä¸Š,ip åœ°å€ä¸ºï¼š<code>10.10.3.1</code></p><ol><li><p>ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;2&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">firefox:</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">selenium/node-firefox:latest</span></span><br><span class="line">      <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">      <span class="attr">environment:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">HUB_HOST=10.10.2.22</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">HUB_PORT=4446</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">REMOTE_HOST=http://10.10.3.1:5557</span></span><br><span class="line">      <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:5557:5555</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>docker-compose.yml</code> æ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨æ¡ˆä¾‹ï¼ˆFirefoxï¼‰</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser = webdriver.Remote(</span><br><span class="line">    command_executor=<span class="string">&#x27;http://127.0.0.1:4446/wd/hub&#x27;</span>,</span><br><span class="line">    desired_capabilities=&#123;</span><br><span class="line">        <span class="string">&#x27;browserName&#x27;</span>: <span class="string">&#x27;firefox&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;version&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;platform&#x27;</span>: <span class="string">&#x27;ANY&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;goog:firefoxOptions&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;extensions&#x27;</span>: [],</span><br><span class="line">            <span class="string">&#x27;args&#x27;</span>: [<span class="string">&#x27;--no-sandbox&#x27;</span>, <span class="string">&#x27;-headless&#x27;</span>, <span class="string">&#x27;--disable-dev-shm-usage&#x27;</span>]&#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">browser.get(<span class="string">&quot;https://sitoi.cn&quot;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;sitoi.cn.png&quot;</span>)</span><br><span class="line">browser.quit()</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>ä½¿ç”¨ docker æå¤§å±è”½äº†éƒ¨ç½² selenium ä¼šé‡åˆ°çš„ç³»ç»Ÿå·®å¼‚é—®é¢˜ï¼Œæ­¥éª¤ç®€æ´ï¼Œæ˜“äºé…ç½®ã€‚</li><li>ä¸å†éœ€è¦æœ¬åœ°å®‰è£… selenium ç¯å¢ƒï¼Œç›´æ¥ä½¿ç”¨è¿œç¨‹çš„ç¯å¢ƒå³å¯ï¼Œç¯å¢ƒæ›´ç»Ÿä¸€</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿˜æ˜¯çˆ¬è™«é‡Œé¢çš„æŸä¸ªåœºæ™¯éœ€è¦é‡åº¦ä½¿ç”¨ selenium åœºæ™¯ ï¼Œæ‰€ä»¥éœ€è¦èµ·è¿™æ ·ä¸€ä¸ªé›†ç¾¤&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹æ¯”&lt;/p&gt;
</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    
    <category term="Docker" scheme="https://sitoi.cn/tags/Docker/"/>
    
    <category term="Selenium" scheme="https://sitoi.cn/tags/Selenium/"/>
    
    <category term="Selenium Grid" scheme="https://sitoi.cn/tags/Selenium-Grid/"/>
    
    <category term="Chrome" scheme="https://sitoi.cn/tags/Chrome/"/>
    
    <category term="Firefox" scheme="https://sitoi.cn/tags/Firefox/"/>
    
    <category term="webdriver" scheme="https://sitoi.cn/tags/webdriver/"/>
    
  </entry>
  
  <entry>
    <title>Selenium &amp; ChromeDriver å…¨å¹³å°å®‰è£…æ•™ç¨‹ï¼ˆMacã€Windowsã€Linuxï¼‰</title>
    <link href="https://sitoi.cn/posts/14489.html"/>
    <id>https://sitoi.cn/posts/14489.html</id>
    <published>2020-06-08T14:37:35.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ•™ç¨‹æ•™ä½ å¦‚ä½•åœ¨ Windowsã€Macã€Linux å®‰è£… Selenium å¹¶é…ç½®å¯¹åº”çš„ WebDriverï¼Œå¹¶ä»¥ ChromeDriver ä¸ºä¾‹ã€‚</p><h2 id="å®‰è£…-Seleniumï¼ˆå…¨å¹³å°é€šç”¨ï¼‰"><a href="#å®‰è£…-Seleniumï¼ˆå…¨å¹³å°é€šç”¨ï¼‰" class="headerlink" title="å®‰è£… Seleniumï¼ˆå…¨å¹³å°é€šç”¨ï¼‰"></a>å®‰è£… Seleniumï¼ˆå…¨å¹³å°é€šç”¨ï¼‰</h2><p>ä½¿ç”¨ Pypi åŒ…ç®¡ç†å™¨å®‰è£…ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install selenium -i https://pypi.tuna.tsinghua.edu.cn/simple --user</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Looking <span class="keyword">in</span> indexes: https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">Collecting selenium</span><br><span class="line">  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/80/d6/4294f0b4bce4de0abf13e17190289f9d0613b0a44e5dd6a7f5ca98459853/selenium-3.141.0-py2.py3-none-any.whl (904kB)</span><br><span class="line">    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 911kB 11.7MB/s</span><br><span class="line">Requirement already satisfied: urllib3 <span class="keyword">in</span> ./Library/Python/3.7/lib/python/site-packages (from selenium) (1.24.3)</span><br><span class="line">Installing collected packages: selenium</span><br><span class="line">Successfully installed selenium-3.141.0</span><br></pre></td></tr></table></figure><p>çœ‹åˆ° <code>Successfully installed selenium-3.141.0</code> å°±è¡¨ç¤ºå®‰è£…æˆåŠŸäº†</p><h2 id="é…ç½®-ChromeDrvier"><a href="#é…ç½®-ChromeDrvier" class="headerlink" title="é…ç½® ChromeDrvier"></a>é…ç½® ChromeDrvier</h2><h3 id="æŸ¥çœ‹-Chrome-ç‰ˆæœ¬å·"><a href="#æŸ¥çœ‹-Chrome-ç‰ˆæœ¬å·" class="headerlink" title="æŸ¥çœ‹ Chrome ç‰ˆæœ¬å·"></a>æŸ¥çœ‹ Chrome ç‰ˆæœ¬å·</h3><p>æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ è¾“å…¥ï¼š<code>chrome://version</code></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/chrome_version.jpg" alt="Chrome Version"></p><p>è·å–å¯¹åº”çš„ç‰ˆæœ¬å·ã€æ“ä½œç³»ç»Ÿä¿¡æ¯ï¼Œç”¨äºä¹‹åä¸‹è½½å¯¹åº”çš„ <code>ChromeDriver</code> ç‰ˆæœ¬</p><h3 id="ä¸‹è½½-ChromeDriver"><a href="#ä¸‹è½½-ChromeDriver" class="headerlink" title="ä¸‹è½½ ChromeDriver"></a>ä¸‹è½½ ChromeDriver</h3><blockquote><p>ä¸‹è½½åœ°å€ï¼š</p></blockquote><ul><li>æ·˜å®ä¸‹è½½åœ°å€(æ¨è)ï¼š<a href="https://npm.taobao.org/mirrors/chromedriver/">https://npm.taobao.org/mirrors/chromedriver/</a></li><li>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://chromedriver.chromium.org/downloads">https://chromedriver.chromium.org/downloads</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/chromedrivers.png" alt="ChromeDriver ç‰ˆæœ¬åˆ—è¡¨"></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/chromedriver_version.png" alt="ChromeDriver å¹³å°ç‰ˆæœ¬"></p><h3 id="å®‰è£…-ChromeDriver"><a href="#å®‰è£…-ChromeDriver" class="headerlink" title="å®‰è£… ChromeDriver"></a>å®‰è£… ChromeDriver</h3><h4 id="MAC-ç‰ˆæœ¬"><a href="#MAC-ç‰ˆæœ¬" class="headerlink" title="MAC ç‰ˆæœ¬"></a>MAC ç‰ˆæœ¬</h4><ol><li><p>è§£å‹ä¸‹è½½çš„ <code>chromedriver_mac64.zip</code> å¾—åˆ° <code>chromedrive</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/mac_chromedriver.png" alt="Mac ChromeDriver"></p></li><li><p>å°† <code>chromedrive</code> æ‹·è´åˆ° <code>/usr/local/bin/</code> ç›®å½•ä¸‹å³å¯ã€‚è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp chromedriver /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure></li></ol><h4 id="Windows-ç‰ˆæœ¬"><a href="#Windows-ç‰ˆæœ¬" class="headerlink" title="Windows ç‰ˆæœ¬"></a>Windows ç‰ˆæœ¬</h4><ol><li><p>è§£å‹ä¸‹è½½å¾— <code>chromedriver_win32.zip</code> çš„åˆ° <code>chromedrive.exe</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/win_chromedriver.png" alt="Windows ChromeDriver"></p></li><li><p>å°† <code>chromedrive.exe</code> ç§»å…¥åˆ° Google Chrome æ ¹ç›®å½•ä¸‹</p><p> é»˜è®¤è·¯å¾„ä½ç½®ï¼š<code>C:\Program Files (x86)\Google\Chrome\Application</code><br> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/win_chrome_path.png" alt="Google Chrome æ ¹ç›®å½•"></p></li><li><p>ä¸º Windows æ·»åŠ  chromedriver å¾— PATH ç¯å¢ƒå˜é‡</p><ol><li><p>å³å‡» <code>æ­¤ç”µè„‘</code>ï¼Œé€‰æ‹© <code>å±æ€§</code>ã€‚</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/win_property.png" alt="æ­¤ç”µè„‘ å±æ€§"></p></li><li><p>ç‚¹å‡»å³ä¾§çš„ <code>é«˜çº§ç³»ç»Ÿè®¾ç½®</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/win_settings.png" alt="é«˜çº§ç³»ç»Ÿè®¾ç½®"></p></li><li><p>ç‚¹å‡»æ ‡ç­¾ <code>é«˜çº§</code>ï¼Œå†ç‚¹å‡» <code>ç¯å¢ƒå˜é‡</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/win_env.png" alt="ç¯å¢ƒå˜é‡"></p></li><li><p>æ‰¾åˆ° <code>ç³»ç»Ÿå˜é‡</code>ï¼Œå†åŒå‡» <code>PATH</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/path_env.png" alt="ç¼–è¾‘ PATH"></p></li><li><p>ç‚¹å‡»å³ä¸Šè§’ <code>æ–°å»º</code> æŒ‰é’®ï¼Œè¾“å…¥æ”¾ç½® <code>chromedriver.exe</code> çš„ç›®å½•è·¯å¾„ï¼ˆ<code>C:\Program Files (x86)\Google\Chrome\Application</code>ï¼‰</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/add_path_env.png" alt="æ·»åŠ  PATH"></p></li><li><p>ç‚¹å‡»ç¡®è®¤ï¼Œå³å¯ä¿å­˜</p></li></ol></li></ol><blockquote><p>æ³¨ï¼šå¦‚æœä½ ä¹‹å‰å°±æ‰“å¼€äº†ç¼–è¾‘å™¨ç­‰ï¼Œè¯·é‡å¯ç¼–è¾‘å™¨ç¯å¢ƒå˜é‡æ‰ä¼šç”Ÿæ•ˆï¼</p></blockquote><h4 id="Linux-ç‰ˆæœ¬"><a href="#Linux-ç‰ˆæœ¬" class="headerlink" title="Linux ç‰ˆæœ¬"></a>Linux ç‰ˆæœ¬</h4><ol><li><p>è§£å‹ä¸‹è½½çš„ <code>chromedriver_linux64.zip</code> å¾—åˆ° <code>chromedrive</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/selenium/linux_chromedriver.png" alt="Linux ChromeDriver"></p></li><li><p>å°† <code>chromedrive</code> æ‹·è´åˆ° <code>/usr/bin/</code> ç›®å½•ä¸‹å³å¯ã€‚è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp chromedriver /usr/bin</span><br></pre></td></tr></table></figure></li><li><p>ä¸º <code>chromedriver</code> æ·»åŠ å¯æ‰§è¡Œæƒé™</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x /usr/bin/chromedriver</span><br></pre></td></tr></table></figure></li></ol><h3 id="æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"></a>æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</h3><ol><li><p>åˆ›å»ºä¸€ä¸ª <code>py</code> æ–‡ä»¶ï¼Œå°†ä¸‹é¢çš„ä»£ç å¤åˆ¶è¿›å»ï¼Œå¹¶è¿è¡Œå³å¯ã€‚</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser = webdriver.Chrome()</span><br><span class="line">browser.get(<span class="string">&#x27;https://sitoi.cn/&#x27;</span>)</span><br><span class="line">browser.get_screenshot_as_file(<span class="string">&quot;sitoi.cn.png&quot;</span>)</span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure></li><li><p>çœ‹åˆ°æµè§ˆå™¨è‡ªå·±æ‰“å¼€ï¼Œå¹¶ä¸”åœ¨è¿è¡Œçš„ç›®å½•ä¸‹æœ‰å›¾ç‰‡ <code>sitoi.cn.png</code> åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ¬æ•™ç¨‹æ•™ä½ å¦‚ä½•åœ¨ Windowsã€Macã€Linux å®‰è£… Selenium å¹¶é…ç½®å¯¹åº”çš„ WebDriverï¼Œå¹¶ä»¥ ChromeDrive</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    
    <category term="Linux" scheme="https://sitoi.cn/tags/Linux/"/>
    
    <category term="Mac" scheme="https://sitoi.cn/tags/Mac/"/>
    
    <category term="Windows" scheme="https://sitoi.cn/tags/Windows/"/>
    
    <category term="Selenium" scheme="https://sitoi.cn/tags/Selenium/"/>
    
    <category term="ChromeDriver" scheme="https://sitoi.cn/tags/ChromeDriver/"/>
    
  </entry>
  
  <entry>
    <title>Scrapy å°æŠ€å·§ï¼ˆä¸€ï¼‰ï¼šä½¿ç”¨ scrapy è‡ªå¸¦çš„å‡½æ•°ï¼ˆfollow &amp; follow_allï¼‰ä¼˜é›…çš„ç”Ÿæˆä¸‹ä¸€ä¸ªè¯·æ±‚</title>
    <link href="https://sitoi.cn/posts/61836.html"/>
    <id>https://sitoi.cn/posts/61836.html</id>
    <published>2020-06-06T12:57:01.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¦‚ä½•ä¼˜é›…çš„è·å–åŒä¸€ä¸ªç½‘ç«™ä¸Šä¸‹ä¸€æ¬¡çˆ¬å–çš„é“¾æ¥å¹¶æ”¾åˆ°ç”Ÿæˆä¸€ä¸ª Scrapy Response å‘¢ï¼Ÿ</p><h2 id="æ ·ä¾‹"><a href="#æ ·ä¾‹" class="headerlink" title="æ ·ä¾‹"></a>æ ·ä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SitoiSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&quot;sitoi&quot;</span></span><br><span class="line"></span><br><span class="line">    start_urls = [</span><br><span class="line">        <span class="string">&#x27;https://sitoi.cn&#x27;</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a/@href&quot;</span>).extract()</span><br><span class="line">        <span class="keyword">for</span> href <span class="keyword">in</span> href_list:</span><br><span class="line">            url = parse.urljoin(response.url, href)</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url=url, callback=self.parse_next)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_next</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(response.url)</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼ä¸€ï¼šä½¿ç”¨-urllib-åº“æ¥æ‹¼æ¥-URL"><a href="#æ–¹å¼ä¸€ï¼šä½¿ç”¨-urllib-åº“æ¥æ‹¼æ¥-URL" class="headerlink" title="æ–¹å¼ä¸€ï¼šä½¿ç”¨ urllib åº“æ¥æ‹¼æ¥ URL"></a>æ–¹å¼ä¸€ï¼šä½¿ç”¨ urllib åº“æ¥æ‹¼æ¥ URL</h3><p>è¿™ä¸ªæ–¹å¼æ˜¯é€šè¿‡ <code>urllib</code> åº“æ¥å¯¹ä¸‹ä¸€ä¸ª url è¿›è¡Œè¡¥å…¨æˆå®Œæ•´çš„ urlï¼Œå†ä½¿ç”¨ <code>scrapy.Request</code> çš„æ–¹å¼è¿›è¡Œä¸‹ä¸€ä¸ªé¡µé¢çš„çˆ¬å–ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><ol><li>åœ¨å¤„ç†æ¯ä¸€ä¸ª href çš„æ—¶å€™å¯ä»¥æ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„å†…å®¹ï¼ˆä¾‹å¦‚è®°å½•ä¸€ä¸‹å½“å‰ç¬¬å‡ é¡µäº†ç­‰ç­‰ï¼‰</li></ol><p><strong>ç¼ºç‚¹</strong></p><ol><li>éœ€è¦å¼•å…¥å…¶ä»–çš„åº“</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a/@href&quot;</span>).extract()</span><br><span class="line">    <span class="keyword">for</span> href <span class="keyword">in</span> href_list:</span><br><span class="line">        url = parse.urljoin(response.url, href)</span><br><span class="line">        <span class="keyword">yield</span> scrapy.Request(url=url, callback=self.parse_next)</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼äºŒï¼šä½¿ç”¨-response-è‡ªå¸¦çš„-urljoin"><a href="#æ–¹å¼äºŒï¼šä½¿ç”¨-response-è‡ªå¸¦çš„-urljoin" class="headerlink" title="æ–¹å¼äºŒï¼šä½¿ç”¨ response è‡ªå¸¦çš„ urljoin"></a>æ–¹å¼äºŒï¼šä½¿ç”¨ response è‡ªå¸¦çš„ urljoin</h3><p>è¿™ä¸ªæ–¹å¼æ˜¯é€šè¿‡ Scrapy response è‡ªå¸¦çš„ <code>urljoin</code> å¯¹ä¸‹ä¸€ä¸ª url è¿›è¡Œè¡¥å…¨æˆå®Œæ•´çš„ urlï¼Œå†ä½¿ç”¨ <code>scrapy.Request</code> çš„æ–¹å¼è¿›è¡Œä¸‹ä¸€ä¸ªé¡µé¢çš„çˆ¬å–ã€‚ï¼ˆå’Œæ–¹å¼ä¸€åŸºæœ¬ç›¸åŒï¼‰</p><p><strong>ä¼˜ç‚¹</strong></p><ol><li>ä¸å†éœ€è¦åœ¨ spider æ–‡ä»¶ä¸­å¼•å…¥å¤šçš„ç¬¬ä¸‰æ–¹åº“ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a/@href&quot;</span>).extract()</span><br><span class="line">    <span class="keyword">for</span> href <span class="keyword">in</span> href_list:</span><br><span class="line">        url = response.urljoin(href)</span><br><span class="line">        <span class="keyword">yield</span> scrapy.Request(url=url, callback=self.parse_next)</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼ä¸‰ï¼šä½¿ç”¨-response-è‡ªå¸¦çš„-follow"><a href="#æ–¹å¼ä¸‰ï¼šä½¿ç”¨-response-è‡ªå¸¦çš„-follow" class="headerlink" title="æ–¹å¼ä¸‰ï¼šä½¿ç”¨ response è‡ªå¸¦çš„ follow"></a>æ–¹å¼ä¸‰ï¼šä½¿ç”¨ response è‡ªå¸¦çš„ follow</h3><p>è¿™ä¸ªæ–¹å¼æ˜¯é€šè¿‡ Scrapy response è‡ªå¸¦çš„ <code>follow</code> è¿›è¡Œä¸‹ä¸€ä¸ªé¡µé¢çš„çˆ¬å–ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><ol><li>ä¸å†éœ€è¦åœ¨ spider æ–‡ä»¶ä¸­å¼•å…¥å¤šçš„ç¬¬ä¸‰æ–¹åº“ã€‚</li><li>ä¸éœ€è¦å†™ <code>extract()</code> æ¥æå– href å­—ç¬¦ä¸²ï¼Œåªéœ€è¦ä¼ å…¥ href è¿™ä¸ª <code>Selector</code>ï¼ˆå¯é€‰ï¼‰</li><li>ä¸éœ€è¦å†™ url æ‹¼æ¥</li><li><code>xpath</code> åªéœ€è¦ç¼–å†™åˆ° <code>a</code> æ ‡ç­¾å³å¯ï¼Œå¯ä»¥çœç•¥æ‰ <code>@href</code>,å³ä¸éœ€è¦è·å– href çš„ <code>Selector</code>ï¼Œç›´æ¥ä¼ é€’ a çš„ <code>Selector</code>ï¼ˆå¯é€‰ï¼‰</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a/@href&quot;</span>).extract()</span><br><span class="line">    <span class="keyword">for</span> href <span class="keyword">in</span> href_list:</span><br><span class="line">        <span class="keyword">yield</span> response.follow(url=href, callback=self.parse_next)</span><br></pre></td></tr></table></figure><p><strong>å˜ç§ä¸€</strong></p><ol><li>ä¸å†™ <code>extract()</code> æ¥æå– href å­—ç¬¦ä¸²ï¼Œä¼ å…¥ href è¿™ä¸ª <code>Selector</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a/@href&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> href <span class="keyword">in</span> href_list:</span><br><span class="line">        <span class="keyword">yield</span> response.follow(url=href, callback=self.parse_next)</span><br></pre></td></tr></table></figure><p><strong>å˜ç§äºŒ</strong></p><ol><li>ä¸å†™ <code>extract()</code> æ¥æå– href å­—ç¬¦ä¸²ï¼Œä¼ å…¥ href è¿™ä¸ª <code>Selector</code></li><li><code>xpath</code> ä¸å†™ <code>@href</code>ï¼Œç›´æ¥ä¼ é€’ a çš„ <code>Selector</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a/&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> href <span class="keyword">in</span> href_list:</span><br><span class="line">        <span class="keyword">yield</span> response.follow(url=href, callback=self.parse_next)</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼å››ï¼šä½¿ç”¨-response-è‡ªå¸¦çš„-follow-all"><a href="#æ–¹å¼å››ï¼šä½¿ç”¨-response-è‡ªå¸¦çš„-follow-all" class="headerlink" title="æ–¹å¼å››ï¼šä½¿ç”¨ response è‡ªå¸¦çš„ follow_all"></a>æ–¹å¼å››ï¼šä½¿ç”¨ response è‡ªå¸¦çš„ follow_all</h3><p>è¿™ä¸ªæ–¹å¼æ˜¯é€šè¿‡ Scrapy response è‡ªå¸¦çš„ <code>follow_all</code> è¿›è¡Œä¸‹ä¸€ä¸ªé¡µé¢çš„çˆ¬å–ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><ol><li>ä¸å†éœ€è¦åœ¨ spider æ–‡ä»¶ä¸­å¼•å…¥å¤šçš„ç¬¬ä¸‰æ–¹åº“ã€‚</li><li>ä¸éœ€è¦å†™ <code>extract()</code> æ¥æå– href å­—ç¬¦ä¸²ï¼Œåªéœ€è¦ä¼ å…¥ href è¿™ä¸ª selectorï¼ˆå¯é€‰ï¼‰</li><li>ä¸éœ€è¦å†™ url æ‹¼æ¥</li><li>åªéœ€è¦ç¼–å†™åˆ° <code>a</code> æ ‡ç­¾å³å¯ï¼Œå¯ä»¥çœç•¥æ‰ <code>@href</code>ï¼Œå³ä¸éœ€è¦è·å– href çš„ <code>SelectorList</code>ï¼Œç›´æ¥ä¼ é€’ a çš„ <code>SelectorList</code>ï¼ˆå¯é€‰ï¼‰</li><li>ä¸éœ€è¦ç¼–å†™éå†ï¼Œç›´æ¥æŠŠæŠ“åˆ°çš„ url çš„ <code>SelectorList</code> æ”¾å…¥å³å¯</li></ol><p><strong>ç¼ºç‚¹</strong></p><ol><li>å¦‚æœä¸­é—´è¿˜æœ‰ä»€ä¹ˆé€»è¾‘ï¼Œå°±ä¸å¤ªé€‚ç”¨äº†ï¼ˆä¾‹å¦‚è®°å½•ä¸€ä¸‹å½“å‰ç¬¬å‡ é¡µäº†ç­‰ç­‰ï¼‰</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    href_list = response.xpath(<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> response.follow_all(urls=href_list, callback=self.parse_next)</span><br></pre></td></tr></table></figure><p><strong>å˜ç§</strong></p><blockquote><p>æ³¨ï¼šå‰æ–¹é«˜èƒ½</p></blockquote><p>ä¸€è¡Œä»£ç æå®šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> response.follow_all(xpath=<span class="string">&quot;//div[@class=&#x27;card&#x27;]/a&quot;</span>, callback=self.parse_next)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¦‚ä½•ä¼˜é›…çš„è·å–åŒä¸€ä¸ªç½‘ç«™ä¸Šä¸‹ä¸€æ¬¡çˆ¬å–çš„é“¾æ¥å¹¶æ”¾åˆ°ç”Ÿæˆä¸€ä¸ª Scrapy Response å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;æ ·ä¾‹&quot;&gt;&lt;a hre</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    <category term="Scrapy" scheme="https://sitoi.cn/categories/%E7%88%AC%E8%99%AB/Scrapy/"/>
    
    
    <category term="scrapy" scheme="https://sitoi.cn/tags/scrapy/"/>
    
    <category term="çˆ¬è™«" scheme="https://sitoi.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>Mac åˆ¶ä½œ Linux å¯åŠ¨ U ç›˜</title>
    <link href="https://sitoi.cn/posts/28583.html"/>
    <id>https://sitoi.cn/posts/28583.html</id>
    <published>2020-05-01T08:57:00.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mac-åˆ¶ä½œ-Linux-å¯åŠ¨ç›˜"><a href="#Mac-åˆ¶ä½œ-Linux-å¯åŠ¨ç›˜" class="headerlink" title="Mac åˆ¶ä½œ Linux å¯åŠ¨ç›˜"></a>Mac åˆ¶ä½œ Linux å¯åŠ¨ç›˜</h1><blockquote><p>å‰æœŸå‡†å¤‡</p></blockquote><ol><li>ä¸€ä¸ª Mac ç”µè„‘</li><li>ä¸€ä¸ª U ç›˜ï¼ˆ8GB ä»¥ä¸Šï¼‰</li><li>ä¸‹è½½å¥½ Linux ç³»ç»Ÿé•œåƒï¼ˆiso æ–‡ä»¶ï¼‰</li></ol><blockquote><p>å…·ä½“æ­¥éª¤</p></blockquote><ol><li>æŒ‚è½½ U ç›˜</li><li>è§£æŒ‚ U ç›˜</li><li>å†™ç³»ç»Ÿé•œåƒåˆ° U ç›˜</li><li>å®Œæˆ</li></ol><h2 id="ä¸€ã€æŒ‚è½½-U-ç›˜"><a href="#ä¸€ã€æŒ‚è½½-U-ç›˜" class="headerlink" title="ä¸€ã€æŒ‚è½½ U ç›˜"></a>ä¸€ã€æŒ‚è½½ U ç›˜</h2><p>é¦–å…ˆæ’å…¥ U ç›˜ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ U ç›˜æ˜¯å¦å·²ç» mount åˆ°ç³»ç»Ÿï¼Œæˆ–è€…åœ¨ Finder ä¸‹ä¹Ÿå¯ä»¥çœ‹åˆ° U ç›˜è¢«è¯†åˆ«äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/mac-u-linux/diskutil_list.png" alt="diskutil unmountDisk"></p><h2 id="äºŒã€è§£æŒ‚-U-ç›˜"><a href="#äºŒã€è§£æŒ‚-U-ç›˜" class="headerlink" title="äºŒã€è§£æŒ‚ U ç›˜"></a>äºŒã€è§£æŒ‚ U ç›˜</h2><p>ä½¿ç”¨ unmount å‘½ä»¤ è§£é™¤æŒ‚è½½ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil unmountDisk /dev/disk3</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/mac-u-linux/diskutil_unmountDisk.png" alt="diskutil unmountDisk"></p><p>è¿™æ ·å°±æœ‰äº†ä¸€ä¸ªå·²ç»æ’å…¥ä½†æ˜¯ unmount çš„ U ç›˜äº†ï¼Œè¿™æ—¶å€™ä½ åœ¨ Finder ä¸‹çœ‹ä¸åˆ°è¿™ä¸ªUç›˜äº†ï¼Œä½†æ˜¯ç”¨ <code>diskutil list</code> å‘½ä»¤è¿˜å¯ä»¥çœ‹åˆ°ã€‚</p><h2 id="ä¸‰ã€å†™ç³»ç»Ÿé•œåƒåˆ°-U-ç›˜"><a href="#ä¸‰ã€å†™ç³»ç»Ÿé•œåƒåˆ°-U-ç›˜" class="headerlink" title="ä¸‰ã€å†™ç³»ç»Ÿé•œåƒåˆ° U ç›˜"></a>ä¸‰ã€å†™ç³»ç»Ÿé•œåƒåˆ° U ç›˜</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dd <span class="keyword">if</span>=/Users/shitao/Downloads/CentOS-7-x86_64-DVD-2003.iso of=/dev/disk3 bs=1m</span><br></pre></td></tr></table></figure><p><code>if=</code> åé¢æ˜¯ Linux ios æ–‡ä»¶çš„çš„è·¯å¾„</p><p><code>of=</code> åé¢çš„æ˜¯ U ç›˜çš„åç§°</p><p><code>bs</code> è¡¨ç¤ºå†™å…¥å—å¤§å°ï¼Œå¯ä»¥è®¾ç½®ä¸º 2mï¼Œä½†ä¸è¦å¤ªå¤§</p><p>Tipsï¼šå› ä¸ºæ˜¯ sudo æ‰€ä»¥éœ€è¦è¾“å…¥å¯†ç ï¼Œè¾“å…¥åæŒ‰å›è½¦å³å¯ã€‚</p><h2 id="å››ã€å®Œæˆ"><a href="#å››ã€å®Œæˆ" class="headerlink" title="å››ã€å®Œæˆ"></a>å››ã€å®Œæˆ</h2><p>ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè§åˆ°å¦‚ä¸‹è¾“å‡ºå°±è¡¨ç¤ºå·²ç»æˆåŠŸå®Œæˆäº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">4560+0 records in</span><br><span class="line">4560+0 records out</span><br><span class="line">4781506560 bytes transferred in 291.165911 secs (16421931 bytes/sec)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/mac-u-linux/sudo_dd_if_of_bs.png" alt="è¾“å‡ºç»“æœ"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Mac-åˆ¶ä½œ-Linux-å¯åŠ¨ç›˜&quot;&gt;&lt;a href=&quot;#Mac-åˆ¶ä½œ-Linux-å¯åŠ¨ç›˜&quot; class=&quot;headerlink&quot; title=&quot;Mac åˆ¶ä½œ Linux å¯åŠ¨ç›˜&quot;&gt;&lt;/a&gt;Mac åˆ¶ä½œ Linux å¯åŠ¨ç›˜&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;å‰</summary>
      
    
    
    
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://sitoi.cn/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="Mac" scheme="https://sitoi.cn/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Mac/"/>
    
    
    <category term="Linux" scheme="https://sitoi.cn/tags/Linux/"/>
    
    <category term="Mac" scheme="https://sitoi.cn/tags/Mac/"/>
    
    <category term="å¯åŠ¨ç›˜" scheme="https://sitoi.cn/tags/%E5%90%AF%E5%8A%A8%E7%9B%98/"/>
    
  </entry>
  
  <entry>
    <title>RESTful API è®¾è®¡è§„èŒƒ</title>
    <link href="https://sitoi.cn/posts/13695.html"/>
    <id>https://sitoi.cn/posts/13695.html</id>
    <published>2020-01-08T11:39:59.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<h1 id="RESTful-API-è®¾è®¡è§„èŒƒ"><a href="#RESTful-API-è®¾è®¡è§„èŒƒ" class="headerlink" title="RESTful API è®¾è®¡è§„èŒƒ"></a>RESTful API è®¾è®¡è§„èŒƒ</h1><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://github.com/godruoyi/restful-api-specification">https://github.com/godruoyi/restful-api-specification</a></p></blockquote><h2 id="å…³äºã€Œèƒ½æ„¿åŠ¨è¯ã€çš„ä½¿ç”¨"><a href="#å…³äºã€Œèƒ½æ„¿åŠ¨è¯ã€çš„ä½¿ç”¨" class="headerlink" title="å…³äºã€Œèƒ½æ„¿åŠ¨è¯ã€çš„ä½¿ç”¨"></a>å…³äºã€Œèƒ½æ„¿åŠ¨è¯ã€çš„ä½¿ç”¨</h2><p>ä¸ºäº†é¿å…æ­§ä¹‰ï¼Œæ–‡æ¡£å¤§é‡ä½¿ç”¨äº†ã€Œèƒ½æ„¿åŠ¨è¯ã€ï¼Œå¯¹åº”çš„è§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li><code>å¿…é¡» (MUST)</code>ï¼šç»å¯¹ï¼Œä¸¥æ ¼éµå¾ªï¼Œè¯·ç…§åšï¼Œæ— æ¡ä»¶éµå®ˆï¼›</li><li><code>ä¸€å®šä¸å¯ (MUST NOT)</code>ï¼šç¦ä»¤ï¼Œä¸¥ä»¤ç¦æ­¢ï¼›</li><li><code>åº”è¯¥ (SHOULD)</code> ï¼šå¼ºçƒˆå»ºè®®è¿™æ ·åšï¼Œä½†æ˜¯ä¸å¼ºæ±‚ï¼›</li><li><code>ä¸è¯¥ (SHOULD NOT)</code>ï¼šå¼ºçƒˆä¸å»ºè®®è¿™æ ·åšï¼Œä½†æ˜¯ä¸å¼ºæ±‚ï¼›</li><li><code>å¯ä»¥ (MAY)</code> å’Œ <code>å¯é€‰ (OPTIONAL)</code> ï¼šé€‰æ‹©æ€§é«˜ä¸€ç‚¹ï¼Œåœ¨è¿™ä¸ªæ–‡æ¡£å†…ï¼Œæ­¤è¯è¯­ä½¿ç”¨è¾ƒå°‘ï¼›</li></ul><blockquote><p>å‚è§ï¼š<a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a></p></blockquote><h2 id="Protocol"><a href="#Protocol" class="headerlink" title="Protocol"></a>Protocol</h2><p>å®¢æˆ·ç«¯åœ¨é€šè¿‡ <code>API</code> ä¸åç«¯æœåŠ¡é€šä¿¡çš„è¿‡ç¨‹ä¸­ï¼Œ<code>åº”è¯¥</code> ä½¿ç”¨ <code>HTTPS</code> åè®®ã€‚</p><h2 id="API-Root-URL"><a href="#API-Root-URL" class="headerlink" title="API Root URL"></a>API Root URL</h2><p><code>API</code> çš„æ ¹å…¥å£ç‚¹åº”å°½å¯èƒ½ä¿æŒè¶³å¤Ÿç®€å•ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªå¸¸è§çš„ <code>URL</code> æ ¹ä¾‹å­ï¼š</p><ul><li>api.example.com/*</li><li>example.com/api/*</li></ul><blockquote><p>å¦‚æœä½ çš„åº”ç”¨å¾ˆåºå¤§æˆ–è€…ä½ é¢„è®¡å®ƒå°†ä¼šå˜çš„å¾ˆåºå¤§ï¼Œé‚£ <code>åº”è¯¥</code> å°† <code>API</code> æ”¾åˆ°å­åŸŸä¸‹ï¼ˆ<code>api.example.com</code>ï¼‰ã€‚è¿™ç§åšæ³•å¯ä»¥ä¿æŒæŸäº›è§„æ¨¡åŒ–ä¸Šçš„çµæ´»æ€§ã€‚</p></blockquote><h2 id="Versioning"><a href="#Versioning" class="headerlink" title="Versioning"></a>Versioning</h2><p>æ‰€æœ‰çš„ <code>API</code> å¿…é¡»ä¿æŒå‘åå…¼å®¹ï¼Œä½  <code>å¿…é¡»</code> åœ¨å¼•å…¥æ–°ç‰ˆæœ¬ <code>API</code> çš„åŒæ—¶ç¡®ä¿æ—§ç‰ˆæœ¬ <code>API</code> ä»ç„¶å¯ç”¨ã€‚æ‰€ä»¥ <code>åº”è¯¥</code> ä¸ºå…¶æä¾›ç‰ˆæœ¬æ”¯æŒã€‚</p><p>ç›®å‰æ¯”è¾ƒå¸¸è§çš„ä¸¤ç§ç‰ˆæœ¬å·å½¢å¼ï¼š</p><h3 id="åœ¨-URL-ä¸­åµŒå…¥ç‰ˆæœ¬ç¼–å·"><a href="#åœ¨-URL-ä¸­åµŒå…¥ç‰ˆæœ¬ç¼–å·" class="headerlink" title="åœ¨ URL ä¸­åµŒå…¥ç‰ˆæœ¬ç¼–å·"></a>åœ¨ URL ä¸­åµŒå…¥ç‰ˆæœ¬ç¼–å·</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">api.example.com/v1/*</span><br></pre></td></tr></table></figure><p>è¿™ç§åšæ³•æ˜¯ç‰ˆæœ¬å·ç›´è§‚ã€æ˜“äºè°ƒè¯•ï¼›å¦ä¸€ç§åšæ³•æ˜¯ï¼Œå°†ç‰ˆæœ¬å·æ”¾åœ¨ <code>HTTP Header</code> å¤´ä¸­ï¼š</p><h3 id="é€šè¿‡åª’ä½“ç±»å‹æ¥æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯"><a href="#é€šè¿‡åª’ä½“ç±»å‹æ¥æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="é€šè¿‡åª’ä½“ç±»å‹æ¥æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯"></a>é€šè¿‡åª’ä½“ç±»å‹æ¥æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>application/vnd.example.com.v1+json</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>vnd</code> è¡¨ç¤º <code>Standards Tree</code> æ ‡å‡†æ ‘ç±»å‹ï¼Œæœ‰ä¸‰ä¸ªä¸åŒçš„æ ‘: <code>x</code>ï¼Œ<code>prs</code> å’Œ <code>vnd</code>ã€‚ä½ ä½¿ç”¨çš„æ ‡å‡†æ ‘éœ€è¦å–å†³äºä½ å¼€å‘çš„é¡¹ç›®</p><ul><li>æœªæ³¨å†Œçš„æ ‘ï¼ˆ<code>x</code>ï¼‰ä¸»è¦è¡¨ç¤ºæœ¬åœ°å’Œç§æœ‰ç¯å¢ƒ</li><li>ç§æœ‰æ ‘ï¼ˆ<code>prs</code>ï¼‰ä¸»è¦è¡¨ç¤ºæ²¡æœ‰å•†ä¸šå‘å¸ƒçš„é¡¹ç›®</li><li>ä¾›åº”å•†æ ‘ï¼ˆ<code>vnd</code>ï¼‰ä¸»è¦è¡¨ç¤ºå…¬å¼€å‘å¸ƒçš„é¡¹ç›®</li></ul><blockquote><p>åé¢å‡ ä¸ªå‚æ•°ä¾æ¬¡ä¸ºåº”ç”¨åç§°ï¼ˆä¸€èˆ¬ä¸ºåº”ç”¨åŸŸåï¼‰ã€ç‰ˆæœ¬å·ã€æœŸæœ›çš„è¿”å›æ ¼å¼ã€‚</p></blockquote><p>è‡³äºå…·ä½“æŠŠç‰ˆæœ¬å·æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œè¿™ä¸ªé—®é¢˜ä¸€ç›´å­˜åœ¨å¾ˆå¤§çš„äº‰è®®ï¼Œä½†ç”±äºæˆ‘ä»¬å¤§å¤šæ•°æ—¶é—´éƒ½åœ¨ä½¿ç”¨ <code>Laravel</code> å¼€å‘ï¼Œ<code>åº”è¯¥</code> ä½¿ç”¨ <a href="https://github.com/dingo/api">dingo/api</a> æ¥å¿«é€Ÿæ„å»ºåº”ç”¨ï¼Œå®ƒé‡‡ç”¨ç¬¬äºŒç§æ–¹å¼æ¥ç®¡ç† <code>API</code> ç‰ˆæœ¬ï¼Œå¹¶ä¸”å·²é›†æˆäº†æ ‡å‡†çš„ <code>HTTP Response</code>ã€‚</p><h2 id="Endpoints"><a href="#Endpoints" class="headerlink" title="Endpoints"></a>Endpoints</h2><p>ç«¯ç‚¹å°±æ˜¯æŒ‡å‘ç‰¹å®šèµ„æºæˆ–èµ„æºé›†åˆçš„ <code>URL</code>ã€‚åœ¨ç«¯ç‚¹çš„è®¾è®¡ä¸­ï¼Œä½  <code>å¿…é¡»</code> éµå®ˆä¸‹åˆ—çº¦å®šï¼š</p><ul><li>URL çš„å‘½å <code>å¿…é¡»</code> å…¨éƒ¨å°å†™</li><li>URL ä¸­èµ„æºï¼ˆ<code>resource</code>ï¼‰çš„å‘½å <code>å¿…é¡»</code> æ˜¯åè¯ï¼Œå¹¶ä¸” <code>å¿…é¡»</code> æ˜¯å¤æ•°å½¢å¼</li><li><code>å¿…é¡»</code> ä¼˜å…ˆä½¿ç”¨ <code>Restful</code> ç±»å‹çš„ URL</li><li>URL <code>å¿…é¡»</code> æ˜¯æ˜“è¯»çš„</li><li>URL <code>ä¸€å®šä¸å¯</code> æš´éœ²æœåŠ¡å™¨æ¶æ„</li></ul><blockquote><p>è‡³äº URL æ˜¯å¦å¿…é¡»ä½¿ç”¨è¿å­—ç¬¦ï¼ˆ<code>-</code>ï¼‰ æˆ–ä¸‹åˆ’çº¿ï¼ˆ<code>_</code>ï¼‰ï¼Œä¸åšç¡¬æ€§è§„å®šï¼Œä½† <code>å¿…é¡»</code> æ ¹æ®å›¢é˜Ÿæƒ…å†µç»Ÿä¸€ä¸€ç§é£æ ¼ã€‚</p></blockquote><p>æ¥çœ‹ä¸€ä¸ªåä¾‹</p><ul><li><a href="https://api.example.com/getUserInfo?userid=1">https://api.example.com/getUserInfo?userid=1</a></li><li><a href="https://api.example.com/getusers">https://api.example.com/getusers</a></li><li><a href="https://api.example.com/sv/u">https://api.example.com/sv/u</a></li><li><a href="https://api.example.com/cgi-bin/users/get_user.php?userid=1">https://api.example.com/cgi-bin/users/get_user.php?userid=1</a></li></ul><p>å†æ¥çœ‹ä¸€ä¸ªæ­£åˆ—</p><ul><li><a href="https://api.example.com/zoos">https://api.example.com/zoos</a></li><li><a href="https://api.example.com/animals">https://api.example.com/animals</a></li><li><a href="https://api.example.com/zoos/%7Bzoo%7D/animals">https://api.example.com/zoos/{zoo}/animals</a></li><li><a href="https://api.example.com/animal_types">https://api.example.com/animal_types</a></li><li><a href="https://api.example.com/employees">https://api.example.com/employees</a></li></ul><h2 id="HTTP-åŠ¨è¯"><a href="#HTTP-åŠ¨è¯" class="headerlink" title="HTTP åŠ¨è¯"></a>HTTP åŠ¨è¯</h2><p>å¯¹äºèµ„æºçš„å…·ä½“æ“ä½œç±»å‹ï¼Œç”± <code>HTTP</code> åŠ¨è¯è¡¨ç¤ºã€‚å¸¸ç”¨çš„ <code>HTTP</code> åŠ¨è¯æœ‰ä¸‹é¢äº”ä¸ªï¼ˆæ‹¬å·é‡Œæ˜¯å¯¹åº”çš„ <code>SQL</code> å‘½ä»¤ï¼‰ã€‚</p><ul><li>GETï¼ˆSELECTï¼‰ï¼šä»æœåŠ¡å™¨å–å‡ºèµ„æºï¼ˆä¸€é¡¹æˆ–å¤šé¡¹ï¼‰ã€‚</li><li>POSTï¼ˆCREATEï¼‰ï¼šåœ¨æœåŠ¡å™¨æ–°å»ºä¸€ä¸ªèµ„æºã€‚</li><li>PUTï¼ˆUPDATEï¼‰ï¼šåœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºï¼ˆå®¢æˆ·ç«¯æä¾›æ”¹å˜åçš„å®Œæ•´èµ„æºï¼‰ã€‚</li><li>PATCHï¼ˆUPDATEï¼‰ï¼šåœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºï¼ˆå®¢æˆ·ç«¯æä¾›æ”¹å˜çš„å±æ€§ï¼‰ã€‚</li><li>DELETEï¼ˆDELETEï¼‰ï¼šä»æœåŠ¡å™¨åˆ é™¤èµ„æºã€‚</li></ul><p>å…¶ä¸­</p><p>1 åˆ é™¤èµ„æº <code>å¿…é¡»</code> ç”¨ <code>DELETE</code> æ–¹æ³•<br>2 åˆ›å»ºæ–°çš„èµ„æº <code>å¿…é¡»</code> ä½¿ç”¨ <code>POST</code> æ–¹æ³•<br>3 æ›´æ–°èµ„æº <code>åº”è¯¥</code> ä½¿ç”¨ <code>PUT</code> æ–¹æ³•<br>4 è·å–èµ„æºä¿¡æ¯ <code>å¿…é¡»</code> ä½¿ç”¨ <code>GET</code> æ–¹æ³•</p><p>é’ˆå¯¹æ¯ä¸€ä¸ªç«¯ç‚¹æ¥è¯´ï¼Œä¸‹é¢åˆ—å‡ºæ‰€æœ‰å¯è¡Œçš„ <code>HTTP</code> åŠ¨è¯å’Œç«¯ç‚¹çš„ç»„åˆ</p><table><thead><tr><th>è¯·æ±‚æ–¹æ³•</th><th>URL</th><th>æè¿°</th></tr></thead><tbody><tr><td>GET</td><td>/zoos</td><td>åˆ—å‡ºæ‰€æœ‰çš„åŠ¨ç‰©å›­(IDå’Œåç§°ï¼Œä¸è¦å¤ªè¯¦ç»†)</td></tr><tr><td>POST</td><td>/zoos</td><td>æ–°å¢ä¸€ä¸ªæ–°çš„åŠ¨ç‰©å›­</td></tr><tr><td>GET</td><td>/zoos/{zoo}</td><td>è·å–æŒ‡å®šåŠ¨ç‰©å›­è¯¦æƒ…</td></tr><tr><td>PUT</td><td>/zoos/{zoo}</td><td>æ›´æ–°æŒ‡å®šåŠ¨ç‰©å›­(æ•´ä¸ªå¯¹è±¡)</td></tr><tr><td>PATCH</td><td>/zoos/{zoo}</td><td>æ›´æ–°åŠ¨ç‰©å›­(éƒ¨åˆ†å¯¹è±¡)</td></tr><tr><td>DELETE</td><td>/zoos/{zoo}</td><td>åˆ é™¤æŒ‡å®šåŠ¨ç‰©å›­</td></tr><tr><td>GET</td><td>/zoos/{zoo}/animals</td><td>æ£€ç´¢æŒ‡å®šåŠ¨ç‰©å›­ä¸‹çš„åŠ¨ç‰©åˆ—è¡¨(IDå’Œåç§°ï¼Œä¸è¦å¤ªè¯¦ç»†)</td></tr><tr><td>GET</td><td>/animals</td><td>åˆ—å‡ºæ‰€æœ‰åŠ¨ç‰©(IDå’Œåç§°)ã€‚</td></tr><tr><td>POST</td><td>/animals</td><td>æ–°å¢æ–°çš„åŠ¨ç‰©</td></tr><tr><td>GET</td><td>/animals/{animal}</td><td>è·å–æŒ‡å®šçš„åŠ¨ç‰©è¯¦æƒ…</td></tr><tr><td>PUT</td><td>/animals/{animal}</td><td>æ›´æ–°æŒ‡å®šçš„åŠ¨ç‰©(æ•´ä¸ªå¯¹è±¡)</td></tr><tr><td>PATCH</td><td>/animals/{animal}</td><td>æ›´æ–°æŒ‡å®šçš„åŠ¨ç‰©(éƒ¨åˆ†å¯¹è±¡)</td></tr><tr><td>GET</td><td>/animal_types</td><td>è·å–æ‰€æœ‰åŠ¨ç‰©ç±»å‹(IDå’Œåç§°ï¼Œä¸è¦å¤ªè¯¦ç»†)</td></tr><tr><td>GET</td><td>/animal_types/{type}</td><td>è·å–æŒ‡å®šçš„åŠ¨ç‰©ç±»å‹è¯¦æƒ…</td></tr><tr><td>GET</td><td>/employees</td><td>æ£€ç´¢æ•´ä¸ªé›‡å‘˜åˆ—è¡¨</td></tr><tr><td>GET</td><td>/employees/{employee}</td><td>æ£€ç´¢æŒ‡å®šç‰¹å®šçš„å‘˜å·¥</td></tr><tr><td>GET</td><td>/zoos/{zoo}/employees</td><td>æ£€ç´¢åœ¨è¿™ä¸ªåŠ¨ç‰©å›­å·¥ä½œçš„é›‡å‘˜çš„åå•(èº«ä»½è¯å’Œå§“å)</td></tr><tr><td>POST</td><td>/employees</td><td>æ–°å¢æŒ‡å®šæ–°å‘˜å·¥</td></tr><tr><td>POST</td><td>/zoos/{zoo}/employees</td><td>åœ¨ç‰¹å®šçš„åŠ¨ç‰©å›­é›‡ä½£ä¸€åå‘˜å·¥</td></tr><tr><td>DELETE</td><td>/zoos/{zoo}/employees/{employee}</td><td>ä»æŸä¸ªåŠ¨ç‰©å›­è§£é›‡ä¸€åå‘˜å·¥</td></tr></tbody></table><blockquote><p>è¶…å‡º <code>Restful</code> ç«¯ç‚¹çš„ï¼Œ<code>åº”è¯¥</code> æ¨¡ä»¿ä¸Šè¡¨çš„æ–¹å¼æ¥å®šä¹‰ç«¯ç‚¹ã€‚</p></blockquote><h2 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h2><blockquote><p>å¦‚æœè®°å½•æ•°é‡å¾ˆå¤šï¼ŒæœåŠ¡å™¨ä¸å¯èƒ½éƒ½å°†å®ƒä»¬è¿”å›ç»™ç”¨æˆ·ã€‚API <code>åº”è¯¥</code> æä¾›å‚æ•°ï¼Œè¿‡æ»¤è¿”å›ç»“æœã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ã€‚</p></blockquote><ul><li>?limit=10ï¼šæŒ‡å®šè¿”å›è®°å½•çš„æ•°é‡</li><li>?offset=10ï¼šæŒ‡å®šè¿”å›è®°å½•çš„å¼€å§‹ä½ç½®ã€‚</li><li>?page=2&amp;per_page=100ï¼šæŒ‡å®šç¬¬å‡ é¡µï¼Œä»¥åŠæ¯é¡µçš„è®°å½•æ•°ã€‚</li><li>?sortby=name&amp;order=ascï¼šæŒ‡å®šè¿”å›ç»“æœæŒ‰ç…§å“ªä¸ªå±æ€§æ’åºï¼Œä»¥åŠæ’åºé¡ºåºã€‚</li><li>?animal_type_id=1ï¼šæŒ‡å®šç­›é€‰æ¡ä»¶</li></ul><p>æ‰€æœ‰ <code>URL</code> å‚æ•° <code>å¿…é¡»</code> æ˜¯å…¨å°å†™ï¼Œ<code>å¿…é¡»</code> ä½¿ç”¨ä¸‹åˆ’çº¿ç±»å‹çš„å‚æ•°å½¢å¼ã€‚</p><blockquote><p>åˆ†é¡µå‚æ•° <code>å¿…é¡»</code> å›ºå®šä¸º <code>page</code>ã€<code>per_page</code></p></blockquote><p>ç»å¸¸ä½¿ç”¨çš„ã€å¤æ‚çš„æŸ¥è¯¢ <code>åº”è¯¥</code> æ ‡ç­¾åŒ–ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚å¦‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GET /trades?status=closed&amp;sort=sortby=name&amp;order=asc</span><br><span class="line"></span><br><span class="line"># å¯ä¸ºå…¶å®šåˆ¶å¿«æ·æ–¹å¼</span><br><span class="line">GET /trades/recently_closed</span><br></pre></td></tr></table></figure><h2 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h2><p><code>åº”è¯¥</code> ä½¿ç”¨ <code>OAuth2.0</code> çš„æ–¹å¼ä¸º API è°ƒç”¨è€…æä¾›ç™»å½•è®¤è¯ã€‚<code>å¿…é¡»</code> å…ˆé€šè¿‡ç™»å½•æ¥å£è·å– <code>Access Token</code> åå†é€šè¿‡è¯¥ <code>token</code> è°ƒç”¨éœ€è¦èº«ä»½è®¤è¯çš„ <code>API</code>ã€‚</p><p>Oauth çš„ç«¯ç‚¹è®¾è®¡ç¤ºåˆ—</p><ul><li>RFC 6749   /token</li><li>Twitter    /oauth2/token</li><li>Fackbook   /oauth/access_token</li><li>Google     /o/oauth2/token</li><li>Github     /login/oauth/access_token</li><li>Instagram  /oauth/authorize</li></ul><p>å®¢æˆ·ç«¯åœ¨è·å¾— <code>access token</code> çš„åŒæ—¶ <code>å¿…é¡»</code> åœ¨å“åº”ä¸­åŒ…å«ä¸€ä¸ªåä¸º <code>expires_in</code> çš„æ•°æ®ï¼Œå®ƒè¡¨ç¤ºå½“å‰è·å¾—çš„ <code>token</code> ä¼šåœ¨å¤šå°‘ <code>ç§’</code> åå¤±æ•ˆã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;access_token&quot;</span>: <span class="string">&quot;token....&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;token_type&quot;</span>: <span class="string">&quot;Bearer&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;expires_in&quot;</span>: <span class="number">3600</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯åœ¨è¯·æ±‚éœ€è¦è®¤è¯çš„ <code>API</code> æ—¶ï¼Œ<code>å¿…é¡»</code> åœ¨è¯·æ±‚å¤´ <code>Authorization</code> ä¸­å¸¦ä¸Š <code>access_token</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authorization: Bearer token...</span><br></pre></td></tr></table></figure><p>å½“è¶…è¿‡æŒ‡å®šçš„ç§’æ•°åï¼Œ<code>access token</code> å°±ä¼šè¿‡æœŸï¼Œå†æ¬¡ç”¨è¿‡æœŸ/æˆ–æ— æ•ˆçš„ <code>token</code> è®¿é—®æ—¶ï¼ŒæœåŠ¡ç«¯ <code>åº”è¯¥</code> è¿”å› <code>invalid_token</code> çš„é”™è¯¯æˆ– <code>401</code> é”™è¯¯ç ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">401</span> Unauthorized</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-store</span><br><span class="line"><span class="attribute">Pragma</span><span class="punctuation">: </span>no-cache</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error&quot;</span>: <span class="string">&quot;invalid_token&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Laravel å¼€å‘ä¸­ï¼Œ<code>åº”è¯¥</code> ä½¿ç”¨ <a href="https://github.com/tymondesigns/jwt-auth">JWT</a> æ¥ä¸ºç®¡ç†ä½ çš„ Tokenï¼Œå¹¶ä¸” <code>ä¸€å®šä¸å¯</code> åœ¨ <code>api</code> ä¸­é—´ä»¶ä¸­å¼€å¯è¯·æ±‚ <code>session</code>ã€‚</p></blockquote><h2 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h2><p>æ‰€æœ‰çš„ <code>API</code> å“åº”ï¼Œ<code>å¿…é¡»</code> éµå®ˆ <code>HTTP</code> è®¾è®¡è§„èŒƒï¼Œ<code>å¿…é¡»</code> é€‰æ‹©åˆé€‚çš„ <code>HTTP</code> çŠ¶æ€ç ã€‚<code>ä¸€å®šä¸å¯</code> æ‰€æœ‰æ¥å£éƒ½è¿”å›çŠ¶æ€ç ä¸º <code>200</code> çš„ <code>HTTP</code> å“åº”ï¼Œå¦‚ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> ok</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>example.com</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;username&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> ok</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>example.com</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="number">-1</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;è¯¥æ´»åŠ¨ä¸å­˜åœ¨&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹è¡¨åˆ—ä¸¾äº†å¸¸è§çš„ <code>HTTP</code> çŠ¶æ€ç </p><table><thead><tr><th>çŠ¶æ€ç </th><th>æè¿°</th></tr></thead><tbody><tr><td>1xx</td><td>ä»£è¡¨è¯·æ±‚å·²è¢«æ¥å—ï¼Œéœ€è¦ç»§ç»­å¤„ç†</td></tr><tr><td>2xx</td><td>è¯·æ±‚å·²æˆåŠŸï¼Œè¯·æ±‚æ‰€å¸Œæœ›çš„å“åº”å¤´æˆ–æ•°æ®ä½“å°†éšæ­¤å“åº”è¿”å›</td></tr><tr><td>3xx</td><td>é‡å®šå‘</td></tr><tr><td>4xx</td><td>å®¢æˆ·ç«¯åŸå› å¼•èµ·çš„é”™è¯¯</td></tr><tr><td>5xx</td><td>æœåŠ¡ç«¯åŸå› å¼•èµ·çš„é”™è¯¯</td></tr></tbody></table><blockquote><p>åªæœ‰æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚è¢«æ­£ç¡®çš„å¤„ç†åæ‰èƒ½è¿”å› <code>2xx</code> çš„å“åº”ï¼Œæ‰€ä»¥å½“ API è¿”å› <code>2xx</code> ç±»å‹çš„çŠ¶æ€ç æ—¶ï¼Œå‰ç«¯ <code>å¿…é¡»</code> è®¤å®šè¯¥è¯·æ±‚å·²å¤„ç†æˆåŠŸã€‚</p></blockquote><p>å¿…é¡»å¼ºè°ƒçš„æ˜¯ï¼Œæ‰€æœ‰ <code>API</code> <code>ä¸€å®šä¸å¯</code> è¿”å› <code>1xx</code> ç±»å‹çš„çŠ¶æ€ç ã€‚å½“ <code>API</code> å‘ç”Ÿé”™è¯¯æ—¶ï¼Œ<code>å¿…é¡»</code> è¿”å›å‡ºé”™æ—¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ç›®å‰å¸¸è§è¿”å›é”™è¯¯ä¿¡æ¯çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><p>1ã€å°†é”™è¯¯è¯¦ç»†æ”¾å…¥ <code>HTTP</code> å“åº”é¦–éƒ¨ï¼›</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">X-MYNAME-ERROR-CODE</span><span class="punctuation">: </span>4001</span><br><span class="line"><span class="attribute">X-MYNAME-ERROR-MESSAGE</span><span class="punctuation">: </span>Bad authentication token</span><br><span class="line"><span class="attribute">X-MYNAME-ERROR-INFO</span><span class="punctuation">: </span>http://docs.example.com/api/v1/authentication</span><br></pre></td></tr></table></figure><p>2ã€ç›´æ¥æ”¾å…¥å“åº”å®ä½“ä¸­ï¼›</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">401</span> Unauthorized</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 10:02:59 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">40100</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;Unauthorized&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€ƒè™‘åˆ°æ˜“è¯»æ€§å’Œå®¢æˆ·ç«¯çš„æ˜“å¤„ç†æ€§ï¼Œæˆ‘ä»¬ <code>å¿…é¡»</code> æŠŠé”™è¯¯ä¿¡æ¯ç›´æ¥æ”¾åˆ°å“åº”å®ä½“ä¸­ï¼Œå¹¶ä¸”é”™è¯¯æ ¼å¼ <code>åº”è¯¥</code> æ»¡è¶³å¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;æ‚¨æŸ¥æ‰¾çš„èµ„æºä¸å­˜åœ¨&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>: <span class="number">404001</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­é”™è¯¯ç ï¼ˆ<code>error_code</code>ï¼‰<code>å¿…é¡»</code> å’Œ <code>HTTP</code> çŠ¶æ€ç å¯¹åº”ï¼Œä¹Ÿæ–¹ä¾¿é”™è¯¯ç å½’ç±»ï¼Œå¦‚ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">429</span> Too Many Requests</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 10:15:52 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">429001</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;ä½ æ“ä½œå¤ªé¢‘ç¹äº†&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">403</span> Forbidden</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 10:19:27 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">403002</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;ç”¨æˆ·å·²ç¦ç”¨&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>åº”è¯¥</code> åœ¨è¿”å›çš„é”™è¯¯ä¿¡æ¯ä¸­ï¼ŒåŒæ—¶åŒ…å«é¢å‘å¼€å‘è€…å’Œé¢å‘ç”¨æˆ·çš„æç¤ºä¿¡æ¯ï¼Œå‰è€…å¯æ–¹ä¾¿å¼€å‘äººå‘˜è°ƒè¯•ï¼Œåè€…å¯ç›´æ¥å±•ç¤ºç»™ç»ˆç«¯ç”¨æˆ·æŸ¥çœ‹å¦‚ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;ç›´æ¥å±•ç¤ºç»™ç»ˆç«¯ç”¨æˆ·çš„é”™è¯¯ä¿¡æ¯&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>: <span class="string">&quot;ä¸šåŠ¡é”™è¯¯ç &quot;</span>,</span><br><span class="line">    <span class="attr">&quot;error&quot;</span>: <span class="string">&quot;ä¾›å¼€å‘è€…æŸ¥çœ‹çš„é”™è¯¯ä¿¡æ¯&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;debug&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;é”™è¯¯å †æ ˆï¼Œå¿…é¡»å¼€å¯ debug æ‰å­˜åœ¨&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¯¦ç»†åˆ—ä¸¾äº†å„ç§æƒ…å†µ API çš„è¿”å›è¯´æ˜ã€‚</p><h3 id="200-ok"><a href="#200-ok" class="headerlink" title="200 ok"></a>200 ok</h3><p><code>200</code> çŠ¶æ€ç æ˜¯æœ€å¸¸è§çš„ <code>HTTP</code> çŠ¶æ€ç ï¼Œåœ¨æ‰€æœ‰ <strong>æˆåŠŸ</strong> çš„ <code>GET</code> è¯·æ±‚ä¸­ï¼Œ<code>å¿…é¡»</code> è¿”å›æ­¤çŠ¶æ€ç ã€‚<code>HTTP</code> å“åº”å®ä½“éƒ¨åˆ† <code>å¿…é¡»</code> ç›´æ¥å°±æ˜¯æ•°æ®ï¼Œä¸è¦åšå¤šä½™çš„åŒ…è£…ã€‚</p><p>é”™è¯¯ç¤ºä¾‹ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> ok</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>example.com</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;user&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>:<span class="number">1</span>,</span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span>:<span class="string">&quot;fwest&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;example&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£ç¡®ç¤ºä¾‹ï¼š</p><p>1ã€è·å–å•ä¸ªèµ„æºè¯¦æƒ…</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;age&quot;</span>: <span class="number">88</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€è·å–èµ„æºé›†åˆ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;age&quot;</span>: <span class="number">88</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;age&quot;</span>: <span class="number">88</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>3ã€é¢å¤–çš„åª’ä½“ä¿¡æ¯</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;https://lorempixel.com/640/480/?32556&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;nickname&quot;</span>: <span class="string">&quot;fwest&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;last_logined_time&quot;</span>: <span class="string">&quot;2018-05-29 04:56:43&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;has_registed&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;https://lorempixel.com/640/480/?86144&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;nickname&quot;</span>: <span class="string">&quot;zschowalter&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;last_logined_time&quot;</span>: <span class="string">&quot;2018-06-16 15:18:34&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;has_registed&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;meta&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;pagination&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;total&quot;</span>: <span class="number">101</span>,</span><br><span class="line">            <span class="attr">&quot;count&quot;</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">&quot;per_page&quot;</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">&quot;current_page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;total_pages&quot;</span>: <span class="number">51</span>,</span><br><span class="line">            <span class="attr">&quot;links&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;next&quot;</span>: <span class="string">&quot;http://api.example.com?page=2&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ï¼Œåˆ†é¡µå’Œå…¶ä»–é¢å¤–çš„åª’ä½“ä¿¡æ¯ï¼Œå¿…é¡»æ”¾åˆ° <code>meta</code> å­—æ®µä¸­ã€‚</p></blockquote><h3 id="201-Created"><a href="#201-Created" class="headerlink" title="201 Created"></a>201 Created</h3><p>å½“æœåŠ¡å™¨åˆ›å»ºæ•°æ®æˆåŠŸæ—¶ï¼Œ<code>åº”è¯¥</code> è¿”å›æ­¤çŠ¶æ€ç ã€‚å¸¸è§çš„åº”ç”¨åœºæ™¯æ˜¯ä½¿ç”¨ <code>POST</code> æäº¤ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚ï¼š</p><ul><li>æ·»åŠ äº†æ–°ç”¨æˆ·</li><li>ä¸Šä¼ äº†å›¾ç‰‡</li><li>åˆ›å»ºäº†æ–°æ´»åŠ¨</li></ul><p>ç­‰ï¼Œéƒ½å¯ä»¥è¿”å› <code>201</code> çŠ¶æ€ç ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ å¯ä»¥é€‰æ‹©åœ¨ç”¨æˆ·åˆ›å»ºæˆåŠŸåè¿”å›æ–°ç”¨æˆ·çš„æ•°æ®</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">201</span> Created</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 09:13:40 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;https:\/\/lorempixel.com\/640\/480\/?32556&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nickname&quot;</span>: <span class="string">&quot;fwest&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;last_logined_time&quot;</span>: <span class="string">&quot;2018-05-29 04:56:43&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;created_at&quot;</span>: <span class="string">&quot;2018-06-16 17:55:55&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;updated_at&quot;</span>: <span class="string">&quot;2018-06-16 17:55:55&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå“åº”å®ä½“ä¸ºç©ºçš„ <code>HTTP Response</code> å¦‚ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">201</span> Created</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=UTF-8</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 09:12:20 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæˆ‘ä»¬ <code>åº”è¯¥</code> é‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“è¯¥è¯·æ±‚æ“ä½œæˆåŠŸä¸å¦ï¼Œå¹¶ä¸éœ€è¦è¿”å›æ–°èµ„æºçš„ä¿¡æ¯ã€‚</p></blockquote><h3 id="202-Accepted"><a href="#202-Accepted" class="headerlink" title="202 Accepted"></a>202 Accepted</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨å·²ç»æ¥å—åˆ°äº†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†è¿˜æœªå¼€å§‹å¤„ç†ã€‚å¸¸ç”¨çŸ­ä¿¡å‘é€ã€é‚®ä»¶é€šçŸ¥ã€æ¨¡æ¿æ¶ˆæ¯æ¨é€ç­‰è¿™ç±»å¾ˆè€—æ—¶éœ€è¦é˜Ÿåˆ—æ”¯æŒçš„åœºæ™¯ä¸­ï¼›</p><blockquote><p>è¿”å›è¯¥çŠ¶æ€ç æ—¶ï¼Œå“åº”å®ä½“ <code>å¿…é¡»</code> ä¸ºç©ºã€‚</p></blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">202</span> Accepted</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=UTF-8</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 09:25:15 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><h3 id="204-No-Content"><a href="#204-No-Content" class="headerlink" title="204 No Content"></a>204 No Content</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå“åº”å®ä½“ä¸åŒ…å«ä»»ä½•æ•°æ®ï¼Œå…¶ä¸­ï¼š</p><ul><li>åœ¨ä½¿ç”¨ <code>DELETE</code> æ–¹æ³•åˆ é™¤èµ„æº <strong>æˆåŠŸ</strong> æ—¶ï¼Œ<code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç </li><li>ä½¿ç”¨ <code>PUT</code>ã€<code>PATCH</code> æ–¹æ³•æ›´æ–°æ•°æ® <strong>æˆåŠŸ</strong> æ—¶ï¼Œä¹Ÿ <code>åº”è¯¥</code> è¿”å›æ­¤çŠ¶æ€ç </li></ul><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">204</span> No Content</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 09:29:12 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><h3 id="3xx-é‡å®šå‘"><a href="#3xx-é‡å®šå‘" class="headerlink" title="3xx é‡å®šå‘"></a>3xx é‡å®šå‘</h3><p>æ‰€æœ‰ <code>API</code> <code>ä¸è¯¥</code> è¿”å› <code>3xx</code> ç±»å‹çš„çŠ¶æ€ç ã€‚å› ä¸º <code>3xx</code> ç±»å‹çš„å“åº”æ ¼å¼ä¸€èˆ¬ä¸ºä¸‹åˆ—æ ¼å¼ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">302</span> Found</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=UTF-8</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 09:41:50 GMT</span><br><span class="line"><span class="attribute">Location</span><span class="punctuation">: </span>https://example.com</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;0;url=https://example.com&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Redirecting to https://example.com<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        Redirecting to <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://example.com&quot;</span>&gt;</span>https://example.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰€æœ‰ <code>API</code> <code>ä¸€å®šä¸å¯</code> è¿”å›çº¯ <code>HTML</code> ç»“æ„çš„å“åº”ï¼›è‹¥ä¸€å®šè¦ä½¿ç”¨é‡å®šå‘åŠŸèƒ½ï¼Œ<code>å¯ä»¥</code> è¿”å›ä¸€ä¸ªå“åº”å®ä½“ä¸ºç©ºçš„ <code>3xx</code> å“åº”ï¼Œå¹¶åœ¨å“åº”å¤´ä¸­åŠ ä¸Š <code>Location</code> å­—æ®µ:</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">302</span> Found</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=UTF-8</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 09:52:50 GMT</span><br><span class="line"><span class="attribute">Location</span><span class="punctuation">: </span>https://sitoi.cn</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><h3 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h3><p>ç”±äºæ˜æ˜¾çš„å®¢æˆ·ç«¯é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œè¯·æ±‚è¯­æ³•æ ¼å¼é”™è¯¯ã€æ— æ•ˆçš„è¯·æ±‚ã€æ— æ•ˆçš„ç­¾åç­‰ï¼‰ï¼ŒæœåŠ¡å™¨ <code>åº”è¯¥</code> æ”¾å¼ƒè¯¥è¯·æ±‚ã€‚</p><blockquote><p>å½“æœåŠ¡å™¨æ— æ³•ä»å…¶ä»– 4xx ç±»å‹çš„çŠ¶æ€ç ä¸­æ‰¾å‡ºåˆé€‚çš„æ¥è¡¨ç¤ºé”™è¯¯ç±»å‹æ—¶ï¼Œéƒ½ <code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚</p></blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">400</span> Bad Request</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 13:22:36 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">40000</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;æ— æ•ˆçš„ç­¾å&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå½“å‰è¯·æ±‚éœ€è¦èº«ä»½è®¤è¯ï¼Œä»¥ä¸‹æƒ…å†µéƒ½ <code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚</p><ul><li>æœªè®¤è¯ç”¨æˆ·è®¿é—®éœ€è¦è®¤è¯çš„ API</li><li>access_token æ— æ•ˆ/è¿‡æœŸ</li></ul><blockquote><p>å®¢æˆ·ç«¯åœ¨æ”¶åˆ° <code>401</code> å“åº”åï¼Œéƒ½ <code>åº”è¯¥</code> æç¤ºç”¨æˆ·è¿›è¡Œä¸‹ä¸€æ­¥çš„ç™»å½•æ“ä½œã€‚</p></blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">401</span> Unauthorized</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">WWW-Authenticate</span><span class="punctuation">: </span>JWTAuth</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 13:17:02 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;Token Signature could not be verified.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="string">&quot;40100&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h3><p>è¯¥çŠ¶æ€ç å¯ä»¥ç®€å•çš„ç†è§£ä¸ºæ²¡æœ‰æƒé™è®¿é—®è¯¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä½†æ‹’ç»æä¾›æœåŠ¡ã€‚</p><p>å¦‚å½“æ™®é€šç”¨æˆ·è¯·æ±‚æ“ä½œç®¡ç†å‘˜ç”¨æˆ·æ—¶ï¼Œ<code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">403</span> Forbidden</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 13:05:34 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">40301</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;æƒé™ä¸è¶³&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="404-Not-Found"><a href="#404-Not-Found" class="headerlink" title="404 Not Found"></a>404 Not Found</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºç”¨æˆ·è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œå¦‚</p><ul><li>è·å–ä¸å­˜åœ¨çš„ç”¨æˆ·ä¿¡æ¯ ï¼ˆget /users/9999999ï¼‰</li><li>è®¿é—®ä¸å­˜åœ¨çš„ç«¯ç‚¹</li></ul><p>éƒ½ <code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç ï¼Œè‹¥è¯¥èµ„æºå·²æ°¸ä¹…ä¸å­˜åœ¨ï¼Œåˆ™ <code>åº”è¯¥</code> è¿”å› <code>410</code> å“åº”ã€‚</p><h3 id="405-Method-Not-Allowed"><a href="#405-Method-Not-Allowed" class="headerlink" title="405 Method Not Allowed"></a>405 Method Not Allowed</h3><p>å½“å®¢æˆ·ç«¯ä½¿ç”¨çš„ <code>HTTP</code> è¯·æ±‚æ–¹æ³•ä¸è¢«æœåŠ¡å™¨å…è®¸æ—¶ï¼Œ<code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚</p><blockquote><p>å¦‚å®¢æˆ·ç«¯è°ƒç”¨äº† <code>POST</code> æ–¹æ³•æ¥è®¿é—®åªæ”¯æŒ GET æ–¹æ³•çš„ API</p></blockquote><p>è¯¥å“åº” <code>å¿…é¡»</code> è¿”å›ä¸€ä¸ª <code>Allow</code> å¤´ä¿¡æ¯ç”¨ä»¥è¡¨ç¤ºå‡ºå½“å‰èµ„æºèƒ½å¤Ÿæ¥å—çš„è¯·æ±‚æ–¹æ³•çš„åˆ—è¡¨ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">405</span> Method Not Allowed</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Allow</span><span class="punctuation">: </span>GET, HEAD</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 12:30:57 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;405 Method Not Allowed&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">40500</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="406-Not-Acceptable"><a href="#406-Not-Acceptable" class="headerlink" title="406 Not Acceptable"></a>406 Not Acceptable</h3><p><code>API</code> åœ¨ä¸æ”¯æŒå®¢æˆ·ç«¯æŒ‡å®šçš„æ•°æ®æ ¼å¼æ—¶ï¼Œåº”è¯¥è¿”å›æ­¤çŠ¶æ€ç ã€‚å¦‚æ”¯æŒ <code>JSON</code> å’Œ <code>XML</code> è¾“å‡ºçš„ <code>API</code> è¢«æŒ‡å®šè¿”å› <code>YAML</code> æ ¼å¼çš„æ•°æ®æ—¶ã€‚</p><blockquote><p>Http åè®®ä¸€èˆ¬é€šè¿‡è¯·æ±‚é¦–éƒ¨çš„ Accept æ¥æŒ‡å®šæ•°æ®æ ¼å¼</p></blockquote><h3 id="408-Request-Timeout"><a href="#408-Request-Timeout" class="headerlink" title="408 Request Timeout"></a>408 Request Timeout</h3><p>å®¢æˆ·ç«¯è¯·æ±‚è¶…æ—¶æ—¶ <code>å¿…é¡»</code> è¿”å›è¯¥çŠ¶æ€ç ï¼Œéœ€è¦æ³¨æ„çš„æ—¶ï¼Œè¯¥çŠ¶æ€ç è¡¨ç¤º <strong>å®¢æˆ·ç«¯è¯·æ±‚è¶…æ—¶</strong>ï¼Œåœ¨æ¶‰åŠç¬¬ä¸‰æ–¹ <code>API</code> è°ƒç”¨è¶…æ—¶æ—¶ï¼Œ<code>ä¸€å®šä¸å¯</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚</p><h3 id="409-Confilct"><a href="#409-Confilct" class="headerlink" title="409 Confilct"></a>409 Confilct</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå› ä¸ºè¯·æ±‚å­˜åœ¨å†²çªæ— æ³•å¤„ç†ã€‚å¦‚é€šè¿‡æ‰‹æœºå·ç æä¾›æ³¨å†ŒåŠŸèƒ½çš„ <code>API</code>ï¼Œå½“ç”¨æˆ·æäº¤çš„æ‰‹æœºå·å·²å­˜åœ¨æ—¶ï¼Œ<code>å¿…é¡»</code> è¿”å›æ­¤çŠ¶æ€ç ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">409</span> Conflict</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 12:19:04 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">40900</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="410-Gone"><a href="#410-Gone" class="headerlink" title="410 Gone"></a>410 Gone</h3><p>å’Œ <code>404</code> ç±»ä¼¼ï¼Œè¯¥çŠ¶æ€ç ä¹Ÿè¡¨ç¤ºè¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œåªæ˜¯ <code>410</code> çŠ¶æ€ç è¿›ä¸€æ­¥è¡¨ç¤ºæ‰€è¯·æ±‚çš„èµ„æºå·²ä¸å­˜åœ¨ï¼Œå¹¶ä¸”æœªæ¥ä¹Ÿä¸ä¼šå­˜åœ¨ã€‚åœ¨æ”¶åˆ° <code>410</code> çŠ¶æ€ç åï¼Œå®¢æˆ·ç«¯ <code>åº”è¯¥</code> åœæ­¢å†æ¬¡è¯·æ±‚è¯¥èµ„æºã€‚</p><h3 id="413-Request-Entity-Too-Large"><a href="#413-Request-Entity-Too-Large" class="headerlink" title="413 Request Entity Too Large"></a>413 Request Entity Too Large</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨æ‹’ç»å¤„ç†å½“å‰è¯·æ±‚ï¼Œå› ä¸ºè¯¥è¯·æ±‚æäº¤çš„å®ä½“æ•°æ®å¤§å°è¶…è¿‡äº†æœåŠ¡å™¨æ„¿æ„æˆ–è€…èƒ½å¤Ÿå¤„ç†çš„èŒƒå›´ã€‚</p><blockquote><p>æ­¤ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å¯ä»¥å…³é—­è¿æ¥ä»¥å…å®¢æˆ·ç«¯ç»§ç»­å‘é€æ­¤è¯·æ±‚ã€‚</p></blockquote><p>å¦‚æœè¿™ä¸ªçŠ¶å†µæ˜¯ä¸´æ—¶çš„ï¼ŒæœåŠ¡å™¨ <code>åº”è¯¥</code> è¿”å›ä¸€ä¸ª <code>Retry-After</code> çš„å“åº”å¤´ï¼Œä»¥å‘ŠçŸ¥å®¢æˆ·ç«¯å¯ä»¥åœ¨å¤šå°‘æ—¶é—´ä»¥åé‡æ–°å°è¯•ã€‚</p><h3 id="414-Request-URI-Too-Long"><a href="#414-Request-URI-Too-Long" class="headerlink" title="414 Request-URI Too Long"></a>414 Request-URI Too Long</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚çš„ <code>URI</code> é•¿åº¦è¶…è¿‡äº†æœåŠ¡å™¨èƒ½å¤Ÿè§£é‡Šçš„é•¿åº¦ï¼Œå› æ­¤æœåŠ¡å™¨æ‹’ç»å¯¹è¯¥è¯·æ±‚æä¾›æœåŠ¡ã€‚</p><h3 id="415-Unsupported-Media-Type"><a href="#415-Unsupported-Media-Type" class="headerlink" title="415 Unsupported Media Type"></a>415 Unsupported Media Type</h3><p>é€šå¸¸è¡¨ç¤ºæœåŠ¡å™¨ä¸æ”¯æŒå®¢æˆ·ç«¯è¯·æ±‚é¦–éƒ¨ <code>Content-Type</code> æŒ‡å®šçš„æ•°æ®æ ¼å¼ã€‚å¦‚åœ¨åªæ¥å— <code>JSON</code> æ ¼å¼çš„ <code>API</code> ä¸­æ”¾å…¥ <code>XML</code> ç±»å‹çš„æ•°æ®å¹¶å‘æœåŠ¡å™¨å‘é€ï¼Œéƒ½ <code>åº”è¯¥</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚</p><p>è¯¥çŠ¶æ€ç ä¹Ÿå¯ç”¨äºå¦‚ï¼šåªå…è®¸ä¸Šä¼ å›¾ç‰‡æ ¼å¼çš„æ–‡ä»¶ï¼Œä½†æ˜¯å®¢æˆ·ç«¯æäº¤åª’ä½“æ–‡ä»¶éæ³•æˆ–ä¸æ˜¯å›¾ç‰‡ç±»å‹ï¼Œè¿™æ—¶ <code>åº”è¯¥</code> è¿”å›è¯¥çŠ¶æ€ç ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">415</span> Unsupported Media Type</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 12:09:40 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">41500</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;ä¸å…è®¸ä¸Šä¼ çš„å›¾ç‰‡æ ¼å¼&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="429-Too-Many-Requests"><a href="#429-Too-Many-Requests" class="headerlink" title="429 Too Many Requests"></a>429 Too Many Requests</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºç”¨æˆ·è¯·æ±‚æ¬¡æ•°è¶…è¿‡å…è®¸èŒƒå›´ã€‚å¦‚ <code>API</code> è®¾å®šä¸º <code>60æ¬¡/åˆ†é’Ÿ</code>ï¼Œå½“ç”¨æˆ·åœ¨ä¸€åˆ†é’Ÿå†…è¯·æ±‚æ¬¡æ•°è¶…è¿‡ 60 æ¬¡åï¼Œéƒ½ <code>åº”è¯¥</code> è¿”å›è¯¥çŠ¶æ€ç ã€‚å¹¶ä¸”ä¹Ÿ <code>åº”è¯¥</code> åœ¨å“åº”é¦–éƒ¨ä¸­åŠ ä¸Šä¸‹åˆ—å¤´éƒ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X-RateLimit-Limit: 10 è¯·æ±‚é€Ÿç‡ï¼ˆç”±åº”ç”¨è®¾å®šï¼Œå…¶å•ä½ä¸€èˆ¬ä¸ºå°æ—¶/åˆ†é’Ÿç­‰ï¼Œè¿™é‡Œæ˜¯ 10æ¬¡/5åˆ†é’Ÿï¼‰</span><br><span class="line">X-RateLimit-Remaining: 0 å½“å‰å‰©ä½™çš„è¯·æ±‚æ•°é‡</span><br><span class="line">X-RateLimit-Reset: 1529839462 é‡ç½®æ—¶é—´</span><br><span class="line">Retry-After: 120 ä¸‹ä¸€æ¬¡è®¿é—®åº”è¯¥ç­‰å¾…çš„æ—¶é—´ï¼ˆç§’ï¼‰</span><br></pre></td></tr></table></figure><p>åˆ—å­</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">429</span> Too Many Requests</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">X-RateLimit-Limit</span><span class="punctuation">: </span>10</span><br><span class="line"><span class="attribute">X-RateLimit-Remaining</span><span class="punctuation">: </span>0</span><br><span class="line"><span class="attribute">X-RateLimit-Reset</span><span class="punctuation">: </span>1529839462</span><br><span class="line"><span class="attribute">Retry-After</span><span class="punctuation">: </span>290</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 11:19:32 GMT</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;You have exceeded your rate limit.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">42900</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>å¿…é¡»</code> ä¸ºæ‰€æœ‰çš„ API è®¾ç½® Rate Limit æ”¯æŒã€‚</p><h3 id="500-Internal-Server-Error"><a href="#500-Internal-Server-Error" class="headerlink" title="500 Internal Server Error"></a>500 Internal Server Error</h3><p>è¯¥çŠ¶æ€ç  <code>å¿…é¡»</code> åœ¨æœåŠ¡å™¨å‡ºé”™æ—¶æŠ›å‡ºï¼Œå¯¹äºæ‰€æœ‰çš„ <code>500</code> é”™è¯¯ï¼Œéƒ½ <code>åº”è¯¥</code> æä¾›å®Œæ•´çš„é”™è¯¯ä¿¡æ¯æ”¯æŒï¼Œä¹Ÿæ–¹ä¾¿è·Ÿè¸ªè°ƒè¯•ã€‚</p><h3 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h3><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„ç†ä¸å¯ç”¨çŠ¶æ€ï¼Œå½“æœåŠ¡å™¨éœ€è¦ç»´æŠ¤æˆ–ç¬¬ä¸‰æ–¹ <code>API</code> è¯·æ±‚è¶…æ—¶/ä¸å¯è¾¾æ—¶ï¼Œéƒ½ <code>åº”è¯¥</code> è¿”å›è¯¥çŠ¶æ€ç ï¼Œå…¶ä¸­è‹¥æ˜¯ä¸»åŠ¨å…³é—­ API æœåŠ¡ï¼Œ<code>åº”è¯¥ </code>åœ¨è¿”å›çš„å“åº”é¦–éƒ¨åŠ ä¸Š <code>Retry-After</code> å¤´éƒ¨ï¼Œè¡¨ç¤ºå¤šå°‘ç§’åå¯ä»¥å†æ¬¡è®¿é—®ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">503</span> Service Unavailable</span><br><span class="line"><span class="attribute">Server</span><span class="punctuation">: </span>nginx/1.11.9</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Transfer-Encoding</span><span class="punctuation">: </span>chunked</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache, private</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Sun, 24 Jun 2018 10:56:20 GMT</span><br><span class="line"><span class="attribute">Retry-After</span><span class="punctuation">: </span>60</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;error_code&quot;</span>:<span class="number">50300</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>:<span class="string">&quot;æœåŠ¡ç»´æŠ¤ä¸­&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä»– <code>HTTP</code> çŠ¶æ€ç è¯·å‚è€ƒ <a href="https://zh.wikipedia.org/zh-hans/HTTP%E7%8A%B6%E6%80%81%E7%A0%81">HTTP çŠ¶æ€ç - ç»´åŸºç™¾ç§‘</a>ã€‚</p><h2 id="ç‰ˆæƒå£°æ˜"><a href="#ç‰ˆæƒå£°æ˜" class="headerlink" title="ç‰ˆæƒå£°æ˜"></a>ç‰ˆæƒå£°æ˜</h2><blockquote><p>ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆ<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">åˆ›æ„å…±äº«3.0è®¸å¯è¯</a>ï¼‰</p></blockquote><h2 id="å»ºè®®å‚è€ƒ"><a href="#å»ºè®®å‚è€ƒ" class="headerlink" title="å»ºè®®å‚è€ƒ"></a>å»ºè®®å‚è€ƒ</h2><p><a href="https://github.com/aisuhua/restful-api-design-references">restful-api-design-references</a></p><p><a href="http://www.cnblogs.com/moonz-wu/p/4211626.html">Principles of good RESTful API Designï¼ˆè¯‘ï¼‰</a></p><p><a href="http://www.ruanyifeng.com/blog/2011/09/restful.html">ç†è§£ RESTful æ¶æ„</a></p><p><a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html">RESTful API è®¾è®¡æŒ‡å—</a></p><p><a href="https://zh.wikipedia.org/zh-hans/HTTP%E7%8A%B6%E6%80%81%E7%A0%81">HTTP çŠ¶æ€ç - ç»´åŸºç™¾ç§‘</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;RESTful-API-è®¾è®¡è§„èŒƒ&quot;&gt;&lt;a href=&quot;#RESTful-API-è®¾è®¡è§„èŒƒ&quot; class=&quot;headerlink&quot; title=&quot;RESTful API è®¾è®¡è§„èŒƒ&quot;&gt;&lt;/a&gt;RESTful API è®¾è®¡è§„èŒƒ&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;åŸ</summary>
      
    
    
    
    <category term="è§„èŒƒ" scheme="https://sitoi.cn/categories/%E8%A7%84%E8%8C%83/"/>
    
    
    <category term="è§„èŒƒ" scheme="https://sitoi.cn/tags/%E8%A7%84%E8%8C%83/"/>
    
    <category term="RESTful" scheme="https://sitoi.cn/tags/RESTful/"/>
    
    <category term="API" scheme="https://sitoi.cn/tags/API/"/>
    
    <category term="è®¾è®¡" scheme="https://sitoi.cn/tags/%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäº Hexo GitHub ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆäº”ï¼‰ï¼šè‡ªåŠ¨éƒ¨ç½²ç¯‡</title>
    <link href="https://sitoi.cn/posts/15908.html"/>
    <id>https://sitoi.cn/posts/15908.html</id>
    <published>2019-12-30T07:53:46.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<div class="note danger flat"><p>é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ï¼›<br>ä¸æ‡‚å¾—å¯ä»¥ç™¾åº¦æˆ–è€… Googleï¼›<br>è¿˜æœ‰å¼„ä¸æ˜ç™½çš„å¯ä»¥åœ¨æœ¬ç«™ç‚¹ç•™è¨€ï¼Œæˆ–æ·»åŠ ç«™é•¿ Wechatã€QQ ç­‰</p></div><div class="note info flat"><p>æ–‡æ¡£ç›®å½•</p><p><a href="https://sitoi.cn/posts/6666.html">ç¯å¢ƒå‡†å¤‡</a><br><a href="https://sitoi.cn/posts/27801.html">æ­å»ºåŸºç¡€</a><br><a href="https://sitoi.cn/posts/63466.html">ä¸»é¢˜é…ç½®</a><br><a href="https://sitoi.cn/posts/49115.html">ä¸»é¢˜ä¼˜åŒ– - æ·»åŠ  PWA</a><br><a href="https://sitoi.cn/posts/15908.html">è‡ªåŠ¨éƒ¨ç½²</a></p></div><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ–‡æ•™ç¨‹æ•™ä½ å®ç°ï¼Œå¦‚ä½•å°†ä½ çš„ Hexo åšå®¢è‡ªåŠ¨éƒ¨ç½²åˆ°å¤šä¸ªå¹³å°</p><ul><li>GitHub</li><li>GitLab</li><li>Coding</li><li>Gitee</li></ul><p>ä¼˜ç‚¹ï¼š</p><ul><li>ç¼–å†™æ–‡ç« ï¼Œæ¨é€åˆ° <code>GitHub</code> å³å¯å®ç°è‡ªåŠ¨éƒ¨ç½²</li><li>åˆ©ç”¨ <code>GitHub</code> çš„ç§æœ‰ä»“åº“å°†åšå®¢æºç ç›´æ¥ä¿å­˜åœ¨ <code>GitHub</code> ä¸Š</li></ul><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ol><li><code>Hexo</code> åšå®¢æºç çš„ä»“åº“ï¼Œåœ¨ <code>GitHub</code> ä¸Šã€‚</li><li><code>ssh</code> å¯†é’¥ï¼Œå‚è€ƒæ–‡ç« ï¼š<a href="https://sitoi.cn/posts/43508.html">Windows ä¸‹åˆ©ç”¨ Git ç”Ÿæˆ SSH KEY å¹¶é…ç½®åˆ° GitHub</a></li></ol><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ol><li>ä¸ºéœ€è¦éƒ¨ç½²çš„å¹³å°æ·»åŠ å¯†é’¥</li><li>ä¿®æ”¹ <code>_config.yml</code> ä¸­çš„ <code>deploy</code> é…ç½®</li><li>åœ¨ GitHub ä¸Šè®¾ç½® <code>Secrets</code></li><li>åˆ›å»º GitHub Action</li></ol><h2 id="ä¸ºéœ€è¦éƒ¨ç½²çš„å¹³å°æ·»åŠ å¯†é’¥"><a href="#ä¸ºéœ€è¦éƒ¨ç½²çš„å¹³å°æ·»åŠ å¯†é’¥" class="headerlink" title="ä¸ºéœ€è¦éƒ¨ç½²çš„å¹³å°æ·»åŠ å¯†é’¥"></a>ä¸ºéœ€è¦éƒ¨ç½²çš„å¹³å°æ·»åŠ å¯†é’¥</h2><p>æŒ‰ç…§ä¹‹å‰çš„æ•™ç¨‹ï¼Œåªè¦ä½ ä¹‹å‰æˆåŠŸå°† Hexo çš„åšå®¢éƒ¨ç½²åˆ° GitHub ä¸Šï¼Œé‚£ä½ ç”µè„‘åœ¨ <code>~/.ssh</code> ç›®å½•ä¸‹ä¸€å®šæœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶ï¼š</p><ul><li><code>id_rsa</code>ï¼šç§é’¥</li><li><code>id_rsa.pub</code>ï¼šå…¬é’¥</li><li><code>known_hosts</code>ï¼šè®°å½•å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä¿¡èµ–çš„è¿œç¨‹ä¸»æœºçš„å…¬é’¥</li></ul><p>å°† <code>id_rsa.pub</code>ï¼ˆå…¬é’¥ï¼‰æ·»åŠ åˆ°ä¸åŒå¹³å°ä¸­å³å¯ï¼Œå‚è€ƒæ–‡ç« ï¼š<a href="https://sitoi.cn/posts/43508.html#%E6%9F%A5%E7%9C%8B-SSH-KEY">Windows ä¸‹åˆ©ç”¨ Git ç”Ÿæˆ SSH KEY å¹¶é…ç½®åˆ° GitHub</a></p><p>ä¸‹é¢æ˜¯ä¸åŒå¹³å°æ·»åŠ çš„åœ°å€ï¼š</p><ul><li><a href="https://github.com/settings/ssh/new">GitHub</a></li><li><a href="https://gitlab.com/profile/keys">GitLab</a></li><li><a href="https://e.coding.net/">Coding</a></li><li><a href="https://gitee.com/profile/sshkeys">Gitee</a></li></ul><h2 id="ä¿®æ”¹-config-yml-ä¸­çš„-deploy-é…ç½®"><a href="#ä¿®æ”¹-config-yml-ä¸­çš„-deploy-é…ç½®" class="headerlink" title="ä¿®æ”¹ _config.yml ä¸­çš„ deploy é…ç½®"></a>ä¿®æ”¹ <code>_config.yml</code> ä¸­çš„ <code>deploy</code> é…ç½®</h2><p>è¯·ä½¿ç”¨ <code>ssh</code> (å³ä»¥ <code>git@</code> å¼€å¤´çš„ <code>clone</code> é“¾æ¥)çš„è¿æ¥æ–¹å¼ï¼Œæ ¹æ®ç›´æ¥çš„å®é™…åœ°å€å¡«å†™ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span></span><br><span class="line">      <span class="attr">github:</span> <span class="string">git@github.com:Sitoi/Sitoi.github.io.git</span></span><br><span class="line">      <span class="attr">coding:</span> <span class="string">git@e.coding.net:Sitoi/Sitoi.git</span></span><br><span class="line">      <span class="attr">gitee:</span> <span class="string">git@gitee.com:sitoi/sitoi.git</span></span><br><span class="line">      <span class="attr">gitlab:</span> <span class="string">git@gitlab.com:Sitoi/sitoi.gitlab.io.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h2 id="åœ¨-GitHub-ä¸Šè®¾ç½®-Secrets"><a href="#åœ¨-GitHub-ä¸Šè®¾ç½®-Secrets" class="headerlink" title="åœ¨ GitHub ä¸Šè®¾ç½® Secrets"></a>åœ¨ GitHub ä¸Šè®¾ç½® <code>Secrets</code></h2><ol><li><p>è¿›å…¥åˆ°ä½ åœ¨ <code>GitHub</code> ä¸Šé¢çš„æºç ä»“åº“</p></li><li><p>ç‚¹å‡»å³ä¸Šè§’çš„ <code>Settings</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo/repos_settings.png" alt="Settings"></p></li><li><p>ç‚¹å‡»å·¦ä¾§çš„ <code>Secrets</code></p></li><li><p>ç‚¹å‡»å³ä¸Šè§’çš„ <code>New secret</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo/secrets.png" alt="New secret"></p></li><li><p>åœ¨ <code>Name</code> ä¸­è¾“å…¥ <code>HEXO_DEPLOY_PRI</code>ï¼Œåœ¨ <code>Value</code> ä¸­å¡«å…¥ <code>id_rsa</code>ï¼ˆç§é’¥ï¼‰çš„å…¨éƒ¨å†…å®¹</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo/add_secret.png" alt="Add secret"></p></li></ol><h2 id="åˆ›å»º-GitHub-Action"><a href="#åˆ›å»º-GitHub-Action" class="headerlink" title="åˆ›å»º GitHub Action"></a>åˆ›å»º GitHub Action</h2><ol><li><p>ç‚¹å‡»é¡¹ç›®ä¸Šæ–¹çš„ <code>Action</code> æŒ‰é’®</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo/action.png" alt="Action"></p></li><li><p>ç‚¹å‡» <code>set up a workflow yourself</code> åˆ›å»º <code>Workflow</code></p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo/workflow.png" alt="Workflow"></p></li><li><p>ä¿®æ”¹ <code>main.yaml</code> çš„å†…å®¹</p><p> <img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo/create_workflow.png" alt="Create Workflow"></p><blockquote><p>æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹æˆä½ è‡ªå·±çš„å†…å®¹</p></blockquote><ul><li>Git æ¨é€ä½¿ç”¨çš„ç”¨æˆ·åï¼šgit config â€“global user.name â€˜sitoiâ€™ï¼š</li><li>Git æ¨é€ä½¿ç”¨çš„é‚®ç®±ï¼šgit config â€“global user.email â€˜<a href="mailto:&#49;&#51;&#51;&#x33;&#x39;&#55;&#52;&#x31;&#x38;&#x40;&#x71;&#113;&#x2e;&#99;&#x6f;&#x6d;">&#49;&#51;&#51;&#x33;&#x39;&#55;&#52;&#x31;&#x38;&#x40;&#x71;&#113;&#x2e;&#99;&#x6f;&#x6d;</a>â€˜</li><li>Hexo çš„ç‰ˆæœ¬ï¼šnpm i <a href="mailto:&#104;&#x65;&#120;&#x6f;&#x40;&#52;&#46;&#49;&#46;&#x31;">&#104;&#x65;&#120;&#x6f;&#x40;&#52;&#46;&#49;&#46;&#x31;</a> -g</li></ul> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">butterfly</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">butterfly-build:</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="attr">node-version:</span> [<span class="number">10.</span><span class="string">x</span>]</span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span> <span class="number">10.</span><span class="string">x</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&#x27;10.x&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">env</span> <span class="string">prepare</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">HEXO_DEPLOY_PRI:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.HEXO_DEPLOY_PRI</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          mkdir -p ~/.ssh/</span></span><br><span class="line"><span class="string">          echo &quot;$HEXO_DEPLOY_PRI&quot; &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">          ssh-keyscan gitlab.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">          ssh-keyscan e.coding.net &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">          ssh-keyscan gitee.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">          git config --global user.name &#x27;sitoi&#x27;</span></span><br><span class="line"><span class="string">          git config --global user.email &#x27;133397418@qq.com&#x27;</span></span><br><span class="line"><span class="string">          npm i</span></span><br><span class="line"><span class="string">          npm i hexo@4.1.1 -g</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">gen</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string">          hexo deploy</span></span><br></pre></td></tr></table></figure></li><li><p>å°†ä½ çš„æºç æ¨é€åˆ° <code>GitHub</code> ä¸Šï¼Œä½ çš„åšå®¢ä¸€ä¼šå°±ä¼šè‡ªåŠ¨æ›´æ–°äº†ã€‚</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note danger flat&quot;&gt;&lt;p&gt;é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ï¼›&lt;br&gt;ä¸æ‡‚å¾—å¯ä»¥ç™¾åº¦æˆ–è€… Googleï¼›&lt;br&gt;è¿˜æœ‰å¼„ä¸æ˜ç™½çš„å¯ä»¥åœ¨æœ¬ç«™ç‚¹ç•™è¨€ï¼Œæˆ–æ·»åŠ ç«™é•¿ Wechatã€QQ ç­‰&lt;/p&gt;
&lt;/div&gt;

&lt;div cl</summary>
      
    
    
    
    <category term="Hexo" scheme="https://sitoi.cn/categories/Hexo/"/>
    
    
    <category term="GitHub" scheme="https://sitoi.cn/tags/GitHub/"/>
    
    <category term="Hexo" scheme="https://sitoi.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäº Hexo GitHub ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆå››ï¼‰ï¼šè®©ä½ çš„åšå®¢å®Œç¾æ”¯æŒ PWA</title>
    <link href="https://sitoi.cn/posts/49115.html"/>
    <id>https://sitoi.cn/posts/49115.html</id>
    <published>2019-12-29T14:18:21.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<div class="note danger flat"><p>é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ï¼›<br>ä¸æ‡‚å¾—å¯ä»¥ç™¾åº¦æˆ–è€… Googleï¼›<br>è¿˜æœ‰å¼„ä¸æ˜ç™½çš„å¯ä»¥åœ¨æœ¬ç«™ç‚¹ç•™è¨€ï¼Œæˆ–æ·»åŠ ç«™é•¿ Wechatã€QQ ç­‰</p></div><div class="note info flat"><p>æ–‡æ¡£ç›®å½•</p><p><a href="https://sitoi.cn/posts/6666.html">ç¯å¢ƒå‡†å¤‡</a><br><a href="https://sitoi.cn/posts/27801.html">æ­å»ºåŸºç¡€</a><br><a href="https://sitoi.cn/posts/63466.html">ä¸»é¢˜é…ç½®</a><br><a href="https://sitoi.cn/posts/49115.html">ä¸»é¢˜ä¼˜åŒ– - æ·»åŠ  PWA</a><br><a href="https://sitoi.cn/posts/15908.html">è‡ªåŠ¨éƒ¨ç½²</a></p></div><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>Qï¼šä¸ºä»€ä¹ˆè®©ä½ çš„åšå®¢æ”¯æŒ PWAï¼Ÿ</p></blockquote><ul><li>å¯ä»¥æ”¯æŒç¦»çº¿è§‚çœ‹</li><li>å¯è¢«è¯†åˆ«æˆä¸€ä¸ªåº”ç”¨ç¨‹åº</li><li>å“åº”å¼ é€‚åˆä»»ä½•å½¢å¼çš„è®¾å¤‡</li></ul><h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><ul><li>å…¨ç«™æ”¯æŒ <code>HTTPS</code></li></ul><h2 id="å®‰è£…-hexo-pwa"><a href="#å®‰è£…-hexo-pwa" class="headerlink" title="å®‰è£… hexo-pwa"></a>å®‰è£… hexo-pwa</h2><p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®‰è£… <code>hexo-pwa</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-pwa --save</span><br></pre></td></tr></table></figure><blockquote><p><code>hexo@4.2.0</code> ç›®å‰èµä¸å…¼å®¹ <code>hexo-pwa</code>,ä½¿ç”¨ <code>hexo@4.2.0</code> ç‰ˆæœ¬çš„ç”¨æˆ·æ¨èé™çº§åˆ° <code>hexo@4.1.1</code></p></blockquote><p>æŸ¥è¯¢ç‰ˆæœ¬ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --version</span><br></pre></td></tr></table></figure><p>å®‰è£… Hexo æŒ‡å®šç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo@4.1.1 --save</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶-config-yml"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶-config-yml" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶ _config.yml"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶ _config.yml</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">manifest:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/manifest.json</span></span><br><span class="line">    <span class="attr">body:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">Sitoi</span></span><br><span class="line">      <span class="attr">short_name:</span> <span class="string">Sitoi</span></span><br><span class="line">      <span class="attr">theme_color:</span> <span class="string">white</span></span><br><span class="line">      <span class="attr">background_color:</span> <span class="string">white</span></span><br><span class="line">      <span class="attr">display:</span> <span class="string">standalone</span></span><br><span class="line">      <span class="attr">orientation:</span> <span class="string">portrait</span></span><br><span class="line">      <span class="attr">scope:</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">start_url:</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">icons:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_48.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">48x48</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_96.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">96x96</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_128.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">128x128</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_144.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">144x144</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_180.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">180x180</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_192.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">192x192</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_512.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">512x512</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/apple-touch-icon.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">180x180</span></span><br><span class="line">  <span class="attr">serviceWorker:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/sw.js</span></span><br><span class="line">    <span class="attr">preload:</span></span><br><span class="line">      <span class="attr">urls:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">posts:</span> <span class="number">12</span></span><br><span class="line">    <span class="attr">opts:</span></span><br><span class="line">      <span class="attr">networkTimeoutSeconds:</span> <span class="number">30</span></span><br><span class="line">    <span class="attr">routes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/hm.baidu.com/</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">networkOnly</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/www.google-analytics.com/</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">networkOnly</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/.*\.(js|css|jpg|jpeg|png|gif)$/</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/\//</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">networkFirst</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨</strong>ï¼š_config.yml ä¸­çš„ <code>manifest</code> ä¸‹çš„ <code>body</code> ä¸ <code>manifest.json</code> æ–‡ä»¶å†…å®¹ä¿æŒä¸€è‡´</p></blockquote><ul><li>manifest - manifest é…ç½®<ul><li>path - <code>manifest.json</code> çš„è·¯å¾„ï¼Œä¾‹ï¼š<code>/manifest.json</code></li><li>body - <code>manifest.json</code> çš„å†…å®¹ï¼Œ<a href="https://developer.mozilla.org/en-US/docs/Web/Manifest">manifest.json ä¾‹å­</a>. <code>body</code> å¯ä»¥ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œ<code>hexo-pwa</code> ä¼šç”Ÿå­˜ä¸€ä¸ª <code>manifest.json</code> å’Œ <code>JSON.stringify(body)</code></li></ul></li><li>serviceWorker - service worker é…ç½®<ul><li>path: <code>sw.js</code>è·¯å¾„ï¼Œä¾‹: <code>/sw.js</code>, è¯·åŠ¡å¿…å°† <code>sw.js</code> æ”¾åœ¨ä¸»ç›®å½•ä¸‹</li><li>preload - æ‚¨è¦é¢„åŠ è½½çš„ç½‘å€æˆ–å¸–å­<ul><li>urls: é¢„è½½ç½‘å€çš„æ•°ç»„</li><li>posts: é¢„è½½å¸–å­æ•°</li></ul></li><li>opts: <a href="https://googlechromelabs.github.io/sw-toolbox/api.html#options">sw-toolbox</a> çš„é€‰é¡¹</li><li>routes - æ ¹æ® <a href="https://googlechromelabs.github.io/sw-toolbox/#main">sw-toolbox</a> è¯·æ±‚è·¯ç”±å’Œç­–ç•¥ã€‚<strong>è·¯çº¿é¡ºåºå¾ˆé‡è¦</strong>ã€‚<ul><li>pattern: <code>URL</code> æ¨¡å¼ï¼Œæ­¤é…ç½®å¯ä»¥æ˜¯<code>å¿«é€Ÿæ ·å¼</code>æˆ– <code>RegExp</code></li><li>strategy: æ‚¨è¦é€‰æ‹©çš„ç­–ç•¥ã€‚ <a href="https://googlechromelabs.github.io/sw-toolbox/api.html#options">æ‰€æœ‰ç­–ç•¥</a>: <code>cacheFirst</code>, <code>networkFirst</code>, <code>cacheOnly</code>, <code>networkOnly</code>, <code>fastest</code>ã€‚è­¦å‘Šï¼šæ—¥å¿—è¯·æ±‚åº”ä½¿ç”¨ <code>networkOnly</code> ç­–ç•¥ã€‚</li></ul></li></ul></li><li>priority - <a href="https://hexo.io/api/filter.html">æ’ä»¶ä¼˜å…ˆçº§</a> (default value is 10)</li></ul><h2 id="æ·»åŠ -manifest-json-å’Œ-sw-js"><a href="#æ·»åŠ -manifest-json-å’Œ-sw-js" class="headerlink" title="æ·»åŠ  manifest.json å’Œ sw.js"></a>æ·»åŠ  manifest.json å’Œ sw.js</h2><h3 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a>manifest.json</h3><p>manifest ç”Ÿæˆåœ°å€ï¼š <a href="https://app-manifest.firebaseapp.com/">https://app-manifest.firebaseapp.com/</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;short_name&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;theme_color&quot;</span>: <span class="string">&quot;white&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;background_color&quot;</span>: <span class="string">&quot;white&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;display&quot;</span>: <span class="string">&quot;standalone&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scope&quot;</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;start_url&quot;</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;icons&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_48.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;48x48&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_96.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;96x96&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_128.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;128x128&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_144.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;144x144&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_180.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;180x180&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_192.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;192x192&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/medias/logo_512.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;512x512&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/apple-touch-icon.png&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;180x180&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p> å‚æ•°è§£é‡Šï¼š</p></blockquote><ul><li><p>name: {string} åº”ç”¨åç§°ï¼Œç”¨äºå®‰è£…æ¨ªå¹…ã€å¯åŠ¨ç”»é¢æ˜¾ç¤º</p></li><li><p>short_name: {string} åº”ç”¨çŸ­åç§°ï¼Œç”¨äºä¸»å±å¹•æ˜¾ç¤º</p></li><li><p>theme_color: {Color} cssè‰²å€¼theme_color å±æ€§å¯ä»¥æŒ‡å®š PWA çš„ä¸»é¢˜é¢œè‰²ã€‚å¯ä»¥é€šè¿‡è¯¥å±æ€§æ¥æ§åˆ¶æµè§ˆå™¨ UI çš„é¢œè‰²ã€‚æ¯”å¦‚ PWA å¯åŠ¨ç”»é¢ä¸ŠçŠ¶æ€æ ã€å†…å®¹é¡µä¸­çŠ¶æ€æ ã€åœ°å€æ çš„é¢œè‰²ï¼Œä¼šè¢« theme_color æ‰€å½±å“ã€‚</p></li><li><p>background_color: {Color} cssè‰²å€¼ å¯ä»¥æŒ‡å®šå¯åŠ¨ç”»é¢çš„èƒŒæ™¯é¢œè‰²ã€‚</p></li><li><p>display: {string} æ˜¾ç¤ºç±»å‹</p><ul><li>fullscreen    åº”ç”¨çš„æ˜¾ç¤ºç•Œé¢å°†å æ»¡æ•´ä¸ªå±å¹•</li><li>standalone    æµè§ˆå™¨ç›¸å…³UIï¼ˆå¦‚å¯¼èˆªæ ã€å·¥å…·æ ç­‰ï¼‰å°†ä¼šè¢«éšè—</li><li>minimal-ui    æ˜¾ç¤ºå½¢å¼ä¸standaloneç±»ä¼¼ï¼Œæµè§ˆå™¨ç›¸å…³UIä¼šæœ€å°åŒ–ä¸ºä¸€ä¸ªæŒ‰é’®ï¼Œä¸åŒæµè§ˆå™¨åœ¨å®ç°ä¸Šç•¥æœ‰ä¸åŒ</li><li>browser    æµè§ˆå™¨æ¨¡å¼ï¼Œä¸æ™®é€šç½‘é¡µåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€çš„æ˜¾ç¤ºä¸€è‡´</li></ul></li><li><p>scope: {string} ä½œç”¨åŸŸ</p><ul><li>scope åº”éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</li><li>å¦‚æœæ²¡æœ‰åœ¨ manifest ä¸­è®¾ç½® scopeï¼Œåˆ™é»˜è®¤çš„ä½œç”¨åŸŸä¸º manifest.json æ‰€åœ¨æ–‡ä»¶å¤¹ï¼›</li><li>scope å¯ä»¥è®¾ç½®ä¸º ../ æˆ–è€…æ›´é«˜å±‚çº§çš„è·¯å¾„æ¥æ‰©å¤§PWAçš„ä½œç”¨åŸŸï¼›</li><li>start_url å¿…é¡»åœ¨ä½œç”¨åŸŸèŒƒå›´å†…ï¼›</li><li>å¦‚æœ start_url ä¸ºç›¸å¯¹åœ°å€ï¼Œå…¶æ ¹è·¯å¾„å— scope æ‰€å½±å“ï¼›</li><li>å¦‚æœ start_url ä¸ºç»å¯¹åœ°å€ï¼ˆä»¥ / å¼€å¤´ï¼‰ï¼Œåˆ™è¯¥åœ°å€å°†æ°¸è¿œä»¥ / ä½œä¸ºæ ¹åœ°å€ï¼›</li></ul></li><li><p>start_url: {string} åº”ç”¨å¯åŠ¨åœ°å€</p></li><li><p>icons: {Array.<ImageObject>} åº”ç”¨å›¾æ ‡åˆ—è¡¨</p><ul><li>src: {string} å›¾æ ‡ url</li><li>sizes {string} å›¾æ ‡å°ºå¯¸ï¼Œæ ¼å¼ä¸ºwidthxheightï¼Œå®½é«˜æ•°å€¼ä»¥ css çš„ px ä¸ºå•ä½ã€‚å¦‚æœéœ€è¦å¡«å†™å¤šä¸ªå°ºå¯¸ï¼Œåˆ™ä½¿ç”¨ç©ºæ ¼è¿›è¡Œé—´éš”ï¼Œå¦‚â€48x48 96x96 128x128â€</li><li>type {string} å›¾æ ‡çš„ mime ç±»å‹ï¼Œéå¿…å¡«é¡¹ï¼Œè¯¥å­—æ®µå¯è®©æµè§ˆå™¨å¿«é€Ÿå¿½ç•¥æ‰ä¸æ”¯æŒçš„å›¾æ ‡ç±»å‹</li></ul></li></ul><h3 id="sw-js"><a href="#sw-js" class="headerlink" title="sw.js"></a>sw.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">importScripts(<span class="string">&#x27;https://g.alicdn.com/kg/workbox/3.3.0/workbox-sw.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (workbox) &#123;</span><br><span class="line">    workbox.setConfig(&#123; <span class="attr">modulePathPrefix</span>: <span class="string">&#x27;https://g.alicdn.com/kg/workbox/3.3.0/&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line">    workbox.precaching.precache([<span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/index.html&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    workbox.routing.registerRoute(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;^https?://sitoi.cn/?$&#x27;</span>), workbox.strategies.networkFirst());</span><br><span class="line"></span><br><span class="line">    workbox.routing.registerRoute(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;.*.html&#x27;</span>), workbox.strategies.networkFirst());</span><br><span class="line"></span><br><span class="line">    workbox.routing.registerRoute(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;.*.(?:js|css|jpg|png|gif)&#x27;</span>), workbox.strategies.staleWhileRevalidate());</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹ä¸»é¡µåŸŸå <code>^https?://sitoi.cn/?$</code> çš„æ­£åˆ™è¡¨è¾¾å¼è·¯å¾„ï¼Œå°†è¿™ä¸ªçš„å€¼ä¿®æ”¹æˆä½ çš„ç½‘ç«™çš„ <code>host</code></p></blockquote><h2 id="å‡†å¤‡-Logo-å›¾ç‰‡"><a href="#å‡†å¤‡-Logo-å›¾ç‰‡" class="headerlink" title="å‡†å¤‡ Logo å›¾ç‰‡"></a>å‡†å¤‡ Logo å›¾ç‰‡</h2><blockquote><p>ä¸ºäº†ç¡®ä¿ä½ çš„ PWA å›¾æ ‡æ”¯æŒæ‰€æœ‰è®¾å¤‡ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨ <code>48x48</code>ã€<code>96x96</code>ã€<code>128x128</code>ã€<code>144x144</code>ã€<code>180x180</code>ã€<code>192x192</code>ã€<code>512x512</code> åˆ†è¾¨ç‡çš„ Logo å›¾ç‰‡å„ä¸€å¼ </p></blockquote><p>å°†ä¸Šè¿°å›¾ç‰‡æ”¾åˆ°å¯¹åº”çš„ç›®å½•ä¸‹ï¼Œå¹¶ä¿®æ”¹ <code>_config.yml</code> å’Œ <code>manifest.json</code> ä¸ä¹‹å¯¹åº”</p><p>æ¨èå›¾ç‰‡å¤§å°è½¬æ¢ç½‘ç«™ï¼š<a href="https://www.iloveimg.com/zh-cn/resize-image">https://www.iloveimg.com</a></p><h2 id="æ£€æŸ¥-PWA-æœåŠ¡"><a href="#æ£€æŸ¥-PWA-æœåŠ¡" class="headerlink" title="æ£€æŸ¥ PWA æœåŠ¡"></a>æ£€æŸ¥ PWA æœåŠ¡</h2><p>å¯åŠ¨ä½ çš„ hexo åšå®¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo cl</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œä½ çš„å¯åŠ¨å¯èƒ½ä¼šå¯åŠ¨å¤±è´¥ï¼Œå¾ˆæœ‰å¯èƒ½çš„åŸå› æ˜¯å› ä¸º hexo ç‰ˆæœ¬çš„é—®é¢˜ï¼Œæ¨èä½¿ç”¨ <a href="mailto:&#x68;&#101;&#x78;&#x6f;&#64;&#x34;&#46;&#x31;&#46;&#49;">&#x68;&#101;&#x78;&#x6f;&#64;&#x34;&#46;&#x31;&#46;&#49;</a> åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡æ–°å®‰è£… <code>hexo</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo@4.1.1 --save</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ä½ çš„åšå®¢ï¼š<a href="http://localhost:4000/">http://localhost:4000/</a></p><p>æŒ‰ <code>F12</code> æˆ– <code>å³å‡»é€‰æ‹©æ£€æŸ¥</code> è¿›å…¥è°ƒè¯•é¡µé¢ åé€‰æ‹© Applicationï¼š</p><h3 id="æ£€æŸ¥-Manifest"><a href="#æ£€æŸ¥-Manifest" class="headerlink" title="æ£€æŸ¥ Manifest"></a>æ£€æŸ¥ Manifest</h3><p>çœ‹åˆ°é…ç½®æ­£ç¡®å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo_sw.png" alt="Manifest"></p><h3 id="æ£€æŸ¥-Swrvice-Workers"><a href="#æ£€æŸ¥-Swrvice-Workers" class="headerlink" title="æ£€æŸ¥ Swrvice Workers"></a>æ£€æŸ¥ Swrvice Workers</h3><p>çœ‹åˆ° <code>Status activated and is running</code> å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo_sw.png" alt="Swrvice Workers"></p><h2 id="ä½¿ç”¨-Chrome-å®‰è£…-PWA-åº”ç”¨"><a href="#ä½¿ç”¨-Chrome-å®‰è£…-PWA-åº”ç”¨" class="headerlink" title="ä½¿ç”¨ Chrome å®‰è£… PWA åº”ç”¨"></a>ä½¿ç”¨ Chrome å®‰è£… PWA åº”ç”¨</h2><p>å¦‚æœä¸€åˆ‡é…ç½®æ­£ç¡®ï¼Œä½ ä¼šçœ‹åˆ° ä½ çš„ Chrome æµè§ˆå™¨ URL æ çš„æœ€å³ä¾§ æœ‰ä¸ª â• å·ï¼Œç‚¹å‡»å³å¯å®‰è£… PWA åº”ç”¨äº†</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/hexo_install_pwa.png" alt="INSTALL PWA"></p><p>æ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯ä½ çš„ chrome æµè§ˆå™¨æ²¡æœ‰å¼€å¯¹åº”çš„æœåŠ¡</p><blockquote><p>æ‰“å¼€æ–¹å¼å¦‚ä¸‹ï¼š</p></blockquote><ol><li><p>åœ°å€æ è¾“å…¥ï¼š<code>Chrome://flags</code></p></li><li><p>æœç´¢å¹¶å¯ç”¨ä»¥ä¸‹é¡¹ç›®ï¼š<code>Desktop PWAs local updating</code> ,<code>Intent picker </code> è®¾ç½®ä¸º enable å³å¯ã€‚</p></li><li><p>é‡å¯æµè§ˆå™¨å³å¯æ·»åŠ æ”¯æŒã€‚</p></li></ol><blockquote><p>å®‰è£…æˆåŠŸåï¼Œä½ çš„ç”µè„‘æ¡Œé¢å°±ä¼šæœ‰ä½ çš„åšå®¢çš„ PWA åº”ç”¨äº†ã€‚</p></blockquote><blockquote><p>ä½ ä»¥ä¸ºå°±ç»“æŸäº†å—ï¼Œä¸€åˆ‡ ok äº†å—ï¼ŒNO è¿™æ˜¯ä¸€ç¯‡å®Œç¾çš„å®‰è£… PWAï¼Œä½ ä¼šå‘ç°ï¼Œä½¿ç”¨ ios çš„ Safari æ·»åŠ åˆ°ä¸»å±å¹•ï¼Œå›¾æ ‡å¹¶ä¸æ˜¯ä½ è®¾ç½®çš„ã€‚</p></blockquote><h2 id="æ·»åŠ -IOS-Safari-PWA-å›¾æ ‡æ”¯æŒ"><a href="#æ·»åŠ -IOS-Safari-PWA-å›¾æ ‡æ”¯æŒ" class="headerlink" title="æ·»åŠ  IOS Safari PWA å›¾æ ‡æ”¯æŒ"></a>æ·»åŠ  IOS Safari PWA å›¾æ ‡æ”¯æŒ</h2><p>å…·ä½“åŸå› æ˜¯å› ä¸ºç¼ºå°‘ apple-touch-icon çš„å›¾æ ‡ï¼Œç»†å¿ƒçš„ç½‘å‹åº”è¯¥åœ¨ä¸Šæ–‡çš„ <code>manifest.json</code> ä¸­çš„ <code>icon</code> é…ç½®ä¸­å‘ç°äº†</p><h3 id="manifest-json-æ·»åŠ -apple-touch-icon-å›¾æ ‡"><a href="#manifest-json-æ·»åŠ -apple-touch-icon-å›¾æ ‡" class="headerlink" title="manifest.json æ·»åŠ  apple-touch-icon å›¾æ ‡"></a>manifest.json æ·»åŠ  apple-touch-icon å›¾æ ‡</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;/apple-touch-icon.png&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;180x180&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›¾æ ‡çš„å¤§å°è®¾ç½®ä¸º 180x180 ç›´æ¥å¤åˆ¶ä¸€ä»½ï¼Œé‡å‘½åä¸€ä¸‹å³å¯</p><blockquote><p><strong>æ³¨</strong>ï¼š_config.yml ä¸­çš„ <code>manifest</code> ä¸‹çš„ <code>body</code> ä¸ <code>manifest.json</code> æ–‡ä»¶å†…å®¹ä¿æŒä¸€è‡´</p></blockquote><h3 id="ä¿®æ”¹-head-ejs-æ–‡ä»¶"><a href="#ä¿®æ”¹-head-ejs-æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ head.ejs æ–‡ä»¶"></a>ä¿®æ”¹ head.ejs æ–‡ä»¶</h3><p>æ–‡ä»¶è·¯å¾„ï¼š<code>themes/matery/layout/_partial/head.ejs</code></p><p>åœ¨ head æ ‡ç­¾é‡Œ æ·»åŠ ä¸‰ä¸ªå…ƒç´ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- theme.appletouchicon %&gt;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attr">content</span>=<span class="string">&quot;white&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, user-scalable=no&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>theme-colorï¼šä¸­çš„ content å¯¹åº”çš„æ˜¯ä½  <code>manifest.json</code> ä¸­çš„ <code>theme_color</code> çš„å€¼</li><li>viewport: ç”¨äºé’ˆå¯¹ç§»åŠ¨å±å¹•ä¼˜åŒ– PWA åº”ç”¨ è¯¦ç»†é“¾æ¥<a href="https://web.dev/viewport/?utm_source=lighthouse&utm_medium=unknown">viewport</a></li><li>apple-touch-iconï¼šé…ç½® <code>apple-touch-icon</code> å›¾æ ‡é“¾æ¥  è¯·åœ¨ <code>_config.yml</code> ä¸­æ·»åŠ ï¼š<code>appletouchicon</code>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">appletouchicon:</span> <span class="string">/apple-touch-icon.png</span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p>åˆ°æ­¤ä½ çš„ Hexo åšå®¢åº”è¯¥å®Œç¾çš„æ·»åŠ äº† PWA äº† ~~ èµ¶ç´§å»ä½“éªŒä¸€ä¸‹ç¦»çº¿è®¿é—®åšå®¢çš„å¿«é€Ÿå§ã€‚<br>å¦‚æœ‰é—®é¢˜ï¼Œè¯·åœ¨ä¸‹æ–¹ç•™è¨€!</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note danger flat&quot;&gt;&lt;p&gt;é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ï¼›&lt;br&gt;ä¸æ‡‚å¾—å¯ä»¥ç™¾åº¦æˆ–è€… Googleï¼›&lt;br&gt;è¿˜æœ‰å¼„ä¸æ˜ç™½çš„å¯ä»¥åœ¨æœ¬ç«™ç‚¹ç•™è¨€ï¼Œæˆ–æ·»åŠ ç«™é•¿ Wechatã€QQ ç­‰&lt;/p&gt;
&lt;/div&gt;

&lt;div cl</summary>
      
    
    
    
    <category term="Hexo" scheme="https://sitoi.cn/categories/Hexo/"/>
    
    
    <category term="GitHub" scheme="https://sitoi.cn/tags/GitHub/"/>
    
    <category term="Hexo" scheme="https://sitoi.cn/tags/Hexo/"/>
    
    <category term="PWA" scheme="https://sitoi.cn/tags/PWA/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäº Hexo GitHub ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆä¸‰ï¼‰ï¼šMatery ä¸»é¢˜ï¼ˆDIY ç‰ˆï¼‰è¯¦ç»†é…ç½®æ•™ç¨‹ï¼Œé™„åšå®¢æºç </title>
    <link href="https://sitoi.cn/posts/63466.html"/>
    <id>https://sitoi.cn/posts/63466.html</id>
    <published>2019-12-28T08:52:30.000Z</published>
    <updated>2021-09-02T01:06:14.132Z</updated>
    
    <content type="html"><![CDATA[<div class="note danger flat"><p>é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ï¼›<br>ä¸æ‡‚å¾—å¯ä»¥ç™¾åº¦æˆ–è€… Googleï¼›<br>è¿˜æœ‰å¼„ä¸æ˜ç™½çš„å¯ä»¥åœ¨æœ¬ç«™ç‚¹ç•™è¨€ï¼Œæˆ–æ·»åŠ ç«™é•¿ Wechatã€QQ ç­‰</p></div><div class="note info flat"><p>æ–‡æ¡£ç›®å½•</p><p><a href="https://sitoi.cn/posts/6666.html">ç¯å¢ƒå‡†å¤‡</a><br><a href="https://sitoi.cn/posts/27801.html">æ­å»ºåŸºç¡€</a><br><a href="https://sitoi.cn/posts/63466.html">ä¸»é¢˜é…ç½®</a><br><a href="https://sitoi.cn/posts/49115.html">ä¸»é¢˜ä¼˜åŒ– - æ·»åŠ  PWA</a><br><a href="https://sitoi.cn/posts/15908.html">è‡ªåŠ¨éƒ¨ç½²</a></p></div><div class="note primary no-icon flat"><p>è¿™æ˜¯ä¸€ä¸ªé‡‡ç”¨ <code>Material Design</code> å’Œå“åº”å¼è®¾è®¡çš„ Hexo åšå®¢ä¸»é¢˜ã€‚</p></div><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é˜…è¯»æœ¬ç¯‡å‰ï¼Œè¯·ç¡®ä¿ä½ å·²ç»èƒ½å¤Ÿè‡ªå·±åœ¨ <code>GitHub Pages</code> ä¸Šæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„åˆå§‹åŒ–åšå®¢äº†ã€‚</p><ul><li><a href="https://sitoi.cn/posts/6666.html">åŸºäº Hexo GitHub ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆä¸€ï¼‰ï¼šç¯å¢ƒå‡†å¤‡ç¯‡</a></li><li><a href="https://sitoi.cn/posts/27801.html">åŸºäº Hexo GitHub ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆäºŒï¼‰ï¼šæ­å»ºåŸºç¡€ç¯‡</a></li></ul><p>æœ¬ç¯‡æ˜¯å…³äº matery ä¸»é¢˜çš„ä¸€ä¸ªä»‹ç»å’Œé…ç½®æ•™ç¨‹ï¼Demo:<a href="https://crawlmkt.github.io/">https://crawlmkt.github.io/</a></p><p>é˜…è¯»å®Œæœ¬ç¯‡ï¼Œä½ çš„åšå®¢åŸºæœ¬ä¸Šå·²ç»å®Œå…¨å¯ä»¥ä½¿ç”¨äº†ã€‚å¦‚æœæœ‰ä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œä¹Ÿå¯ä»¥é˜…è¯»æœ¬ç³»åˆ—åé¢çš„æ–‡ç« ï¼Œæˆ–è€…ç•™è¨€æé—®ï¼Œä¹Ÿå¯ä»¥åŠ æˆ‘å¾®ä¿¡æˆ– QQã€‚</p><h2 id="æ•ˆæœæˆªå›¾"><a href="#æ•ˆæœæˆªå›¾" class="headerlink" title="æ•ˆæœæˆªå›¾"></a>æ•ˆæœæˆªå›¾</h2><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/matery_index.png" alt="é¦–é¡µ"></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/matery_tuijian.png" alt="é¦–é¡µæ¨èæ–‡ç« "></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/matery_list.png" alt="é¦–é¡µæ–‡ç« åˆ—è¡¨"></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/matery_about.png" alt="å…³äºé¡µé¢"></p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/matery_post.png" alt="æ–‡ç« è¯¦ç»†é¡µ"></p><h2 id="åšå®¢ç‰¹æ€§"><a href="#åšå®¢ç‰¹æ€§" class="headerlink" title="åšå®¢ç‰¹æ€§"></a>åšå®¢ç‰¹æ€§</h2><ul><li>ç®€å•æ¼‚äº®ï¼Œæ–‡ç« å†…å®¹ç¾è§‚æ˜“è¯»</li><li><a href="https://material.io/">Material Design</a> è®¾è®¡</li><li>å“åº”å¼è®¾è®¡ï¼Œåšå®¢åœ¨æ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡ä¸Šå‡èƒ½å¾ˆå¥½çš„å±•ç°</li><li>é¦–é¡µè½®æ’­æ–‡ç« åŠæ¯å¤©åŠ¨æ€åˆ‡æ¢ <code>Banner</code> å›¾ç‰‡</li><li>ç€‘å¸ƒæµå¼çš„åšå®¢æ–‡ç« åˆ—è¡¨ï¼ˆæ–‡ç« æ— ç‰¹è‰²å›¾ç‰‡æ—¶ä¼šæœ‰ <code>24</code> å¼ æ¼‚äº®çš„å›¾ç‰‡ä»£æ›¿ï¼‰</li><li>æ—¶é—´è½´å¼çš„å½’æ¡£é¡µ</li><li><strong>è¯äº‘</strong>çš„æ ‡ç­¾é¡µå’Œ<strong>é›·è¾¾å›¾</strong>çš„åˆ†ç±»é¡µ</li><li>ä¸°å¯Œçš„å…³äºæˆ‘é¡µé¢ï¼ˆåŒ…æ‹¬å…³äºæˆ‘ã€æ–‡ç« ç»Ÿè®¡å›¾ã€æˆ‘çš„é¡¹ç›®ã€æˆ‘çš„æŠ€èƒ½ç­‰ï¼‰</li><li>å¯è‡ªå®šä¹‰çš„æ•°æ®çš„å‹æƒ…é“¾æ¥é¡µé¢</li><li>æ”¯æŒæ–‡ç« ç½®é¡¶å’Œæ–‡ç« æ‰“èµ</li><li>æ”¯æŒ <code>MathJax</code></li><li><code>TOC</code> ç›®å½•</li><li>å¯è®¾ç½®å¤åˆ¶æ–‡ç« å†…å®¹æ—¶è¿½åŠ ç‰ˆæƒä¿¡æ¯</li><li>å¯è®¾ç½®é˜…è¯»æ–‡ç« æ—¶åšå¯†ç éªŒè¯</li><li><a href="https://gitalk.github.io/">Gitalk</a>ã€<a href="https://imsun.github.io/gitment/">Gitment</a>ã€<a href="https://valine.js.org/">Valine</a> å’Œ <a href="https://disqus.com/">Disqus</a> è¯„è®ºæ¨¡å—ï¼ˆæ¨èä½¿ç”¨ <code>Gitalk</code>ï¼‰</li><li>é›†æˆäº†<a href="http://busuanzi.ibruce.info/">ä¸è’œå­ç»Ÿè®¡</a>ã€è°·æ­Œåˆ†æï¼ˆ<code>Google Analytics</code>ï¼‰å’Œæ–‡ç« å­—æ•°ç»Ÿè®¡ç­‰åŠŸèƒ½</li><li>æ”¯æŒåœ¨é¦–é¡µçš„éŸ³ä¹æ’­æ”¾å’Œè§†é¢‘æ’­æ”¾åŠŸèƒ½</li><li>ç»šä¸½å½©è™¹æ’­æ”¾å™¨</li><li>å…¨ç«™æ”¯æŒ PWA</li><li>çœ‹æ¿å¨˜</li><li>æ”¯æŒ<code>emoji</code>è¡¨æƒ…ï¼Œç”¨<code>markdown emoji</code>è¯­æ³•ä¹¦å†™ç›´æ¥ç”Ÿæˆå¯¹åº”çš„èƒ½<strong>è·³è·ƒ</strong>çš„è¡¨æƒ…ã€‚</li><li>æ”¯æŒ <a href="http://www.daovoice.io/">DaoVoice</a>ã€<a href="https://www.tidio.com/">Tidio</a> åœ¨çº¿èŠå¤©åŠŸèƒ½ã€‚</li><li>æ”¯æŒ jsdelivr CDN åŠ é€Ÿ</li></ul><h2 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h2><p>å½“ä½ çœ‹åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œåº”è¯¥å·²ç»æœ‰ä¸€ä¸ªè‡ªå·±çš„ <a href="https://hexo.io/zh-cn/">Hexo</a> åšå®¢äº†ã€‚å¦‚æœè¿˜æ²¡æœ‰çš„è¯ï¼Œä¸å¦¨ä½¿ç”¨ Hexo å’Œ <a href="https://sitoi.cn/posts/15814.html">Markdown</a> æ¥å†™åšå®¢å’Œæ–‡ç« ã€‚</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œç‚¹å‡»<a href="https://github.com/Sitoi/Sitoi-blog">è¿™é‡Œ</a> ä¸‹è½½åšå®¢æºç åˆ°æœ¬åœ°</li><li>ç¬¬äºŒæ­¥ï¼Œå®‰è£… npm ä¾èµ–åŒ…</li><li>ç¬¬ä¸‰æ­¥ï¼Œä¿®æ”¹ä¸‹é¢çš„é…ç½®ï¼ŒDIY ä½ çš„ä¸ªäººåšå®¢</li><li>ç¬¬å››æ­¥ï¼Œéƒ¨ç½² Hexo åšå®¢åˆ° GitHub ä¸Š</li></ul><h2 id="å®‰è£…-npm-ä¾èµ–åŒ…"><a href="#å®‰è£…-npm-ä¾èµ–åŒ…" class="headerlink" title="å®‰è£… npm ä¾èµ–åŒ…"></a>å®‰è£… npm ä¾èµ–åŒ…</h2><p>ä¸‹è½½åšå®¢æºç åï¼Œè¿›å…¥é¡¹ç›®æ ¹ç›®å½•å®‰è£… npm ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h3 id="æ£€æµ‹-hexo-ç‰ˆæœ¬"><a href="#æ£€æµ‹-hexo-ç‰ˆæœ¬" class="headerlink" title="æ£€æµ‹ hexo ç‰ˆæœ¬"></a>æ£€æµ‹ hexo ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --version</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">hexo: 4.1.1</span><br><span class="line">hexo-cli: 3.1.0</span><br><span class="line">os: Windows_NT 10.0.18363 win32 x64</span><br><span class="line">node: 13.5.0</span><br><span class="line">v8: 7.9.317.25-node.23</span><br><span class="line">uv: 1.34.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.7</span><br><span class="line">ares: 1.15.0</span><br><span class="line">modules: 79</span><br><span class="line">nghttp2: 1.40.0</span><br><span class="line">napi: 5</span><br><span class="line">llhttp: 2.0.1</span><br><span class="line">openssl: 1.1.1d</span><br><span class="line">cldr: 36.0</span><br><span class="line">icu: 65.1</span><br><span class="line">tz: 2019c</span><br><span class="line">unicode: 12.1</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ hexo ç‰ˆæœ¬ï¼Œå¦‚æœä¸æ˜¯  <code>hexo: 4.1.1</code> è¯·è¿è¡Œå¦‚ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo@4.1.1</span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸º hexo ç‰ˆæœ¬é—®é¢˜ä¼šå¯¼è‡´åšå®¢è¿è¡ŒæŠ¥é”™</p></blockquote><h2 id="é…ç½®æ¸…å•"><a href="#é…ç½®æ¸…å•" class="headerlink" title="é…ç½®æ¸…å•"></a>é…ç½®æ¸…å•</h2><p>åœ¨æœ¬ä¸»é¢˜çš„ <code>_config.yml</code> ä¸­å¯ä»¥ä¿®æ”¹éƒ¨åˆ†è‡ªå®šä¹‰ä¿¡æ¯ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><p>åšå®¢åŸºæœ¬ä¿¡æ¯</p><ul><li>æ ‡é¢˜</li><li>å‰¯æ ‡é¢˜</li><li>ç®€ä»‹</li><li>å…³é”®è¯</li><li>ä½œè€…</li><li><code>url</code></li><li><code>favicon</code> </li><li><code>Logo</code></li></ul></li><li><p>èœå•æ </p><ul><li>åŸºæœ¬èœå•ä¿¡æ¯</li><li>äºŒçº§èœå•é…ç½®</li><li>æ‰‹æœºäºŒçº§èœå•</li></ul></li><li><p>åšå®¢é¦–é¡µçš„é…ç½®</p><ul><li>é¦–é¡µå£çº¸</li><li>èœå•æ å³ä¾§ Fork Me é…ç½®</li><li>è½®æ’­å›¾é…ç½®</li><li>è½®æ’­å›¾ä¸­çš„ç¬¬äºŒä¸ªæŒ‰é’®é…ç½®</li><li>ä¸ªäººä¿¡æ¯</li><li>é¦–é¡µè¯­å¥</li><li>é¦–é¡µéŸ³ä¹æ’­æ”¾å™¨</li><li>é¦–é¡µè§†é¢‘æ’­æ”¾å™¨</li><li>é¦–é¡µæ¨èæ–‡ç« åç§°å’ŒæŒ‰é’®é…ç½®</li><li>åšå®¢åˆ†é¡µ</li><li>ç½‘ç«™æ˜¾ç¤ºçš„æ—¥æœŸæ ¼å¼</li><li>åšå®¢é¡µè„šä¿¡æ¯</li></ul></li><li><p>åšå®¢æ–‡ç« é¡µé…ç½®</p><ul><li>æ–‡ç« åŸºæœ¬ä¿¡æ¯</li><li>æ–‡ç« å­—æ•°ç»Ÿè®¡</li><li>TOC ç›®å½•</li><li>æ–‡ç« æ‰“èµä¿¡æ¯</li><li>å¤åˆ¶æ–‡ç« å†…å®¹æ—¶è¿½åŠ ç‰ˆæƒä¿¡æ¯</li><li>MathJax</li><li>é…ç½® emoji è¡¨æƒ…</li><li>è½¬è½½é™åˆ¶é…ç½®</li><li>æ–‡ç« é˜…è¯»å¯†ç </li><li>æ–‡ç« åˆ†äº«æ¨¡å—</li></ul></li><li><p>åšå®¢å…³äºé¡µé…ç½®</p><ul><li>ä¸ªäººä¿¡æ¯</li><li>é¡¹ç›®ä¿¡æ¯</li><li>æŠ€èƒ½ä¿¡æ¯</li></ul></li><li><p>åšå®¢ç•™è¨€æ¿é…ç½®</p><ul><li>Gitalk</li><li>Gitment</li><li>Disqus</li><li>Livere</li><li>Valine</li><li>miniValine</li></ul></li><li><p>åšå®¢å‹é“¾çš„é…ç½®</p></li><li><p>åšå®¢æœç´¢çš„é…ç½®</p></li><li><p>åšå®¢ç‰¹æ•ˆçš„é…ç½®</p><ul><li>å•æœºé¡µé¢çˆ±å¿ƒæ•ˆæœ</li><li>èƒŒæ™¯ Canvas-nest</li></ul></li><li><p>åšå®¢ç»Ÿè®¡çš„é…ç½®</p><ul><li>ä¸è’œå­</li><li>Google Analytics</li><li>Baidu Analytics</li><li>ç«™é•¿ä¹‹å®¶</li></ul></li><li><p>åšå®¢å…¶ä»–åŠŸèƒ½é…ç½®</p><ul><li>jsdelivr åŠ é€Ÿ</li><li>æ˜¯å¦æ¯æ—¥åˆ‡æ¢èƒŒæ™¯ï¼ˆé¦–é¡µèƒŒæ™¯ï¼‰</li><li>å›¾ç‰‡æ‡’åŠ è½½</li><li>ç½‘é¡µé¢„åŠ è½½</li><li>åœ¨çº¿èŠå¤©åŠŸèƒ½</li><li>ç»šä¸½å½©è™¹æ’­æ”¾å™¨</li><li>åšå®¢å¯¼æµå…¬ä¼—å·</li><li>è±†ç“£ä¹¦å•å½±å•</li><li>åšå®¢çœ‹æ¿å¨˜</li></ul></li><li><p>åšå®¢æ·»åŠ  PWA åŠŸèƒ½</p></li><li><p>åšå®¢å…¶ä»–æ ·å¼é…ç½®</p><ul><li>ä¿®æ”¹ä¸»é¢˜é¢œè‰²</li><li>ä¿®æ”¹ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾<br>  é»˜è®¤ç‰¹è‰²å›¾çš„é›†åˆã€‚å½“æ–‡ç« æ²¡æœ‰è®¾ç½®ç‰¹è‰²å›¾æ—¶ï¼Œæœ¬ä¸»é¢˜ä¼šæ ¹æ®æ–‡ç« æ ‡é¢˜çš„ <code>hashcode</code> å€¼å–ä½™ï¼Œæ¥é€‰æ‹©å±•ç¤ºå¯¹åº”çš„ç‰¹è‰²å›¾</li></ul></li></ul><h2 id="ä¿®æ”¹åšå®¢åŸºæœ¬ä¿¡æ¯"><a href="#ä¿®æ”¹åšå®¢åŸºæœ¬ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹åšå®¢åŸºæœ¬ä¿¡æ¯"></a>ä¿®æ”¹åšå®¢åŸºæœ¬ä¿¡æ¯</h2><h3 id="é…ç½®åšå®¢åŸºæœ¬ä¿¡æ¯"><a href="#é…ç½®åšå®¢åŸºæœ¬ä¿¡æ¯" class="headerlink" title="é…ç½®åšå®¢åŸºæœ¬ä¿¡æ¯"></a>é…ç½®åšå®¢åŸºæœ¬ä¿¡æ¯</h3><ul><li><code>title</code>ï¼šç½‘ç«™çš„æ ‡é¢˜</li><li><code>subtitle</code>ï¼šç½‘ç«™å‰¯æ ‡é¢˜ï¼Œé»˜è®¤æ‰“å­—æ•ˆæœ</li><li><code>description</code>: ç½‘ç«™ç®€ä»‹</li><li><code>keywords</code>ï¼šä¾¿äºæœç´¢å¼•æ“æ”¶å½•ï¼Œåˆ†ç±»</li><li><code>author</code>ï¼šç½‘ç«™ä½œè€…</li><li><code>url</code>ï¼šä½ çš„ç½‘ç«™ä¸» <code>URL</code>ï¼ˆå¦‚ï¼š<code>https://xxx.github.io</code>ï¼‰,å¦‚æœä½ åæœŸç»‘å®šäº†è‡ªå·±çš„åŸŸåï¼Œåˆ‡è®°ä¿®æ”¹æˆä½ çš„åŸŸåã€‚</li><li><code>favicon</code>ï¼š<code>favicon</code> å°±æ˜¯ç«™ç‚¹æ ‡ç­¾æ çš„å°å›¾æ ‡ï¼Œé€‰æ‹©æ–°çš„å›¾æ ‡æ–‡ä»¶è¦†ç›–å³å¯ï¼Œæ–‡ä»¶ä½ç½®ï¼š<code>themes/matery/source/favicon.ico</code></li><li><code>logo</code>ï¼šç½‘ç«™çš„ Logo é€‰æ‹©æ–°çš„å›¾æ ‡æ–‡ä»¶è¦†ç›–å³å¯ï¼Œæ–‡ä»¶ä½ç½®ï¼š<code>themes/matery/source/apple-touch-icon.png</code></li></ul><h3 id="é…ç½®ç½‘ç«™æ–‡ç« é“¾æ¥æ ¼å¼"><a href="#é…ç½®ç½‘ç«™æ–‡ç« é“¾æ¥æ ¼å¼" class="headerlink" title="é…ç½®ç½‘ç«™æ–‡ç« é“¾æ¥æ ¼å¼"></a>é…ç½®ç½‘ç«™æ–‡ç« é“¾æ¥æ ¼å¼</h3><p><a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink æ’ä»¶</a> å¯ä»¥ç”Ÿæˆéä¸­æ–‡çš„é“¾æ¥ã€‚</p><p>æ’ä»¶ä½œç”¨ï¼šè‡ªåŠ¨ä¸ºæ¯ç¯‡æ–‡ç« ç”Ÿæˆä¸€ä¸²æ•°å­—ä½œæ¯ç¯‡æ–‡ç« çš„ URI åœ°å€ã€‚æ¯ç¯‡æ–‡ç« çš„ Front-matter ä¸­ä¼šè‡ªåŠ¨å¢åŠ ä¸€ä¸ªé…ç½®é¡¹ï¼šabbrlink: xxxxxï¼Œè¯¥é¡¹çš„å€¼å°±æ˜¯å½“å‰æ–‡ç« çš„ URI åœ°å€ã€‚</p><p>æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span>   <span class="comment"># æ­¤å¤„å¯ä»¥è‡ªå·±è®¾ç½®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ :abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc16</span>                      <span class="comment"># ç®—æ³•é€‰é¡¹ï¼š crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">dec</span>                        <span class="comment"># è¾“å‡ºè¿›åˆ¶ï¼š dec(default) and hex</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ ·ç«™ç‚¹ç»“æ„å°±å˜æˆäº†ï¼šåŸŸå/posts/xxx.html</p></blockquote><h2 id="ä¿®æ”¹åšå®¢èœå•æ é…ç½®"><a href="#ä¿®æ”¹åšå®¢èœå•æ é…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢èœå•æ é…ç½®"></a>ä¿®æ”¹åšå®¢èœå•æ é…ç½®</h2><h3 id="é…ç½®åŸºæœ¬èœå•å¯¼èˆªä¿¡æ¯"><a href="#é…ç½®åŸºæœ¬èœå•å¯¼èˆªä¿¡æ¯" class="headerlink" title="é…ç½®åŸºæœ¬èœå•å¯¼èˆªä¿¡æ¯"></a>é…ç½®åŸºæœ¬èœå•å¯¼èˆªä¿¡æ¯</h3><ol><li>èœå•å¯¼èˆªåç§°å¯ä»¥æ˜¯ä¸­æ–‡ä¹Ÿå¯ä»¥æ˜¯è‹±æ–‡(å¦‚ï¼š<code>Index</code> æˆ–<code>ä¸»é¡µ</code>) </li><li>å›¾æ ‡ icon å¯ä»¥åœ¨ <a href="https://fontawesome.com/icons">Font Awesome</a> ä¸­æŸ¥æ‰¾   </li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Index:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Tags:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/tags</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/categories</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-bookmark</span></span><br><span class="line">  <span class="attr">Archives:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/archives</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">About:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/about</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-user-circle-o</span></span><br><span class="line">  <span class="attr">Contact:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/contact</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">Friends:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/friends</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-address-book</span></span><br></pre></td></tr></table></figure><h3 id="äºŒçº§èœå•é…ç½®æ–¹æ³•"><a href="#äºŒçº§èœå•é…ç½®æ–¹æ³•" class="headerlink" title="äºŒçº§èœå•é…ç½®æ–¹æ³•"></a>äºŒçº§èœå•é…ç½®æ–¹æ³•</h3><p>å¦‚æœä½ éœ€è¦äºŒçº§èœå•åˆ™å¯ä»¥åœ¨åŸåŸºæœ¬èœå•å¯¼èˆªçš„åŸºç¡€ä¸Šå¦‚ä¸‹æ“ä½œ</p><ol><li>åœ¨éœ€è¦æ·»åŠ äºŒçº§èœå•çš„ä¸€çº§èœå•ä¸‹æ·»åŠ  <code>children</code> å…³é”®å­—(å¦‚ï¼š<code>Media</code> èœå•ä¸‹æ·»åŠ  <code>children</code>)     </li><li>åœ¨ <code>children</code> ä¸‹åˆ›å»ºäºŒçº§èœå•çš„ åç§° <code>name</code>,è·¯å¾„ <code>url</code> å’Œå›¾æ ‡ <code>icon</code>.      </li><li>æ³¨æ„æ¯ä¸ªäºŒçº§èœå•æ¨¡å—å‰è¦åŠ  <code>-</code>.     </li><li>æ³¨æ„ç¼©è¿›æ ¼å¼  </li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Index:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Tags:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/tags</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/categories</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-bookmark</span></span><br><span class="line">  <span class="attr">Archives:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/archives</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-archive</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">About:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/about</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-user-circle-o</span></span><br><span class="line">  <span class="attr">Contact:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/contact</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">Friends:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/friends</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-address-book</span></span><br><span class="line">  <span class="attr">Media:</span></span><br><span class="line">    <span class="comment">#    url: /</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-list</span></span><br><span class="line">    <span class="attr">children:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å½±å•</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">/movies</span></span><br><span class="line">        <span class="attr">icon:</span> <span class="string">fa-film</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ä¹¦å•</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">/books</span></span><br><span class="line">        <span class="attr">icon:</span> <span class="string">fa-book</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹æœºäºŒçº§èœå•é…ç½®"><a href="#æ‰‹æœºäºŒçº§èœå•é…ç½®" class="headerlink" title="æ‰‹æœºäºŒçº§èœå•é…ç½®"></a>æ‰‹æœºäºŒçº§èœå•é…ç½®</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">navMenu:</span></span><br><span class="line">  <span class="attr">mleft:</span> <span class="literal">true</span>    <span class="comment">#  äºŒçº§ä¾§æ å­èœå•æ˜¯å¦å¯¹é½å·¦è¾¹</span></span><br><span class="line">  <span class="attr">bgColor:</span> <span class="string">&quot; &quot;</span>   <span class="comment">#  äºŒçº§ä¾§æ å­èœå•èƒŒæ™¯é¢œè‰²,ç•™ç©ºå³ä¸ºå…¨å±€èƒŒæ™¯è‰²</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢é¦–é¡µçš„é…ç½®"><a href="#ä¿®æ”¹åšå®¢é¦–é¡µçš„é…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢é¦–é¡µçš„é…ç½®"></a>ä¿®æ”¹åšå®¢é¦–é¡µçš„é…ç½®</h2><h3 id="èœå•æ æœ€å³ä¾§æ˜¯å¦æ˜¾ç¤º-fork-me-on-github-çš„å›¾æ ‡"><a href="#èœå•æ æœ€å³ä¾§æ˜¯å¦æ˜¾ç¤º-fork-me-on-github-çš„å›¾æ ‡" class="headerlink" title="èœå•æ æœ€å³ä¾§æ˜¯å¦æ˜¾ç¤º fork me on github çš„å›¾æ ‡"></a>èœå•æ æœ€å³ä¾§æ˜¯å¦æ˜¾ç¤º fork me on github çš„å›¾æ ‡</h3><p>é»˜è®¤ä¸º trueï¼Œä½ å¯ä»¥ä¿®æ”¹ä¸ºä½ çš„ä»“åº“åœ°å€. </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">githubLink:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>                                   <span class="comment"># æ˜¯å¦å¼€å¯</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://github.com/sitoi/sitoi.github.io</span>  <span class="comment"># GitHub ä»“åº“åœ°å€</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Fork</span> <span class="string">Me</span>                                 <span class="comment"># æ˜¾ç¤ºæ–‡å­—</span></span><br></pre></td></tr></table></figure><h3 id="é¦–é¡µè½®æ’­å›¾ç›¸å…³é…ç½®"><a href="#é¦–é¡µè½®æ’­å›¾ç›¸å…³é…ç½®" class="headerlink" title="é¦–é¡µè½®æ’­å›¾ç›¸å…³é…ç½®"></a>é¦–é¡µè½®æ’­å›¾ç›¸å…³é…ç½®</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="attr">showPrevNext:</span> <span class="literal">false</span>     <span class="comment"># æ˜¯å¦æ˜¾ç¤ºå·¦å³åˆ‡æ¢æŒ‰é’®</span></span><br><span class="line">  <span class="attr">showIndicators:</span> <span class="literal">false</span>   <span class="comment"># æ˜¯å¦æ˜¾ç¤ºæŒ‡ç¤ºå™¨</span></span><br><span class="line">  <span class="attr">autoLoop:</span> <span class="literal">false</span>         <span class="comment"># æ˜¯å¦è‡ªåŠ¨è½®æ’­</span></span><br><span class="line">  <span class="attr">duration:</span> <span class="number">120</span>           <span class="comment"># åˆ‡æ¢å»¶è¿Ÿæ—¶é—´ï¼Œé»˜è®¤å•ä½ ç§’</span></span><br><span class="line">  <span class="attr">intervalTime:</span> <span class="number">5000</span>      <span class="comment"># è‡ªåŠ¨åˆ‡æ¢ä¸‹ä¸€å¼ çš„é—´éš”æ—¶é—´</span></span><br></pre></td></tr></table></figure><h3 id="é¦–é¡µè½®æ’­å›¾ä¸­ç¬¬äºŒä¸ªæŒ‰é’®é…ç½®"><a href="#é¦–é¡µè½®æ’­å›¾ä¸­ç¬¬äºŒä¸ªæŒ‰é’®é…ç½®" class="headerlink" title="é¦–é¡µè½®æ’­å›¾ä¸­ç¬¬äºŒä¸ªæŒ‰é’®é…ç½®"></a>é¦–é¡µè½®æ’­å›¾ä¸­ç¬¬äºŒä¸ªæŒ‰é’®é…ç½®</h3><p>é¦–é¡µ <code>banner</code> ä¸­çš„ç¬¬äºŒä¸ªæŒ‰é’®çš„é…ç½®ï¼ŒåŒ…æ‹¬æŒ‰é’®çš„<code>æ˜¾ç¤ºåç§°</code>ã€<code>font awesomeå›¾æ ‡</code>å’Œ<code>æŒ‰é’®çš„è¶…é“¾æ¥</code>.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">indexbtn:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>                     <span class="comment"># æ˜¯å¦å¯åŠ¨ç¬¬äºŒä¸ªæŒ‰é’®</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">Github</span>                     <span class="comment"># æŒ‰é’®åç§°</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">fa-github-alt</span>              <span class="comment"># æŒ‰é’®å›¾æ ‡</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://github.com/Sitoi/</span>   <span class="comment"># æŒ‰é’®è¶…é“¾æ¥</span></span><br></pre></td></tr></table></figure><h3 id="é¦–é¡µè½®æ’­å›¾ä¸­çš„ä¸ªäººä¿¡æ¯"><a href="#é¦–é¡µè½®æ’­å›¾ä¸­çš„ä¸ªäººä¿¡æ¯" class="headerlink" title="é¦–é¡µè½®æ’­å›¾ä¸­çš„ä¸ªäººä¿¡æ¯"></a>é¦–é¡µè½®æ’­å›¾ä¸­çš„ä¸ªäººä¿¡æ¯</h3><p><code>é¦–é¡µè½®æ’­å›¾</code>ä¸­ã€<code>é¡µè„š</code>ã€ä»¥åŠ<code>å…³äº</code>é¡µé¢éƒ½ä¼šå‡ºç°çš„ä¸ªäººä¿¡æ¯ï¼Œç•™ç©ºå³ä¸å¯ç”¨</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">socialLink:</span></span><br><span class="line">  <span class="attr">qq:</span> <span class="number">1333397418</span>               <span class="comment"># QQ</span></span><br><span class="line">  <span class="attr">github:</span> <span class="string">Sitoi</span>                <span class="comment"># GitHub</span></span><br><span class="line">  <span class="attr">facebook:</span>                    <span class="comment"># Facebook</span></span><br><span class="line">  <span class="attr">twitter:</span>                     <span class="comment"># Twitter</span></span><br><span class="line">  <span class="attr">weibo:</span>                       <span class="comment"># Weibo</span></span><br><span class="line">  <span class="attr">email:</span> <span class="number">133397418</span><span class="string">@qq.com</span>      <span class="comment"># é‚®ç®±</span></span><br><span class="line">  <span class="attr">zhihu:</span>                       <span class="comment"># çŸ¥ä¹</span></span><br><span class="line">  <span class="attr">jianshu:</span> <span class="string">0289c6c3a717</span>        <span class="comment"># ç®€ä¹¦</span></span><br><span class="line">  <span class="attr">rss:</span> <span class="literal">true</span>                    <span class="comment"># RSS è®¢é˜…       true è¡¨ç¤ºå¯åŠ¨ã€false è¡¨ç¤ºå…³é—­</span></span><br><span class="line">  <span class="attr">wechat:</span> <span class="literal">true</span>                 <span class="comment"># å¾®ä¿¡å¥½å‹äºŒç»´ç   true è¡¨ç¤ºå¯åŠ¨ã€false è¡¨ç¤ºå…³é—­</span></span><br></pre></td></tr></table></figure><blockquote><p>é™¤ rss å’Œ wechat å¤–ï¼Œå…¶ä»–çš„éƒ½éœ€å¡«å†™å¯¹åº”çš„ä¿¡æ¯å³å¯</p></blockquote><h3 id="RSS-è®¢é˜…"><a href="#RSS-è®¢é˜…" class="headerlink" title="RSS è®¢é˜…"></a>RSS è®¢é˜…</h3><p>åŸºäº <a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a> çš„ Hexo æ’ä»¶æ¥åš <code>RSS</code>ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><h3 id="å¾®ä¿¡å¥½å‹äºŒç»´ç "><a href="#å¾®ä¿¡å¥½å‹äºŒç»´ç " class="headerlink" title="å¾®ä¿¡å¥½å‹äºŒç»´ç "></a>å¾®ä¿¡å¥½å‹äºŒç»´ç </h3><p>éœ€è¦ä¿®æ”¹å¾®ä¿¡äºŒç»´ç çš„å›¾ç‰‡ï¼Œå›¾ç‰‡ä½ç½®ï¼š<code>themes/matery/source/wechat.jpg</code></p><h3 id="é…ç½®é¦–é¡µè¯­å¥"><a href="#é…ç½®é¦–é¡µè¯­å¥" class="headerlink" title="é…ç½®é¦–é¡µè¯­å¥"></a>é…ç½®é¦–é¡µè¯­å¥</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dream:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>                                 <span class="comment"># æ˜¯å¦å¼€å¯</span></span><br><span class="line">  <span class="attr">showTitle:</span> <span class="literal">false</span>                             <span class="comment"># æ˜¯éƒ½æ˜¾ç¤ºæ ‡é¢˜</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">æˆ‘çš„æ¢¦æƒ³</span>                               <span class="comment"># æ ‡é¢˜å†…å®¹</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">æ”¾å¼ƒä¸éš¾ï¼Œä½†åšæŒä¸€å®šå¾ˆé…·ã€‚â€”â€”ã€Šè§£å¿§æ‚è´§é“ºã€‹</span> <span class="comment"># æ¢¦æƒ³è¯­å¥</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®é¦–é¡µéŸ³ä¹"><a href="#é…ç½®é¦–é¡µéŸ³ä¹" class="headerlink" title="é…ç½®é¦–é¡µéŸ³ä¹"></a>é…ç½®é¦–é¡µéŸ³ä¹</h3><p>è¦æ”¯æŒéŸ³ä¹æ’­æ”¾ï¼Œå°±å¿…é¡»å¼€å¯éŸ³ä¹çš„æ’­æ”¾é…ç½®å’ŒéŸ³ä¹æ•°æ®çš„æ–‡ä»¶ã€‚</p><p>é¦–å…ˆï¼Œåœ¨ä½ çš„åšå®¢ <code>source</code> ç›®å½•ä¸‹çš„ <code>_data</code> ç›®å½•ï¼ˆæ²¡æœ‰çš„è¯å°±æ–°å»ºä¸€ä¸ªï¼‰ä¸­æ–°å»º <code>musics.json</code> æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;äº”æœˆé›¨å˜å¥ç”µéŸ³&quot;</span>,</span><br><span class="line"><span class="attr">&quot;artist&quot;</span>: <span class="string">&quot;AnimeVibe&quot;</span>,</span><br><span class="line"><span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://xxx.com/music1.mp3&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cover&quot;</span>: <span class="string">&quot;http://xxx.com/music-cover1.png&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Take me hand&quot;</span>,</span><br><span class="line"><span class="attr">&quot;artist&quot;</span>: <span class="string">&quot;DAISHI DANCE,Cecile Corbel&quot;</span>,</span><br><span class="line"><span class="attr">&quot;url&quot;</span>: <span class="string">&quot;/medias/music/music2.mp3&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cover&quot;</span>: <span class="string">&quot;/medias/music/cover2.png&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"><span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Shape of You&quot;</span>,</span><br><span class="line"><span class="attr">&quot;artist&quot;</span>: <span class="string">&quot;J.Fla&quot;</span>,</span><br><span class="line"><span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://xxx.com/music3.mp3&quot;</span>,</span><br><span class="line"><span class="attr">&quot;cover&quot;</span>: <span class="string">&quot;http://xxx.com/music-cover3.png&quot;</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨</strong>ï¼šä»¥ä¸Š JSON ä¸­çš„å±æ€§ï¼š<code>name</code>ã€<code>artist</code>ã€<code>url</code>ã€<code>cover</code> åˆ†åˆ«è¡¨ç¤ºéŸ³ä¹çš„åç§°ã€ä½œè€…ã€éŸ³ä¹æ–‡ä»¶åœ°å€ã€éŸ³ä¹å°é¢ã€‚</p></blockquote><p>ç„¶åï¼Œåœ¨ <code>_config.yml</code> é…ç½®æ–‡ä»¶ä¸­æ¿€æ´»é…ç½®å³å¯ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">music:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>                 <span class="comment"># æ˜¯å¦å¼€å¯</span></span><br><span class="line">  <span class="attr">showTitle:</span> <span class="literal">false</span>              <span class="comment"># æ˜¯å¦æ˜¾ç¤ºæ ‡é¢˜</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">å¬å¬éŸ³ä¹</span>                <span class="comment"># æ ‡é¢˜å†…å®¹</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">false</span>                  <span class="comment"># å¼€å¯å¸åº•æ¨¡å¼</span></span><br><span class="line">  <span class="attr">autoplay:</span> <span class="literal">true</span>                <span class="comment"># æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">&#x27;#542674&#x27;</span>              <span class="comment"># é¢œè‰²</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="string">&#x27;all&#x27;</span>                   <span class="comment"># éŸ³é¢‘å¾ªç¯æ’­æ”¾, å¯é€‰å€¼: &#x27;all&#x27;, &#x27;one&#x27;, &#x27;none&#x27;</span></span><br><span class="line">  <span class="attr">order:</span> <span class="string">&#x27;list&#x27;</span>                 <span class="comment"># éŸ³é¢‘å¾ªç¯é¡ºåº, å¯é€‰å€¼: &#x27;list&#x27;, &#x27;random&#x27;</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="string">&#x27;auto&#x27;</span>               <span class="comment"># é¢„åŠ è½½ï¼Œå¯é€‰å€¼: &#x27;none&#x27;, &#x27;metadata&#x27;, &#x27;auto&#x27;</span></span><br><span class="line">  <span class="attr">volume:</span> <span class="number">0.7</span>                   <span class="comment"># é»˜è®¤éŸ³é‡ï¼Œè¯·æ³¨æ„æ’­æ”¾å™¨ä¼šè®°å¿†ç”¨æˆ·è®¾ç½®ï¼Œç”¨æˆ·æ‰‹åŠ¨è®¾ç½®éŸ³é‡åé»˜è®¤éŸ³é‡å³å¤±æ•ˆ</span></span><br><span class="line">  <span class="attr">listFolded:</span> <span class="literal">false</span>             <span class="comment"># åˆ—è¡¨é»˜è®¤æŠ˜å </span></span><br><span class="line">  <span class="attr">listMaxHeight:</span> <span class="string">&quot;197px&quot;</span>        <span class="comment"># åˆ—è¡¨æœ€å¤§é«˜åº¦</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®é¦–é¡µè§†é¢‘"><a href="#é…ç½®é¦–é¡µè§†é¢‘" class="headerlink" title="é…ç½®é¦–é¡µè§†é¢‘"></a>é…ç½®é¦–é¡µè§†é¢‘</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">video:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>                                           <span class="comment"># æ˜¯å¦å¼€å¯è§†é¢‘</span></span><br><span class="line">  <span class="attr">showTitle:</span> <span class="literal">false</span>                                        <span class="comment"># æ˜¯å¦æ˜¾ç¤ºæ ‡é¢˜</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">æ²»æ„ˆè§†é¢‘</span>                                          <span class="comment"># æ ‡é¢˜å†…å®¹</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4</span> <span class="comment"># è§†é¢‘è¶…é“¾æ¥</span></span><br><span class="line">  <span class="attr">pic:</span>                                                    <span class="comment"># å›¾ç‰‡è¶…é“¾æ¥ </span></span><br><span class="line">  <span class="attr">thumbnails:</span>                                             </span><br><span class="line">  <span class="attr">height:</span>                                                 <span class="comment"># é«˜åº¦</span></span><br><span class="line">  <span class="attr">autoplay:</span> <span class="literal">false</span>                                         <span class="comment"># æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">&#x27;#42b983&#x27;</span>                                        <span class="comment"># é¢œè‰²</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span>                                              <span class="comment"># æ˜¯å¦å¾ªç¯æ’­æ”¾</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="string">&#x27;auto&#x27;</span>                                         <span class="comment"># é¢„åŠ è½½ï¼Œå¯é€‰å€¼: &#x27;none&#x27;, &#x27;metadata&#x27;, &#x27;auto&#x27;</span></span><br><span class="line">  <span class="attr">volume:</span> <span class="number">0.7</span>                                             <span class="comment"># éŸ³é‡å¤§å°</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ¨èæ–‡ç« "><a href="#é…ç½®æ¨èæ–‡ç« " class="headerlink" title="é…ç½®æ¨èæ–‡ç« "></a>é…ç½®æ¨èæ–‡ç« </h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">recommend:</span></span><br><span class="line">  <span class="attr">showTitle:</span> <span class="literal">true</span>  <span class="comment"># æ˜¯å¦æ˜¾ç¤ºæ¨èæ–‡ç« çš„æ ‡é¢˜</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®åšå®¢åˆ†é¡µ"><a href="#é…ç½®åšå®¢åˆ†é¡µ" class="headerlink" title="é…ç½®åšå®¢åˆ†é¡µ"></a>é…ç½®åšå®¢åˆ†é¡µ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span>       <span class="comment"># æ’åºè®¾ç½® ï¼ˆé»˜è®¤æŒ‰æ—¥æœŸé™åºæ’åˆ—ï¼‰</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">12</span>           <span class="comment"># åˆ†é¡µï¼Œæ¯é¡µæ–‡ç« æ•°ç›®</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span>   <span class="comment"># åˆ†é¡µç›®å½•</span></span><br></pre></td></tr></table></figure><ul><li><code>per_page</code>ï¼šæ¨èä½¿ç”¨ 3 çš„å€æ•°ï¼Œ3ï¼Œ6ï¼Œ9ï¼Œ12â€¦ è®¾ç½®ä¸º 0 è¡¨ç¤ºä¸åˆ†é¡µï¼Œä»¥ç€‘å¸ƒæµçš„å½¢å¼å±•ç¤º</li></ul><h3 id="é…ç½®ç½‘ç«™æ˜¾ç¤ºæ—¥æœŸçš„æ ¼å¼"><a href="#é…ç½®ç½‘ç«™æ˜¾ç¤ºæ—¥æœŸçš„æ ¼å¼" class="headerlink" title="é…ç½®ç½‘ç«™æ˜¾ç¤ºæ—¥æœŸçš„æ ¼å¼"></a>é…ç½®ç½‘ç«™æ˜¾ç¤ºæ—¥æœŸçš„æ ¼å¼</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span>     <span class="comment"># æ—¥æœŸæ ¼å¼</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span>       <span class="comment"># æ—¶é—´æ ¼å¼</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®é¡µè„šä¿¡æ¯"><a href="#é…ç½®é¡µè„šä¿¡æ¯" class="headerlink" title="é…ç½®é¡µè„šä¿¡æ¯"></a>é…ç½®é¡µè„šä¿¡æ¯</h3><p>é¡µè„šæ€»å­—æ•°ç»Ÿè®¡ï¼Œæ¿€æ´»å‰è¯·ç¡®è®¤ä½ å·²ç»å®‰è£…äº† <code>hexo-wordcount</code> æ’ä»¶ï¼Œå®‰è£…å‘½ä»¤: <code>npm i --save hexo-wordcount</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">totalCount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>ç«™ç‚¹è¿è¡Œå¼€å§‹æ—¶é—´é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">time:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># æ˜¯å¦å¯åŠ¨</span></span><br><span class="line">  <span class="attr">year:</span> <span class="number">2018</span>    <span class="comment"># å¹´ä»½</span></span><br><span class="line">  <span class="attr">month:</span> <span class="number">09</span>     <span class="comment"># æœˆä»½</span></span><br><span class="line">  <span class="attr">date:</span> <span class="number">24</span>      <span class="comment"># æ—¥æœŸ</span></span><br><span class="line">  <span class="attr">hour:</span> <span class="number">00</span>      <span class="comment"># å°æ—¶</span></span><br><span class="line">  <span class="attr">minute:</span> <span class="number">00</span>    <span class="comment"># åˆ†é’Ÿ</span></span><br><span class="line">  <span class="attr">second:</span> <span class="number">00</span>    <span class="comment"># ç§’</span></span><br></pre></td></tr></table></figure><p>ICP å¤‡æ¡ˆä¿¡æ¯é¡µè„šæ˜¾ç¤º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">icp:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>                   <span class="comment"># æ˜¯å¦å¯åŠ¨å¤‡æ¡ˆä¿¡æ¯</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">http://beian.miit.gov.cn/</span> <span class="comment"># å¤‡æ¡ˆé“¾æ¥</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">æ²ªICPå¤‡xxxxxxxxxå·</span>        <span class="comment"># å¤‡æ¡ˆä¿¡æ¯</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">/medias/icp.png</span>          <span class="comment"># å›¾æ ‡</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢æ–‡ç« é¡µé…ç½®"><a href="#ä¿®æ”¹åšå®¢æ–‡ç« é¡µé…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢æ–‡ç« é¡µé…ç½®"></a>ä¿®æ”¹åšå®¢æ–‡ç« é¡µé…ç½®</h2><h3 id="é…ç½®æ–‡ç« åŸºæœ¬ä¿¡æ¯"><a href="#é…ç½®æ–‡ç« åŸºæœ¬ä¿¡æ¯" class="headerlink" title="é…ç½®æ–‡ç« åŸºæœ¬ä¿¡æ¯"></a>é…ç½®æ–‡ç« åŸºæœ¬ä¿¡æ¯</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span>   <span class="comment"># æ–°æ–‡ç« çš„æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span>       <span class="comment"># é¢„è®¾å¸ƒå±€</span></span><br><span class="line"><span class="attr">auto_spacing:</span> <span class="literal">false</span>        <span class="comment"># åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ å…¥ç©ºæ ¼</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span>           <span class="comment"># æŠŠæ ‡é¢˜è½¬æ¢ä¸º title case</span></span><br><span class="line"><span class="attr">external_link:</span>             <span class="comment"># åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€é“¾æ¥</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>             <span class="comment"># åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€é“¾æ¥</span></span><br><span class="line">  <span class="attr">field:</span>                   <span class="comment"># å¯¹æ•´ä¸ªç½‘ç«™ï¼ˆsiteï¼‰ç”Ÿæ•ˆæˆ–ä»…å¯¹æ–‡ç« ï¼ˆpostï¼‰ç”Ÿæ•ˆ</span></span><br><span class="line">  <span class="attr">exclude:</span>                 <span class="comment"># éœ€è¦æ’é™¤çš„åŸŸåã€‚ä¸»åŸŸåå’Œå­åŸŸåå¦‚ www éœ€åˆ†åˆ«é…ç½®[]</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span>           <span class="comment"># æŠŠæ–‡ä»¶åç§°è½¬æ¢ä¸º (1) å°å†™æˆ– (2) å¤§å†™</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span>       <span class="comment"># æ˜¾ç¤ºè‰ç¨¿ï¼Œé»˜è®¤ä¸ºï¼šfalse</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span>    <span class="comment"># å¯åŠ¨ Asset æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span>       <span class="comment"># æŠŠé“¾æ¥æ”¹ä¸ºä¸æ ¹ç›®å½•çš„ç›¸å¯¹ä½å€</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span>               <span class="comment"># æ˜¾ç¤ºæœªæ¥çš„æ–‡ç« </span></span><br><span class="line"><span class="attr">highlight:</span>                 <span class="comment"># ä»£ç å—çš„è®¾ç½®</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>            <span class="comment"># å¼€å¯ä»£ç å—é«˜äº®</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span>       <span class="comment"># æ˜¾ç¤ºè¡Œæ•°</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span>       <span class="comment"># å¦‚æœæœªæŒ‡å®šè¯­è¨€ï¼Œåˆ™å¯ç”¨è‡ªåŠ¨æ£€æµ‹</span></span><br><span class="line">  <span class="attr">tab_replace:</span>             <span class="comment"># ç”¨ n ä¸ªç©ºæ ¼æ›¿æ¢ tabsï¼›å¦‚æœå€¼ä¸ºç©ºï¼Œåˆ™ä¸ä¼šæ›¿æ¢ tabs</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä»£ç é«˜äº®åŠæ ·å¼"><a href="#é…ç½®ä»£ç é«˜äº®åŠæ ·å¼" class="headerlink" title="é…ç½®ä»£ç é«˜äº®åŠæ ·å¼"></a>é…ç½®ä»£ç é«˜äº®åŠæ ·å¼</h3><p>ç”±äº <code>Hexo</code> è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜æ˜¾ç¤ºä¸å¥½çœ‹ï¼Œæ‰€ä»¥ä¸»é¢˜ä¸­ä½¿ç”¨åˆ°äº† <a href="https://github.com/ele828/hexo-prism-plugin">hexo-prism-plugin</a> çš„ Hexo æ’ä»¶æ¥åšä»£ç é«˜äº®ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S hexo-prism-plugin</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œä¿®æ”¹ Hexo æ ¹ç›®å½•ä¸‹ <code>_config.yml</code> æ–‡ä»¶ä¸­ <code>highlight.enable</code> çš„å€¼ä¸º <code>false</code>ï¼Œå¹¶æ–°å¢ <code>prism</code> æ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œä¸»è¦é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">prism_plugin:</span></span><br><span class="line">  <span class="attr">mode:</span> <span class="string">&#x27;preprocess&#x27;</span>    <span class="comment"># realtime/preprocess</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">&#x27;tomorrow&#x27;</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span>    <span class="comment"># default false</span></span><br><span class="line">  <span class="attr">custom_css:</span></span><br></pre></td></tr></table></figure><p>é…ç½®ä»£ç çš„æ ·å¼</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code:</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="literal">true</span>     <span class="comment"># ä»£ç å—æ˜¯å¦æ˜¾ç¤ºåç§°</span></span><br><span class="line">  <span class="attr">copy:</span> <span class="literal">true</span>     <span class="comment"># ä»£ç å—æ˜¯å¦å¯å¤åˆ¶</span></span><br><span class="line">  <span class="attr">shrink:</span> <span class="literal">false</span>  <span class="comment"># ä»£ç å—æ˜¯å¦å¯ä»¥æ”¶ç¼©</span></span><br><span class="line">  <span class="attr">break:</span> <span class="literal">false</span>   <span class="comment"># ä»£ç æ˜¯å¦æŠ˜è¡Œ</span></span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ–‡ç« å­—æ•°ç»Ÿè®¡"><a href="#ä¿®æ”¹æ–‡ç« å­—æ•°ç»Ÿè®¡" class="headerlink" title="ä¿®æ”¹æ–‡ç« å­—æ•°ç»Ÿè®¡"></a>ä¿®æ”¹æ–‡ç« å­—æ•°ç»Ÿè®¡</h3><p>å¦‚æœä½ æƒ³è¦åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºæ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ä¿¡æ¯ï¼Œå¯ä»¥å®‰è£… <a href="https://github.com/willin/hexo-wordcount">hexo-wordcount</a> æ’ä»¶ã€‚</p><p>å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">postInfo:</span></span><br><span class="line">  <span class="attr">date:</span> <span class="literal">true</span>        <span class="comment"># å‘å¸ƒæ—¥æœŸ</span></span><br><span class="line">  <span class="attr">update:</span> <span class="literal">true</span>      <span class="comment"># æ›´æ–°æ—¥æœŸ</span></span><br><span class="line">  <span class="attr">wordCount:</span> <span class="literal">true</span>   <span class="comment"># æ–‡ç« å­—æ•°ç»Ÿè®¡</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span>    <span class="comment"># æ–‡ç« é˜…è¯»æ—¶é•¿</span></span><br><span class="line">  <span class="attr">readCount:</span> <span class="literal">false</span>  <span class="comment"># æ–‡ç« é˜…è¯»æ¬¡æ•°</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ç« -TOC-åŠŸèƒ½"><a href="#é…ç½®æ–‡ç« -TOC-åŠŸèƒ½" class="headerlink" title="é…ç½®æ–‡ç«  TOC åŠŸèƒ½"></a>é…ç½®æ–‡ç«  TOC åŠŸèƒ½</h3><p>æ˜¯å¦æ¿€æ´»æ–‡ç«  TOC åŠŸèƒ½ï¼Œå¹¶é…ç½® TOC æ”¯æŒé€‰ä¸­å“ªäº›æ ‡é¢˜ç±»å‹ï¼Œè¿™æ˜¯å…¨å±€é…ç½®ã€‚<br>å¯ä»¥åœ¨æŸç¯‡æ–‡ç« çš„ Front-matter ä¸­å†åŠ ä¸Š <code>toc: false</code>ï¼Œä½¿è¯¥ç¯‡æ–‡ç« å…³é—­ TOC ç›®å½•åŠŸèƒ½</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">heading:</span> <span class="string">h2,</span> <span class="string">h3,</span> <span class="string">h4,</span> <span class="string">h5</span></span><br><span class="line">  <span class="attr">showToggleBtn:</span> <span class="literal">true</span>       <span class="comment"># æ˜¯å¦æ˜¾ç¤ºåˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„æŒ‰é’®</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ç« æœ«å°¾æ‰“èµåŠŸèƒ½"><a href="#é…ç½®æ–‡ç« æœ«å°¾æ‰“èµåŠŸèƒ½" class="headerlink" title="é…ç½®æ–‡ç« æœ«å°¾æ‰“èµåŠŸèƒ½"></a>é…ç½®æ–‡ç« æœ«å°¾æ‰“èµåŠŸèƒ½</h3><p>é»˜è®¤æ¿€æ´»ï¼ˆè¯·æ›¿æ¢ä¸ºçš„ä½ è‡ªå·±çš„å¾®ä¿¡ã€æ”¯ä»˜å®äºŒç»´ç å›¾ç‰‡ã€æˆ–è€…ä½¿ç”¨ç½‘ç»œå›¾ç‰‡ä¹Ÿå¯ä»¥ï¼‰</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>                        <span class="comment"># æ˜¯å¦å¼€å¯æ‰“èµ</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">ä½ çš„èµè¯†æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›!</span>        <span class="comment"># æ‰“èµæ ‡é¢˜</span></span><br><span class="line">  <span class="attr">wechat:</span> <span class="string">/medias/reward/wechat.jpg</span>   <span class="comment"># å¾®ä¿¡æ‰“èµäºŒç»´ç è·¯å¾„</span></span><br><span class="line">  <span class="attr">alipay:</span> <span class="string">/medias/reward/alipay.jpg</span>   <span class="comment"># æ”¯ä»˜å®æ‰“èµäºŒç»´ç è·¯å¾„</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®å¤åˆ¶è¿½åŠ ç‰ˆæƒä¿¡æ¯"><a href="#é…ç½®å¤åˆ¶è¿½åŠ ç‰ˆæƒä¿¡æ¯" class="headerlink" title="é…ç½®å¤åˆ¶è¿½åŠ ç‰ˆæƒä¿¡æ¯"></a>é…ç½®å¤åˆ¶è¿½åŠ ç‰ˆæƒä¿¡æ¯</h3><p>æ˜¯å¦æ¿€æ´»å¤åˆ¶æ–‡ç« æ—¶è¿½åŠ åšå®¢å’Œä½œè€…çš„ç‰ˆæƒä¿¡æ¯ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">minCharNumber:</span> <span class="number">120</span>         <span class="comment"># è‡³å°‘å¤åˆ¶å¤šå°‘ä¸ªå­—ç¬¦å°±è¿½åŠ ç‰ˆæƒä¿¡æ¯.</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">æœ¬æ–‡ç« è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½éƒ½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®-mathjax-æ•°å­¦å…¬å¼"><a href="#é…ç½®-mathjax-æ•°å­¦å…¬å¼" class="headerlink" title="é…ç½® mathjax æ•°å­¦å…¬å¼"></a>é…ç½® mathjax æ•°å­¦å…¬å¼</h3><p>æ˜¯å¦æ¿€æ´» <code>mathjax</code> æ•°å­¦å…¬å¼ï¼Œè¿™æ˜¯å…¨å±€é…ç½®ï¼Œä½†æ–‡ç« ä»ç„¶ä¸ä¼šéƒ½å¼€å¯ <code>mathjax</code> æ¸²æŸ“ï¼Œè€ƒè™‘åˆ° <code>mathjax</code> åŠ è½½æ¯”è¾ƒè€—æ—¶ï¼Œä½ è¿˜éœ€è¦åœ¨éœ€è¦æ¸²æŸ“çš„æ–‡ç« çš„ <code>Front-matter</code> ä¸­å†åŠ ä¸Š <code>mathjax: true</code> æ‰è¡Œã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">cdn:</span> <span class="string">https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®-emoji-è¡¨æƒ…æ”¯æŒ"><a href="#é…ç½®-emoji-è¡¨æƒ…æ”¯æŒ" class="headerlink" title="é…ç½® emoji è¡¨æƒ…æ”¯æŒ"></a>é…ç½® emoji è¡¨æƒ…æ”¯æŒ</h3><p>æœ¬ä¸»é¢˜æ–°å¢äº†å¯¹ <code>emoji</code> è¡¨æƒ…çš„æ”¯æŒï¼Œä½¿ç”¨åˆ°äº† <a href="https://npm.taobao.org/package/hexo-filter-github-emojis">hexo-filter-github-emojis</a> çš„ Hexo æ’ä»¶æ¥æ”¯æŒ <code>emoji</code>è¡¨æƒ…çš„ç”Ÿæˆï¼ŒæŠŠå¯¹åº”çš„<code>markdown emoji</code>è¯­æ³•ï¼ˆ<code>::</code>,ä¾‹å¦‚ï¼š<code>:smile:</code>ï¼‰è½¬å˜æˆä¼šè·³è·ƒçš„<code>emoji</code>è¡¨æƒ…ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-github-emojis --save</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">githubEmojis:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">className:</span> <span class="string">github-emoji</span></span><br><span class="line">  <span class="attr">inject:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">styles:</span></span><br><span class="line">  <span class="attr">customEmojis:</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ˜¯å¦å¯ç”¨è½¬è½½é™åˆ¶æ¨¡å—"><a href="#é…ç½®æ˜¯å¦å¯ç”¨è½¬è½½é™åˆ¶æ¨¡å—" class="headerlink" title="é…ç½®æ˜¯å¦å¯ç”¨è½¬è½½é™åˆ¶æ¨¡å—"></a>é…ç½®æ˜¯å¦å¯ç”¨è½¬è½½é™åˆ¶æ¨¡å—</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reprint:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>   <span class="comment">#æ˜¯å¦å¯ç”¨â€œè½¬è½½è§„åˆ™é™å®šæ¨¡å—â€</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">cc_by</span></span><br></pre></td></tr></table></figure><p>æ–‡ç« è½¬è½½è§„åˆ™ï¼Œå¯ä»¥æ˜¯ <code>cc_by</code>, <code>cc_by_nd</code>, <code>cc_by_sa</code>, <code>cc_by_nc</code>, <code>cc_by_nc_nd</code>, <code>cc_by_nc_sa</code>, <code>cc0</code>, <code>noreprint</code> æˆ– <code>pay</code> ä¸­çš„ä¸€ä¸ª</p><h3 id="é…ç½®æ–‡ç« é˜…è¯»å¯†ç åŠŸèƒ½"><a href="#é…ç½®æ–‡ç« é˜…è¯»å¯†ç åŠŸèƒ½" class="headerlink" title="é…ç½®æ–‡ç« é˜…è¯»å¯†ç åŠŸèƒ½"></a>é…ç½®æ–‡ç« é˜…è¯»å¯†ç åŠŸèƒ½</h3><p>é˜…è¯»æ–‡ç« çš„å¯†ç éªŒè¯åŠŸèƒ½ï¼Œå¦‚è¦ä½¿ç”¨æ­¤åŠŸèƒ½è¯·æ¿€æ´»è¯¥é…ç½®é¡¹ï¼Œå¹¶åœ¨å¯¹åº”æ–‡ç« çš„ <code>Front-matter</code> ä¸­å†™ä¸Š <code>password</code> çš„é”®å’ŒåŠ å¯†åçš„å¯†æ–‡å³å¯ã€‚</p><blockquote><p>è¯·æ³¨æ„ï¼šä¸ºäº†ä¿è¯å¯†ç åŸæ–‡ä¸ä¼šè¢«æ³„éœ²åˆ°ç½‘é¡µä¸­ï¼Œæ–‡ç« çš„å¯†ç å¿…é¡»æ˜¯é€šè¿‡ <code>SHA256</code> åŠ å¯†çš„ï¼Œè¿™æ ·å°±ä¸ä¼šè¢«ç ´è§£ã€‚</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">verifyPassword:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">promptMessage:</span> <span class="string">è¯·è¾“å…¥è®¿é—®æœ¬æ–‡ç« çš„å¯†ç </span></span><br><span class="line">  <span class="attr">errorMessage:</span>  <span class="string">å¯†ç é”™è¯¯ï¼Œå°†è¿”å›ä¸»é¡µï¼</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ç« åˆ†äº«æ¨¡å—"><a href="#é…ç½®æ–‡ç« åˆ†äº«æ¨¡å—" class="headerlink" title="é…ç½®æ–‡ç« åˆ†äº«æ¨¡å—"></a>é…ç½®æ–‡ç« åˆ†äº«æ¨¡å—</h3><p><code>sharejs</code> æ–‡ç« åˆ†äº«æ¨¡å—ã€‚</p><blockquote><p>æ”¯æŒé¡ºåºï¼Œå¯é€‰é¡¹ç›®ä¸º twitter, facebook, google, qq, qzone, wechat, weibo, douban, linkedinã€‚</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">wechat,qq,weibo,twitter,facebook,linkedin</span></span><br></pre></td></tr></table></figure><p><code>addthis</code> æ–‡ç« åˆ†äº«æ¨¡å—ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">addthis:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">pubid:</span>            <span class="comment">#å‰å¾€https://www.addthis.com/è·å–</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢å…³äºé¡µé…ç½®"><a href="#ä¿®æ”¹åšå®¢å…³äºé¡µé…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢å…³äºé¡µé…ç½®"></a>ä¿®æ”¹åšå®¢å…³äºé¡µé…ç½®</h2><h3 id="é…ç½®å…³äºé¡µä¸ªäººä¿¡æ¯"><a href="#é…ç½®å…³äºé¡µä¸ªäººä¿¡æ¯" class="headerlink" title="é…ç½®å…³äºé¡µä¸ªäººä¿¡æ¯"></a>é…ç½®å…³äºé¡µä¸ªäººä¿¡æ¯</h3><p>åœ¨<code>å…³äº</code>é¡µé¢ä¸­é…ç½®ä¸ªäººä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤´åƒã€èŒä¸šå’Œä¸ªäººä»‹ç».</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">profile:</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">/medias/avatars/avatar.jpg</span>    <span class="comment"># å¤´åƒ</span></span><br><span class="line">  <span class="attr">career:</span> <span class="string">IIoT</span> <span class="string">|</span> <span class="string">Python</span> <span class="string">ç ”å‘å·¥ç¨‹å¸ˆ</span>       <span class="comment"># èŒä¸š</span></span><br><span class="line">  <span class="attr">introduction:</span> <span class="string">æ´»åˆ°è€ï¼Œå­¦åˆ°è€</span>      <span class="comment"># ä¸ªäººä»‹ç»</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®å…³äºé¡µé¡¹ç›®ä¿¡æ¯"><a href="#é…ç½®å…³äºé¡µé¡¹ç›®ä¿¡æ¯" class="headerlink" title="é…ç½®å…³äºé¡µé¡¹ç›®ä¿¡æ¯"></a>é…ç½®å…³äºé¡µé¡¹ç›®ä¿¡æ¯</h3><p>åœ¨<code>å…³äº</code>é¡µé¢é…ç½®<code>æˆ‘çš„é¡¹ç›®</code>ä¿¡æ¯ï¼Œå¦‚æœä½ ä¸éœ€è¦è¿™äº›ä¿¡æ¯åˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸æ¿€æ´»æˆ–è€…å°†å…¶åˆ é™¤ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">myProjects:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">private-network-ipfs:</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fa-cubes</span></span><br><span class="line">      <span class="attr">iconBackground:</span> <span class="string">&#x27;linear-gradient(to bottom right, #29B6F6 0%, #1E88E5 100%)&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">https://github.com/Sitoi/private-network-ipfs</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">åˆ©ç”¨</span> <span class="string">Docker</span> <span class="string">æ­å»º</span> <span class="string">IPFS</span> <span class="string">ç§æœ‰ç½‘ç»œ</span></span><br><span class="line">    <span class="attr">scrapy-redis-sentinel:</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">iconBackground:</span> <span class="string">&#x27;linear-gradient(to bottom right, #66BB6A 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">https://github.com/Sitoi/scrapy-redis-sentinel</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">scrapy-redis-sentinel</span> <span class="string">åŸºäº</span> <span class="string">scrapy-redis</span> <span class="string">çš„åŸºç¡€ä¸Š</span> <span class="string">æ–°å¢</span> <span class="string">å“¨å…µï¼ˆsentinelï¼‰è¿æ¥æ¨¡å¼</span> <span class="string">ä»¥åŠ</span> <span class="string">é›†ç¾¤ï¼ˆclusterï¼‰è¿æ¥æ¨¡å¼ã€‚</span></span><br><span class="line">    <span class="attr">SystemdClash:</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fa-plane</span></span><br><span class="line">      <span class="attr">iconBackground:</span> <span class="string">&#x27;linear-gradient(to bottom right, #29B6F6 0%, #1E88E5 100%)&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">https://github.com/Sitoi/SystemdClash</span></span><br><span class="line">      <span class="attr">desc:</span> <span class="string">Clash</span> <span class="string">ä»¥</span> <span class="string">systemd</span> <span class="string">æœåŠ¡çš„æ–¹å¼å¼€æœºè‡ªå¯</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®å…³äºé¡µæŠ€èƒ½ä¿¡æ¯"><a href="#é…ç½®å…³äºé¡µæŠ€èƒ½ä¿¡æ¯" class="headerlink" title="é…ç½®å…³äºé¡µæŠ€èƒ½ä¿¡æ¯"></a>é…ç½®å…³äºé¡µæŠ€èƒ½ä¿¡æ¯</h3><p>åœ¨<code>å…³äº</code>é¡µé¢é…ç½®<code>æˆ‘çš„æŠ€èƒ½</code>ä¿¡æ¯ï¼Œå¦‚æœä½ ä¸éœ€è¦è¿™äº›ä¿¡æ¯åˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸æ¿€æ´»æˆ–è€…å°†å…¶åˆ é™¤.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mySkills:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">Python:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #FF0066 0%, #FF00CC 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">80</span><span class="string">%</span></span><br><span class="line">    <span class="attr">Docker:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">80</span><span class="string">%</span></span><br><span class="line">    <span class="attr">OpneShift:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">70</span><span class="string">%</span></span><br><span class="line">    <span class="attr">Ambari:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">60</span><span class="string">%</span></span><br><span class="line">    <span class="attr">HDFS:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">65</span><span class="string">%</span></span><br><span class="line">    <span class="attr">Spark:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">60</span><span class="string">%</span></span><br><span class="line">    <span class="attr">Flask:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">80</span><span class="string">%</span></span><br><span class="line">    <span class="attr">MongoDB:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">70</span><span class="string">%</span></span><br><span class="line">    <span class="attr">MySQL:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #4CAF50 0%, #81C784 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">65</span><span class="string">%</span></span><br><span class="line">    <span class="attr">Vue:</span></span><br><span class="line">      <span class="attr">background:</span> <span class="string">&#x27;linear-gradient(to right, #FFEB3B 0%, #FFF176 100%)&#x27;</span></span><br><span class="line">      <span class="attr">percent:</span> <span class="number">35</span><span class="string">%</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢ç•™è¨€æ¿é…ç½®"><a href="#ä¿®æ”¹åšå®¢ç•™è¨€æ¿é…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢ç•™è¨€æ¿é…ç½®"></a>ä¿®æ”¹åšå®¢ç•™è¨€æ¿é…ç½®</h2><p><code>contact</code> é¡µæ˜¯ç”¨æ¥å±•ç¤º<strong>ç•™è¨€æ¿</strong>ä¿¡æ¯çš„é¡µé¢ï¼Œå¦‚æœåœ¨ä½ çš„åšå®¢ <code>source</code> ç›®å½•ä¸‹è¿˜æ²¡æœ‰ <code>contact/index.md</code> æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æ–°å»ºä¸€ä¸ªï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;contact&quot;</span></span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ä½ åˆšåˆšæ–°å»ºçš„é¡µé¢æ–‡ä»¶ <code>/source/contact/index.md</code>ï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">contact</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018-09-30 17:25:30</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;contact&quot;</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">&quot;contact&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p><code>/source/contact/index.md</code> ä¸­çš„ markdown å†…å®¹ï¼Œå›å±•ç¤ºåœ¨ç•™è¨€æ¿çš„é¡µé¢ä¸Šï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">contact</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019-10-14 13:14:00</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;contact&quot;</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">&quot;contact&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="comment">## ç•…æ‰€æ¬²è¨€</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">åœ¨è¿™é‡Œå¯ä»¥ç•™ä¸‹ä½ çš„è¶³è¿¹ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œæ¬¢è¿äº¤æ¢å‹é“¾ï¼Œä¸€èµ·äº¤æµå­¦ä¹ ï¼</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/contact_md.png" alt="æ•ˆæœ"></p><blockquote><p><strong>æ³¨</strong>ï¼šæœ¬ç•™è¨€æ¿åŠŸèƒ½ä¾èµ–äºç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿï¼Œè¯·<strong>æ¿€æ´»</strong>ä½ çš„è¯„è®ºç³»ç»Ÿæ‰æœ‰æ•ˆæœã€‚<br>å¯åŒæ—¶å¼€å¯å¤šä¸ªç•™è¨€æ¿~</p></blockquote><h3 id="é…ç½®-Gitalk-è¯„è®ºæ¨¡å—"><a href="#é…ç½®-Gitalk-è¯„è®ºæ¨¡å—" class="headerlink" title="é…ç½® Gitalk è¯„è®ºæ¨¡å—"></a>é…ç½® Gitalk è¯„è®ºæ¨¡å—</h3><p>é»˜è®¤ä¸ºä¸æ¿€æ´»</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">sitoi</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">Sitoi.github.io</span></span><br><span class="line">  <span class="attr">oauth:</span></span><br><span class="line">    <span class="attr">clientId:</span></span><br><span class="line">    <span class="attr">clientSecret:</span></span><br><span class="line">  <span class="attr">admin:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sitoi</span></span><br></pre></td></tr></table></figure><h3 id="è·å–-clientId-å’Œ-clientSecret"><a href="#è·å–-clientId-å’Œ-clientSecret" class="headerlink" title="è·å– clientId å’Œ clientSecret"></a>è·å– clientId å’Œ clientSecret</h3><p>é¦–å…ˆï¼Œä½ å¾—æœ‰ä¸€ä¸ªGithubè´¦å·ï¼ˆè¿™ä¸ªå°±ä¸å¤šè¯´äº†å§ï¼‰ï¼Œä¸‹é¢ï¼Œæ‰“å¼€ <a href="https://github.com/settings/applications/new">https://github.com/settings/applications/new</a>ï¼Œå…·ä½“å¡«æ³•å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/new_github_app.png" alt="GitHub APP"></p><ul><li><code>Application name</code>ï¼šåº”ç”¨åç§°ï¼Œéšä¾¿å¡«</li><li><code>Homepage URL</code>ï¼šæ²¡æœ‰è¿‡å¤šè¦æ±‚ï¼Œå¯ä»¥å¡«è‡ªå·±çš„åšå®¢åœ°å€</li><li><code>Application description</code>ï¼šåº”ç”¨æè¿°ï¼Œæè¿°ä¸€ä¸‹ï¼Œæ— è¦æ±‚</li><li><code>Authorization callback URL</code>ï¼šè¿™ä¸ªå°±æœ‰è¦æ±‚äº†ï¼Œå¡«è‡ªå·±è¦ä½¿ç”¨ Gitalk çš„åšå®¢åœ°å€ï¼Œä¸å¯ä¹±å¡«</li></ul><p>æ¥ç€ï¼Œä½ å°±å¯ä»¥å¾—åˆ° Client ID å’Œ Client Secret</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/get_app_ids.png" alt="Client ID &amp; Client Secret"></p><p>è¿›è¡Œé…ç½®ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">sitoi</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">Sitoi.github.io</span></span><br><span class="line">  <span class="attr">oauth:</span></span><br><span class="line">    <span class="attr">clientId:</span></span><br><span class="line">    <span class="attr">clientSecret:</span></span><br><span class="line">  <span class="attr">admin:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sitoi</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>ï¼štrue           # æŒ‡çš„æ˜¯æ˜¯å¦å¼€å¯ Gitalk</li><li><code>owner</code>ï¼šsitoi           # è¿™ä¸ªé¡¹ç›®åçš„æ‹¥æœ‰è€…ï¼ˆGitHubè´¦å·æˆ–ç»„ç»‡ï¼‰</li><li><code>repo</code>ï¼šSitoi.github.io  # ä½ è¦å­˜æ”¾çš„é¡¹ç›®åï¼Œä¸‹æ–‡ä¼šè¯¦ç»†å†è¯´</li><li><code>clientId</code>ï¼šxxxxxx       # ä¹‹å‰çš„ Client ID</li><li><code>ClientSecret</code>ï¼šxxxxxx   # ä¹‹å‰çš„ Client Secret</li><li><code>admin</code>ï¼šsitoi     # ç®¡ç†å‘˜ç”¨æˆ·ï¼Œä¸‹æ–‡ä¹Ÿä¼šè¯¦ç»†è®²</li></ul><p><code>repo</code>ï¼šGitalk æ˜¯åŸºäº GitHub çš„ issues åŠŸèƒ½çš„ï¼Œæ‰€ä»¥ï¼Œä½ è¦ä¸ºä»–å»ºä¸€ä¸ªåº“æˆ–ç”¨ç°æˆçš„åº“ï¼Œæˆ‘ä¸ªäººå»ºè®®æ–°å»ºä¸€ä¸ªï¼Œè€Œ repo å°±æ˜¯ä½ è¦ç”¨çš„åº“çš„åç§°ã€‚ æ¯”å¦‚ï¼Œæˆ‘å°±ä¸º Gitalk ä¸“é—¨å»ºäº†ä¸€ä¸ªå« gitalk çš„åº“ï¼Œæ‰€ä»¥åœ¨ repo: å¤„å¡« gitalkã€‚</p><p><code>admin</code>ï¼šå³ç®¡ç†å‘˜å¸å·ã€‚å¦‚æœä½ æ˜¯ä¸ªäººè´¦å·ï¼Œé‚£ä¹ˆè¿™é‡Œå°±å¡«ä½ çš„è´¦æˆ·åå’Œåä½œè€…çš„è´¦æˆ·åã€‚<strong>ä»¥æ•°ç»„å½¢å¼</strong>ã€‚</p><h3 id="é…ç½®-Gitment-è¯„è®ºæ¨¡å—"><a href="#é…ç½®-Gitment-è¯„è®ºæ¨¡å—" class="headerlink" title="é…ç½® Gitment è¯„è®ºæ¨¡å—"></a>é…ç½® Gitment è¯„è®ºæ¨¡å—</h3><p>é»˜è®¤ä¸ºä¸æ¿€æ´»</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">  <span class="attr">oauth:</span></span><br><span class="line">    <span class="attr">clientId:</span></span><br><span class="line">    <span class="attr">clientSecret:</span></span><br></pre></td></tr></table></figure><blockquote><p>è·å– clientId å’Œ clientSecret æ•™ç¨‹å’Œä¸Šæ–‡ä¸€æ ·</p></blockquote><h3 id="é…ç½®-Disqus-è¯„è®ºæ¨¡å—"><a href="#é…ç½®-Disqus-è¯„è®ºæ¨¡å—" class="headerlink" title="é…ç½® Disqus è¯„è®ºæ¨¡å—"></a>é…ç½® Disqus è¯„è®ºæ¨¡å—</h3><h4 id="æ³¨å†Œ-Disqus-å¸å·"><a href="#æ³¨å†Œ-Disqus-å¸å·" class="headerlink" title="æ³¨å†Œ Disqus å¸å·"></a>æ³¨å†Œ Disqus å¸å·</h4><p>è‡³ <a href="https://disqus.com/">Disqus</a> é¦–é¡µæ³¨å†Œè´¦å·å¹¶ç™»å½•ï¼Œæ¥ç€ç‚¹å‡»é¦–é¡µçš„ã€ŒGET STARTEDã€ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/disqus_index.png" alt="Disqus"></p><p>é€‰æ‹©ã€ŒI want to install Disqus on my siteã€é€‰é¡¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/disqus_create.png" alt="I want to install Disqus on my site"></p><p>éœ€è¦è¾“å…¥çš„æ ç›®ï¼š</p><ul><li>Websit Nameï¼šè‡ªå®šä¹‰ short nameï¼Œä¸”æ˜¯å”¯ä¸€ï¼Œåƒæˆ‘æ˜¯è®¾ç½®ä¸º sitoiã€‚<code>short name</code> ä¼šåœ¨è®¾ç½® <code>Hexo</code> æ™‚éœ€è¦</li><li>Categoryï¼šç±»åˆ«ï¼Œè‡ªè¡Œé€‰æ‹©</li><li>Languageï¼šè¯­è¨€ï¼Œè‡ªè¡Œé€‰æ‹©</li><li>å¡«å†™åç‚¹å‡»ã€ŒCreate Siteã€</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/disqus_create_new_site.png" alt="Create Site"></p><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="string">sitoi</span>      <span class="comment"># å…¨éƒ¨å°å†™</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®-Livere-æ¥å¿…åŠ›è¯„è®ºæ¨¡å—"><a href="#é…ç½®-Livere-æ¥å¿…åŠ›è¯„è®ºæ¨¡å—" class="headerlink" title="é…ç½® Livere æ¥å¿…åŠ›è¯„è®ºæ¨¡å—"></a>é…ç½® Livere æ¥å¿…åŠ›è¯„è®ºæ¨¡å—</h3><h4 id="æ³¨å†Œ-LiveRe-è·å–-uid"><a href="#æ³¨å†Œ-LiveRe-è·å–-uid" class="headerlink" title="æ³¨å†Œ LiveRe è·å– uid"></a>æ³¨å†Œ LiveRe è·å– uid</h4><p>è¿›å…¥ <a href="https://livere.com/apply">LiveRe</a>ï¼Œæ³¨å†Œè´¦å·ã€‚</p><p>LiveRe æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼š</p><ul><li>City ç‰ˆï¼šæ˜¯ä¸€æ¬¾é€‚åˆæ‰€æœ‰äººä½¿ç”¨çš„å…è´¹ç‰ˆæœ¬ï¼›</li><li>Premium ç‰ˆï¼šæ˜¯ä¸€æ¬¾èƒ½å¤Ÿå¸®åŠ©ä¼ä¸šå®ç°è‡ªåŠ¨åŒ–ç®¡ç†çš„å¤šåŠŸèƒ½æ”¶è´¹ç‰ˆæœ¬ã€‚</li></ul><p>æˆ‘ä»¬ City ç‰ˆå°±å¤Ÿäº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/livere.png" alt="LiveRe"></p><p>å¡«å†™å®Œæˆåï¼Œè¿›å…¥åˆ° ç®¡ç†é¡µé¢ -&gt; ä»£ç ç®¡ç† -&gt; ä¸€èˆ¬ç½‘ç«™ ä»£ç ä¸­ï¼Œdata-uid å³ä¸ºæ‰€éœ€ uidã€‚</p><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶-1"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶-1" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p>å°†è·å–åˆ°çš„ uid å¡«å…¥å¯¹åº”çš„é…ç½®æ–‡ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">livere:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">uid:</span> </span><br></pre></td></tr></table></figure><h3 id="é…ç½®-Valine-è¯„è®ºæ¨¡å—çš„é…ç½®"><a href="#é…ç½®-Valine-è¯„è®ºæ¨¡å—çš„é…ç½®" class="headerlink" title="é…ç½® Valine è¯„è®ºæ¨¡å—çš„é…ç½®"></a>é…ç½® Valine è¯„è®ºæ¨¡å—çš„é…ç½®</h3><p>è·å– <code>appId</code> å’Œ <code>appKey</code> è¯·å‚è€ƒ<a href="https://valine.js.org/quickstart.html#%E8%8E%B7%E5%8F%96APP-ID-%E5%92%8C-APP-Key">å®˜æ–¹æ–‡æ¡£</a></p><p>é»˜è®¤ä¸ºä¸æ¿€æ´»ï¼Œå¦‚è¦ä½¿ç”¨ï¼Œå°±è¯·æ¿€æ´»è¯¥é…ç½®é¡¹ï¼Œå¹¶è®¾ç½® <code>appId</code> å’Œ <code>appKey</code>ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">APP_ID</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="string">APP_KEY</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">&#x27;mm&#x27;</span>               <span class="comment"># Gravatar style : mm/identicon/monsterid/wavatar/retro/hide</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">&#x27;just go go&#x27;</span>  <span class="comment"># Comment Box placeholder</span></span><br><span class="line">  <span class="attr">background:</span> <span class="string">/medias/comment_bg.png</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®-miniValine-è¯„è®ºæ¨¡å—çš„é…ç½®"><a href="#é…ç½®-miniValine-è¯„è®ºæ¨¡å—çš„é…ç½®" class="headerlink" title="é…ç½® miniValine è¯„è®ºæ¨¡å—çš„é…ç½®"></a>é…ç½® miniValine è¯„è®ºæ¨¡å—çš„é…ç½®</h3><p>è·å– <code>appId</code> å’Œ <code>appKey</code> è¯·å‚è€ƒ<a href="https://valine.js.org/quickstart.html#%E8%8E%B7%E5%8F%96APP-ID-%E5%92%8C-APP-Key">å®˜æ–¹æ–‡æ¡£</a></p><p>é»˜è®¤ä¸ºä¸æ¿€æ´»ï¼Œå¦‚è¦ä½¿ç”¨ï¼Œå°±è¯·æ¿€æ´»è¯¥é…ç½®é¡¹ï¼Œå¹¶è®¾ç½® <code>appId</code> å’Œ <code>appKey</code>ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">minivaline:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appId:</span>  <span class="string">APP_ID</span></span><br><span class="line">  <span class="attr">appKey:</span>  <span class="string">APP_KEY</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">&#x27;just go go&#x27;</span> <span class="comment"># Comment box placeholder</span></span><br><span class="line">  <span class="attr">adminEmailMd5:</span> <span class="comment"># The MD5 of Admin Email to show Admin Flag.</span></span><br><span class="line">  <span class="attr">math:</span> <span class="literal">true</span> <span class="comment"># Support MathJax.</span></span><br><span class="line">  <span class="attr">md:</span> <span class="literal">true</span> <span class="comment"># Support Markdown.</span></span><br><span class="line">  <span class="comment"># MiniValine&#x27;s display language depends on user&#x27;s browser or system environment</span></span><br><span class="line">  <span class="comment"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span></span><br><span class="line">  <span class="comment"># Available values: en  | zh-CN | (and many more)</span></span><br><span class="line">  <span class="comment"># More i18n info: https://github.com/MiniValine/minivaline-i18n</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">en</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢å‹é“¾çš„é…ç½®"><a href="#ä¿®æ”¹åšå®¢å‹é“¾çš„é…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢å‹é“¾çš„é…ç½®"></a>ä¿®æ”¹åšå®¢å‹é“¾çš„é…ç½®</h2><p><code>friends</code> é¡µæ˜¯ç”¨æ¥å±•ç¤º<strong>å‹æƒ…è¿æ¥</strong>ä¿¡æ¯çš„é¡µé¢ï¼Œå¦‚æœåœ¨ä½ çš„åšå®¢ <code>source</code> ç›®å½•ä¸‹è¿˜æ²¡æœ‰ <code>friends/index.md</code> æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æ–°å»ºä¸€ä¸ªï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;friends&quot;</span></span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ä½ åˆšåˆšæ–°å»ºçš„é¡µé¢æ–‡ä»¶ <code>/source/friends/index.md</code>ï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">friends</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018-12-12 21:25:30</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;friends&quot;</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">&quot;friends&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œåœ¨ä½ çš„åšå®¢ <code>source</code> ç›®å½•ä¸‹æ–°å»º <code>_data</code> ç›®å½•ï¼Œåœ¨ <code>_data</code> ç›®å½•ä¸­æ–°å»º <code>friends.json</code> æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Sitoi&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;https://sitoi.cn/medias/avatars/avatar.jpg&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://sitoi.cn/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;introduction&quot;</span>: <span class="string">&quot;æ´»åˆ°è€ï¼Œå­¦åˆ°è€&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;è®¿é—®ä¸»é¡µ&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;é—ªçƒä¹‹ç‹&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;https://blinkfox.github.io/medias/avatar.jpg&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://blinkfox.github.io&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;introduction&quot;</span>: <span class="string">&quot;ç¼–ç¨‹ç•Œå¤§ä½¬ï¼ŒæŠ€æœ¯ç‰›ï¼Œäººè¿˜ç‰¹åˆ«å¥½ï¼Œä¸æ‡‚çš„éƒ½å¯ä»¥è¯·æ•™å¤§ä½¬&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;è®¿é—®ä¸»é¡µ&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Licardo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;https://licardo.cn/medias/avatar.png&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://licardo.cn/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;introduction&quot;</span>: <span class="string">&quot;ä¸€ä¸ªåŒ»å­¦ç”Ÿçš„æˆæ‰ä¹‹è·¯&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;è®¿é—®ä¸»é¡µ&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢æœç´¢çš„é…ç½®"><a href="#ä¿®æ”¹åšå®¢æœç´¢çš„é…ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢æœç´¢çš„é…ç½®"></a>ä¿®æ”¹åšå®¢æœç´¢çš„é…ç½®</h2><p>æœ¬ä¸»é¢˜ä¸­è¿˜ä½¿ç”¨åˆ°äº† <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a> çš„ Hexo æ’ä»¶æ¥åšå†…å®¹æœç´¢ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>åœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç½‘ç«™å„ç§ç‰¹æ•ˆ"><a href="#é…ç½®ç½‘ç«™å„ç§ç‰¹æ•ˆ" class="headerlink" title="é…ç½®ç½‘ç«™å„ç§ç‰¹æ•ˆ"></a>é…ç½®ç½‘ç«™å„ç§ç‰¹æ•ˆ</h2><h3 id="å•å‡»é¡µé¢çˆ±å¿ƒæ•ˆæœ"><a href="#å•å‡»é¡µé¢çˆ±å¿ƒæ•ˆæœ" class="headerlink" title="å•å‡»é¡µé¢çˆ±å¿ƒæ•ˆæœ"></a>å•å‡»é¡µé¢çˆ±å¿ƒæ•ˆæœ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">clicklove:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="èƒŒæ™¯-canvas-nest"><a href="#èƒŒæ™¯-canvas-nest" class="headerlink" title="èƒŒæ™¯ canvas-nest"></a>èƒŒæ™¯ canvas-nest</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">color:</span> <span class="number">0</span><span class="string">,0,255</span>       <span class="comment">#çº¿æ¡é¢œè‰², é»˜è®¤: &#x27;0,0,0&#x27; ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B)ï¼Œæ³¨æ„ç”¨,åˆ†å‰²</span></span><br><span class="line">  <span class="attr">pointColor:</span> <span class="number">0</span><span class="string">,0,255</span>  <span class="comment">#äº¤ç‚¹é¢œè‰², é»˜è®¤: &#x27;0,0,0&#x27; ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B)ï¼Œæ³¨æ„ç”¨,åˆ†å‰²</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.8</span>         <span class="comment"># çº¿æ¡é€æ˜åº¦ï¼ˆ0~1ï¼‰, é»˜è®¤: 0.5</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span>           <span class="comment"># èƒŒæ™¯çš„z-indexå±æ€§ï¼Œcsså±æ€§ç”¨äºæ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®, é»˜è®¤: -1</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">150</span>           <span class="comment"># çº¿æ¡çš„æ€»æ•°é‡, é»˜è®¤: 99</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç½‘ç«™ç»Ÿè®¡åŠŸèƒ½"><a href="#é…ç½®ç½‘ç«™ç»Ÿè®¡åŠŸèƒ½" class="headerlink" title="é…ç½®ç½‘ç«™ç»Ÿè®¡åŠŸèƒ½"></a>é…ç½®ç½‘ç«™ç»Ÿè®¡åŠŸèƒ½</h2><h3 id="ä¸è’œå­ç»Ÿè®¡"><a href="#ä¸è’œå­ç»Ÿè®¡" class="headerlink" title="ä¸è’œå­ç»Ÿè®¡"></a>ä¸è’œå­ç»Ÿè®¡</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanziStatistics:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">totalTraffic:</span> <span class="literal">true</span> <span class="comment"># æ€»è®¿é—®é‡</span></span><br><span class="line">  <span class="attr">totalNumberOfvisitors:</span> <span class="literal">true</span> <span class="comment"># æ€»äººæ¬¡</span></span><br></pre></td></tr></table></figure><h3 id="Google-Analytics"><a href="#Google-Analytics" class="headerlink" title="Google Analytics"></a>Google Analytics</h3><p>è‡³ <a href="https://analytics.google.com/">Google Analytics</a> æ³¨å†Œè´¦å·ï¼Œè·å– ID</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">googleAnalytics:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">id:</span> <span class="string">GOOGLE_ID</span></span><br></pre></td></tr></table></figure><h3 id="Baidu-Analytics"><a href="#Baidu-Analytics" class="headerlink" title="Baidu Analytics"></a>Baidu Analytics</h3><p>è‡³ <a href="https://tongji.baidu.com/">ç™¾åº¦ç»Ÿè®¡</a> æ³¨å†Œè´¦å·ï¼Œè·å– ID</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baiduAnalytics:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">id:</span> <span class="string">BAIDU_ID</span></span><br></pre></td></tr></table></figure><h3 id="ç«™é•¿ä¹‹å®¶ç»Ÿè®¡"><a href="#ç«™é•¿ä¹‹å®¶ç»Ÿè®¡" class="headerlink" title="ç«™é•¿ä¹‹å®¶ç»Ÿè®¡"></a>ç«™é•¿ä¹‹å®¶ç»Ÿè®¡</h3><h4 id="ç™»å½•å¹¶æ³¨å†Œå¸å·"><a href="#ç™»å½•å¹¶æ³¨å†Œå¸å·" class="headerlink" title="ç™»å½•å¹¶æ³¨å†Œå¸å·"></a>ç™»å½•å¹¶æ³¨å†Œå¸å·</h4><p>è‡³ <a href="https://www.umeng.com/">ç«™é•¿ä¹‹å®¶</a> æ³¨å†Œè´¦å·ï¼Œè¿›å…¥å·¥ä½œå°</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/umeng_index.png" alt="å‹ç›Ÿ"></p><h4 id="ç‚¹å‡»åˆ›å»ºæ–°åº”ç”¨ï¼Œé€‰æ‹©åˆ›å»º-Web-åº”ç”¨"><a href="#ç‚¹å‡»åˆ›å»ºæ–°åº”ç”¨ï¼Œé€‰æ‹©åˆ›å»º-Web-åº”ç”¨" class="headerlink" title="ç‚¹å‡»åˆ›å»ºæ–°åº”ç”¨ï¼Œé€‰æ‹©åˆ›å»º Web åº”ç”¨"></a>ç‚¹å‡»åˆ›å»ºæ–°åº”ç”¨ï¼Œé€‰æ‹©åˆ›å»º Web åº”ç”¨</h4><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/umeng_create.png" alt="åˆ›å»ºåº”ç”¨"></p><h4 id="åˆ›å»º-WEB-åº”ç”¨ï¼Œéœ€è¦è¾“å…¥çš„æ ç›®"><a href="#åˆ›å»º-WEB-åº”ç”¨ï¼Œéœ€è¦è¾“å…¥çš„æ ç›®" class="headerlink" title="åˆ›å»º WEB åº”ç”¨ï¼Œéœ€è¦è¾“å…¥çš„æ ç›®"></a>åˆ›å»º WEB åº”ç”¨ï¼Œéœ€è¦è¾“å…¥çš„æ ç›®</h4><ul><li>ç½‘ç«™åç§°ï¼šè¾“å…¥ä½ çš„ç½‘ç«™åç§°</li><li>ç½‘ç«™åŸŸåï¼šå¡«å…¥ä½ æ±ªæ¶µçš„åŸŸå ä¾‹å¦‚ï¼š<code>sitoi.cn</code></li><li>ç½‘ç«™é¦–é¡µï¼šå¡«å†™ä½ ç½‘ç«™çš„é¦–é¡µï¼Œæ³¨æ„ HTTP è¿˜æ˜¯ HTTPS</li><li>ç½‘ç«™ç±»å‹ï¼šé€‰æ‹©ç½‘ç«™çš„ç±»å‹</li><li>ç½‘ç«™åœ°åŒºï¼šé€‰æ‹©ç½‘ç«™çš„åœ°åŒº</li><li>ç½‘ç«™ç®€ä»‹ï¼šå¡«å†™ç½‘ç«™çš„ç®€ä»‹</li><li>ç‚¹å‡»<code>ç¡®è®¤æ·»åŠ ç«™ç‚¹</code></li></ul><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/umeng-create_site.png" alt="åˆ›å»º WEB åº”ç”¨"></p><h4 id="è·å–ç«™é•¿ä¹‹å®¶ä»£ç "><a href="#è·å–ç«™é•¿ä¹‹å®¶ä»£ç " class="headerlink" title="è·å–ç«™é•¿ä¹‹å®¶ä»£ç "></a>è·å–ç«™é•¿ä¹‹å®¶ä»£ç </h4><ul><li>ç‚¹å‡»è·å–ä»£ç </li><li>é€‰æ‹©ä½ å–œæ¬¢çš„ä»£ç æ ·å¼</li><li>ç‚¹å‡»å¤åˆ¶åˆ°å‰ªè´´æ¿</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/umeng_code.png" alt="ç»Ÿè®¡ä»£ç "></p><h4 id="ä¿®æ”¹-footer-ejs-ä»£ç "><a href="#ä¿®æ”¹-footer-ejs-ä»£ç " class="headerlink" title="ä¿®æ”¹ footer.ejs ä»£ç "></a>ä¿®æ”¹ footer.ejs ä»£ç </h4><p>ä»£ç æ–‡ä»¶ï¼š<code>themes/matery/layout/_partial/footer.ejs</code><br>ä»£ç è¡Œæ•°ï¼šå¤§çº¦ 28 ~ 34 è¡Œ<br>ä»£ç å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.cnzz) &#123; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> cnzz_protocol = ((<span class="string">&quot;https:&quot;</span> == <span class="built_in">document</span>.location.protocol) ? <span class="string">&quot;https://&quot;</span> : <span class="string">&quot;http://&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="built_in">unescape</span>(<span class="string">&quot;%3Cspan id=&#x27;cnzz_stat_icon_1278109894&#x27;%3E%3C/span%3E%3Cscript src=&#x27;&quot;</span> + cnzz_protocol + <span class="string">&quot;v1.cnzz.com/z_stat.php%3Fid%3D1278109894%26online%3D1%26show%3Dline&#x27; type=&#x27;text/javascript&#x27;%3E%3C/script%3E&quot;</span>));</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>æ›¿æ¢é‡Œé¢çš„ <code>&lt;script&gt;...&lt;/script&gt;</code> ä¸ºä½ å¤åˆ¶çš„ç»Ÿè®¡ä»£ç ã€‚</p><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶-2"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶-2" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p>å°† é…ç½®æ–‡ä»¶ä¸­çš„ <code>cnzz</code> è®¾ç½®ä¸º <code>true</code> è¡¨ç¤ºå¯åŠ¨ï¼Œ<code>false</code> è¡¨ç¤ºå…³é—­</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cnzz:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®-jsdelivr-åŠ é€Ÿ"><a href="#é…ç½®-jsdelivr-åŠ é€Ÿ" class="headerlink" title="é…ç½® jsdelivr åŠ é€Ÿ"></a>é…ç½® jsdelivr åŠ é€Ÿ</h2><p>å¯åŠ¨ jsdelivr çš„ cdn åŠ é€Ÿï¼Œåªéœ€è¦æ·»åŠ  jsdelivr url åœ°å€å³å¯ï¼Œurl åœ°å€è·å–æ–¹å¼è¯·å‚è€ƒ <a href="https://sitoi.cn/posts/39161.html">GitHub + jsDelivr + PicGo + Imagine æ‰“é€ ç¨³å®šå¿«é€Ÿã€é«˜æ•ˆå…è´¹å›¾åºŠ</a></p><p>é»˜è®¤ä¸å¯åŠ¨ï¼Œå¡«ç©ºã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jsDelivr:</span></span><br><span class="line">  <span class="comment">#  url: https://cdn.jsdelivr.net/gh/crawlmkt/crawlmkt.github.io</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®æ¯æ—¥åˆ‡æ¢èƒŒæ™¯ï¼ˆé¦–é¡µèƒŒæ™¯ï¼‰"><a href="#é…ç½®æ¯æ—¥åˆ‡æ¢èƒŒæ™¯ï¼ˆé¦–é¡µèƒŒæ™¯ï¼‰" class="headerlink" title="é…ç½®æ¯æ—¥åˆ‡æ¢èƒŒæ™¯ï¼ˆé¦–é¡µèƒŒæ™¯ï¼‰"></a>é…ç½®æ¯æ—¥åˆ‡æ¢èƒŒæ™¯ï¼ˆé¦–é¡µèƒŒæ™¯ï¼‰</h2><p>banner æ˜¯å¦æ¯æ—¥åˆ‡æ¢ã€‚è‹¥ä¸º false, åˆ™ banner é»˜è®¤ä¸º <code>/medias/banner/0.jpg</code> </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">banner:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹-banner-å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾"><a href="#ä¿®æ”¹-banner-å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾" class="headerlink" title="ä¿®æ”¹ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾"></a>ä¿®æ”¹ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾</h2><p>ä½ å¯ä»¥ç›´æ¥åœ¨ <code>/source/medias/banner</code> æ–‡ä»¶å¤¹ä¸­æ›´æ¢ä½ å–œæ¬¢çš„ <code>banner</code> å›¾ç‰‡ï¼Œä¸»é¢˜ä»£ç ä¸­æ˜¯æ¯å¤©åŠ¨æ€åˆ‡æ¢ä¸€å¼ ï¼Œåªéœ€ <code>7</code> å¼ å³å¯ã€‚å¦‚æœä½ ä¼š <code>JavaScript</code> ä»£ç ï¼Œå¯ä»¥ä¿®æ”¹æˆä½ è‡ªå·±å–œæ¬¢åˆ‡æ¢é€»è¾‘ï¼Œå¦‚ï¼šéšæœºåˆ‡æ¢ç­‰ï¼Œ<code>banner</code> åˆ‡æ¢çš„ä»£ç ä½ç½®åœ¨ <code>/layout/_partial/bg-cover-content.ejs</code> æ–‡ä»¶çš„ <code>&lt;script&gt;&lt;/script&gt;</code> ä»£ç ä¸­ï¼š</p><p>ä¿®æ”¹å¯¹åº”çš„åœ°å€å³å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.banner.enable) &#123; %&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        // æ¯å¤©åˆ‡æ¢ banner å›¾.  Switch banner image every day.</span><br><span class="line">        $(&#x27;.bg-cover&#x27;).css(&#x27;background-image&#x27;, &#x27;url(&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(&#x27;/medias/banner/&#x27; + new Date().getDay() + &#x27;.jpg&#x27;) %&gt;)&#x27;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;% &#125; else &#123; %&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        $(&#x27;.bg-cover&#x27;).css(&#x27;background-image&#x27;, &#x27;url(&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(&#x27;/medias/banner/0.jpg&#x27;) %&gt;)&#x27;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨æœ¬åœ°çš„å›¾ç‰‡ï¼Œåˆ›å»º <code>/source/medias/banner</code> æ–‡ä»¶å¤¹ï¼Œæ·»åŠ å›¾ç‰‡ï¼Œæ¯ä¸ªå›¾ç‰‡å¿…é¡»æ˜¯<code>jpg</code> ç»“å°¾ï¼Œä½¿ç”¨æ•°å­—è¿›è¡Œç¼–å·ï¼Œå¹¶éœ€è¦åœ¨ <code>_config.yml</code> åšåŒæ­¥ä¿®æ”¹ã€‚</p><p>é»˜è®¤ç‰¹è‰²å›¾çš„é›†åˆã€‚å½“æ–‡ç« æ²¡æœ‰è®¾ç½®ç‰¹è‰²å›¾æ—¶ï¼Œæœ¬ä¸»é¢˜ä¼šæ ¹æ®æ–‡ç« æ ‡é¢˜çš„ <code>hashcode</code> å€¼å–ä½™ï¼Œæ¥é€‰æ‹©å±•ç¤ºå¯¹åº”çš„ç‰¹è‰²å›¾ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">featureImages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/0.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/1.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/2.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/3.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/4.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/5.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/6.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/7.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/8.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/9.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/10.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/11.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/12.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/13.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/14.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/15.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/16.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/17.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/18.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/19.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/20.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/21.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/22.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/23.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/medias/featureimages/24.jpg</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç½‘é¡µé¢„åŠ è½½"><a href="#é…ç½®ç½‘é¡µé¢„åŠ è½½" class="headerlink" title="é…ç½®ç½‘é¡µé¢„åŠ è½½"></a>é…ç½®ç½‘é¡µé¢„åŠ è½½</h2><p>æœ¬ä¸»é¢˜æ•´ä½“é‡‡ç”¨é¢„åŠ è½½æ¨¡å¼ï¼Œé¢„åŠ è½½å°±æ˜¯è¿›å…¥é¡¹ç›®å‰æå‰åŠ è½½èµ„æºï¼Œé¿å…åœ¨é¡¹ç›®ä¸­åŠ è½½ç¼“æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ,è¿™æ ·å¯ä»¥åœ¨æˆ‘ä»¬è®¿é—®å…¶ä»–é¡µé¢çš„æ—¶å€™ä¼šç¨å¾®å¿«ç‚¹ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">instantpage:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®å›¾ç‰‡æ‡’åŠ è½½"><a href="#é…ç½®å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="é…ç½®å›¾ç‰‡æ‡’åŠ è½½"></a>é…ç½®å›¾ç‰‡æ‡’åŠ è½½</h2><p><code>æ‡’åŠ è½½</code>ä¸€èˆ¬æ˜¯å½“å›¾ç‰‡æ»šåŠ¨è¿›å¯è§†çª—å£å†…æ‰åŠ è½½å›¾ç‰‡ï¼Œå¯è§†çª—å£ä¹‹å¤–çš„å›¾ç‰‡åˆ™ä¸åŠ è½½</p><p>æœ¬ä¸»é¢˜å›¾ç‰‡è¿›è¡Œæ‡’åŠ è½½ï¼Œè¿™æ ·åšæ•ˆæœå°±æ˜¯ <code>html</code>ã€<code>css</code>ã€<code>js</code> åŠ è½½ä¹‹åï¼Œå›¾ç‰‡å†åŠ è½½ã€‚æ—¢ä¿è¯äº†ç½‘é¡µçš„æ‰“å¼€é€Ÿåº¦ï¼Œä¹Ÿä¸ä¼šå› å›¾ç‰‡çš„åºå¤§ä½“ç§¯è€Œæ‹–ç´¯äº†æ•´ä¸ªé¡µé¢çš„åŠ è½½ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">onlypost:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">loadingImg:</span> <span class="string">/medias/loading/orange.square-circle-preloader.svg</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®åœ¨çº¿èŠå¤©åŠŸèƒ½"><a href="#é…ç½®åœ¨çº¿èŠå¤©åŠŸèƒ½" class="headerlink" title="é…ç½®åœ¨çº¿èŠå¤©åŠŸèƒ½"></a>é…ç½®åœ¨çº¿èŠå¤©åŠŸèƒ½</h2><h3 id="DaoVoice-åœ¨çº¿èŠå¤©åŠŸèƒ½"><a href="#DaoVoice-åœ¨çº¿èŠå¤©åŠŸèƒ½" class="headerlink" title="DaoVoice åœ¨çº¿èŠå¤©åŠŸèƒ½"></a>DaoVoice åœ¨çº¿èŠå¤©åŠŸèƒ½</h3><p>å‰å¾€ <a href="http://www.daovoice.io/">DaoVoice</a> å®˜ç½‘æ³¨å†Œå¹¶ä¸”è·å– <code>app_id</code>ï¼Œå¹¶å°† <code>app_id</code> å¡«å…¥ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">daovoice:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">app_id:</span></span><br></pre></td></tr></table></figure><h3 id="Tidio-åœ¨çº¿èŠå¤©åŠŸèƒ½"><a href="#Tidio-åœ¨çº¿èŠå¤©åŠŸèƒ½" class="headerlink" title="Tidio åœ¨çº¿èŠå¤©åŠŸèƒ½"></a>Tidio åœ¨çº¿èŠå¤©åŠŸèƒ½</h3><p>å‰å¾€ <a href="https://www.tidio.com/">Tidio</a> å®˜ç½‘æ³¨å†Œå¹¶ä¸”è·å– <code>Public Key</code>ï¼Œå¹¶å°† <code>Public Key</code> å¡«å…¥ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tidio:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">public_key:</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç»šä¸½å½©è™¹æ’­æ”¾å™¨"><a href="#é…ç½®ç»šä¸½å½©è™¹æ’­æ”¾å™¨" class="headerlink" title="é…ç½®ç»šä¸½å½©è™¹æ’­æ”¾å™¨"></a>é…ç½®ç»šä¸½å½©è™¹æ’­æ”¾å™¨</h2><p>è‡´ <a href="https://www.badapple.top/">ç»šä¸½å½©è™¹æ’­æ”¾å™¨</a> æ³¨å†Œå¹¶ç™»å½•ï¼Œæ’­æ”¾å™¨ Key</p><p>å®˜æ–¹æ•™ç¨‹è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/av8153459">https://www.bilibili.com/video/av8153459</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">badApplePlayer:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>   <span class="comment"># æ˜¯å¦å¯åŠ¨</span></span><br><span class="line">  <span class="attr">XlchKey:</span> <span class="string">Sitoi</span>  <span class="comment"># æ’­æ”¾å™¨ Key</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®åšå®¢çœ‹æ¿å¨˜"><a href="#é…ç½®åšå®¢çœ‹æ¿å¨˜" class="headerlink" title="é…ç½®åšå®¢çœ‹æ¿å¨˜"></a>é…ç½®åšå®¢çœ‹æ¿å¨˜</h2><p>é»˜è®¤å…³é—­</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çœ‹æ¿å¨˜é…ç½®</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">log:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-shizuku</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">200</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">react:</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.7</span></span><br></pre></td></tr></table></figure><h2 id="åšå®¢æ·»åŠ -PWA-åŠŸèƒ½"><a href="#åšå®¢æ·»åŠ -PWA-åŠŸèƒ½" class="headerlink" title="åšå®¢æ·»åŠ  PWA åŠŸèƒ½"></a>åšå®¢æ·»åŠ  PWA åŠŸèƒ½</h2><p>è¯¦ç»†æ•™ç¨‹è¯·é˜…è¯»<a href="https://sitoi.cn/posts/49115.html">åŸºäº Hexo GitHub ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆå››ï¼‰ï¼šè®©ä½ çš„åšå®¢å®Œç¾æ”¯æŒ PWA</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">manifest:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/manifest.json</span></span><br><span class="line">    <span class="attr">body:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">Sitoi</span></span><br><span class="line">      <span class="attr">short_name:</span> <span class="string">Sitoi</span></span><br><span class="line">      <span class="attr">theme_color:</span> <span class="string">white</span></span><br><span class="line">      <span class="attr">background_color:</span> <span class="string">white</span></span><br><span class="line">      <span class="attr">display:</span> <span class="string">standalone</span></span><br><span class="line">      <span class="attr">orientation:</span> <span class="string">portrait</span></span><br><span class="line">      <span class="attr">scope:</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">start_url:</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">icons:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_48.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">48x48</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_96.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">96x96</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_128.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">128x128</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_144.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">144x144</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_180.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">180x180</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_192.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">192x192</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/medias/logo_512.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">512x512</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/apple-touch-icon.png</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">          <span class="attr">sizes:</span> <span class="string">180x180</span></span><br><span class="line">  <span class="attr">serviceWorker:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/sw.js</span></span><br><span class="line">    <span class="attr">preload:</span></span><br><span class="line">      <span class="attr">urls:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">posts:</span> <span class="number">12</span></span><br><span class="line">    <span class="attr">opts:</span></span><br><span class="line">      <span class="attr">networkTimeoutSeconds:</span> <span class="number">30</span></span><br><span class="line">    <span class="attr">routes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/hm.baidu.com/</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">networkOnly</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/www.google-analytics.com/</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">networkOnly</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/.*\.(js|css|jpg|jpeg|png|gif)$/</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">pattern:</span> <span class="type">!!js/regexp</span> <span class="string">/\//</span></span><br><span class="line">        <span class="attr">strategy:</span> <span class="string">networkFirst</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>PWA é€‚é…è‹¹æœå›¾æ ‡</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">appletouchicon:</span> <span class="string">/apple-touch-icon.png</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹åšå®¢æ ·å¼"><a href="#ä¿®æ”¹åšå®¢æ ·å¼" class="headerlink" title="ä¿®æ”¹åšå®¢æ ·å¼"></a>ä¿®æ”¹åšå®¢æ ·å¼</h2><h3 id="ä¿®æ”¹ä¸»é¢˜é¢œè‰²"><a href="#ä¿®æ”¹ä¸»é¢˜é¢œè‰²" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜é¢œè‰²"></a>ä¿®æ”¹ä¸»é¢˜é¢œè‰²</h3><p>åœ¨ä¸»é¢˜æ–‡ä»¶çš„ <code>/source/css/matery.css</code> æ–‡ä»¶ä¸­ï¼Œæœç´¢ <code>.bg-color</code> æ¥ä¿®æ”¹èƒŒæ™¯é¢œè‰²ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ•´ä½“èƒŒæ™¯é¢œè‰²ï¼ŒåŒ…æ‹¬å¯¼èˆªã€ç§»åŠ¨ç«¯çš„å¯¼èˆªã€é¡µå°¾ã€æ ‡ç­¾é¡µç­‰çš„èƒŒæ™¯é¢œè‰². */</span></span><br><span class="line"><span class="selector-class">.bg-color</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#4cbf30</span> <span class="number">0%</span>, <span class="number">#0f9d58</span> <span class="number">100%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> rainbow &#123;</span><br><span class="line">   <span class="comment">/* åŠ¨æ€åˆ‡æ¢èƒŒæ™¯é¢œè‰². */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> rainbow &#123;</span><br><span class="line">    <span class="comment">/* åŠ¨æ€åˆ‡æ¢èƒŒæ™¯é¢œè‰². */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–‡ç« -Front-matter-ä»‹ç»"><a href="#æ–‡ç« -Front-matter-ä»‹ç»" class="headerlink" title="æ–‡ç«  Front-matter ä»‹ç»"></a>æ–‡ç«  Front-matter ä»‹ç»</h2><h3 id="Front-matter-é€‰é¡¹è¯¦è§£"><a href="#Front-matter-é€‰é¡¹è¯¦è§£" class="headerlink" title="Front-matter é€‰é¡¹è¯¦è§£"></a>Front-matter é€‰é¡¹è¯¦è§£</h3><p><code>Front-matter</code> é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸º<strong>éå¿…å¡«</strong>çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ <code>title</code> å’Œ <code>date</code> çš„å€¼ã€‚</p><table><thead><tr><th align="center">é…ç½®é€‰é¡¹</th><th align="left">é»˜è®¤å€¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="center">title</td><td align="left"><code>Markdown</code> æ–‡ä»¶æ ‡é¢˜</td><td align="left">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td align="center">date</td><td align="left">æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="left">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td align="center">author</td><td align="left">è·Ÿ <code>_config.yml</code> ä¸­çš„ <code>author</code></td><td align="left">æ–‡ç« ä½œè€…</td></tr><tr><td align="center">img</td><td align="left"><code>featureImages</code> ä¸­çš„æŸä¸ªå€¼</td><td align="left">æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td align="center">top</td><td align="left"><code>true</code></td><td align="left">æ¨èæ–‡ç« ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ <code>top</code> å€¼ä¸º <code>true</code>ï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µæ¨èæ–‡ç« </td></tr><tr><td align="center">cover</td><td align="left"><code>false</code></td><td align="left">è¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td align="center">coverImg</td><td align="left">æ— </td><td align="left">è¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td align="center">password</td><td align="left">æ— </td><td align="left">æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® <code>password</code> çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ <code>SHA256</code> åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>verifyPassword</code> é€‰é¡¹</td></tr><tr><td align="center">toc</td><td align="left"><code>true</code></td><td align="left">æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>toc</code> é€‰é¡¹</td></tr><tr><td align="center">mathjax</td><td align="left"><code>false</code></td><td align="left">æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ <code>mathjax</code>ï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td align="center">summary</td><td align="left">æ— </td><td align="left">æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td align="center">categories</td><td align="left">æ— </td><td align="left">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td align="center">tags</td><td align="left">æ— </td><td align="left">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr><tr><td align="center">keywords</td><td align="left">æ–‡ç« æ ‡é¢˜</td><td align="left">æ–‡ç« å…³é”®å­—ï¼ŒSEO æ—¶éœ€è¦</td></tr><tr><td align="center">reprintPolicy</td><td align="left">cc_by</td><td align="left">æ–‡ç« è½¬è½½è§„åˆ™ï¼Œå¯ä»¥æ˜¯ <code>cc_by</code>,<code>cc_by_nd</code>,<code>cc_by_sa</code>,<code>cc_by_nc</code>,<code>cc_by_nc_nd</code>,<code>cc_by_nc_sa</code>,<code>cc0</code>,<code>noreprint</code> æˆ– <code>pay</code> ä¸­çš„ä¸€ä¸ª</td></tr></tbody></table><blockquote><p><strong>æ³¨æ„</strong>:</p><ol><li>å¦‚æœ <code>img</code> å±æ€§ä¸å¡«å†™çš„è¯ï¼Œæ–‡ç« ç‰¹è‰²å›¾ä¼šæ ¹æ®æ–‡ç« æ ‡é¢˜çš„ <code>hashcode</code> çš„å€¼å–ä½™ï¼Œç„¶åé€‰å–ä¸»é¢˜ä¸­å¯¹åº”çš„ç‰¹è‰²å›¾ç‰‡ï¼Œä»è€Œè¾¾åˆ°è®©æ‰€æœ‰æ–‡ç« éƒ½çš„ç‰¹è‰²å›¾<strong>å„æœ‰ç‰¹è‰²</strong>ã€‚</li><li><code>date</code> çš„å€¼å°½é‡ä¿è¯æ¯ç¯‡æ–‡ç« æ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºæœ¬ä¸»é¢˜ä¸­ <code>Gitalk</code> å’Œ <code>Gitment</code> è¯†åˆ« <code>id</code> æ˜¯é€šè¿‡ <code>date</code> çš„å€¼æ¥ä½œä¸ºå”¯ä¸€æ ‡è¯†çš„ã€‚</li><li>å¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„åŠŸèƒ½ï¼Œä¸ä»…è¦åœ¨ Front-matter ä¸­è®¾ç½®é‡‡ç”¨äº† SHA256 åŠ å¯†çš„ password çš„å€¼ï¼Œè¿˜éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> ä¸­æ¿€æ´»äº†é…ç½®ã€‚æœ‰äº›åœ¨çº¿çš„ SHA256 åŠ å¯†çš„åœ°å€ï¼Œå¯ä¾›ä½ ä½¿ç”¨ï¼š<a href="http://tool.oschina.net/encrypt?type=2">å¼€æºä¸­å›½åœ¨çº¿å·¥å…·</a>ã€<a href="http://encode.chahuo.com/">chahuo</a>ã€<a href="http://tool.chinaz.com/tools/hash.aspx">ç«™é•¿å·¥å…·</a>ã€‚</li><li>æ‚¨å¯ä»¥åœ¨æ–‡ç« mdæ–‡ä»¶çš„ front-matter ä¸­æŒ‡å®š reprintPolicy æ¥ç»™å•ä¸ªæ–‡ç« é…ç½®è½¬è½½è§„åˆ™</li></ol></blockquote><p>ä»¥ä¸‹ä¸ºæ–‡ç« çš„ <code>Front-matter</code> ç¤ºä¾‹ã€‚</p><h3 id="æœ€ç®€ç¤ºä¾‹"><a href="#æœ€ç®€ç¤ºä¾‹" class="headerlink" title="æœ€ç®€ç¤ºä¾‹"></a>æœ€ç®€ç¤ºä¾‹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">åŸºäº</span> <span class="string">Hexo</span> <span class="string">GitHub</span> <span class="string">ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019-12-30 09:25:00</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="æœ€å…¨ç¤ºä¾‹"><a href="#æœ€å…¨ç¤ºä¾‹" class="headerlink" title="æœ€å…¨ç¤ºä¾‹"></a>æœ€å…¨ç¤ºä¾‹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">åŸºäº</span> <span class="string">Hexo</span> <span class="string">GitHub</span> <span class="string">ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019-12-30 09:25:00</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Sitoi</span></span><br><span class="line"><span class="attr">img:</span> <span class="string">/source/images/xxx.jpg</span></span><br><span class="line"><span class="attr">top:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">cover:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">coverImg:</span> <span class="string">/images/1.jpg</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">summary:</span> <span class="string">è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">Hexo</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">Hexo</span> <span class="string">GitHub</span> <span class="string">blog</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Hexo</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Blog</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">GitHub</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°è¿è¡Œé¢„è§ˆ"><a href="#æœ¬åœ°è¿è¡Œé¢„è§ˆ" class="headerlink" title="æœ¬åœ°è¿è¡Œé¢„è§ˆ"></a>æœ¬åœ°è¿è¡Œé¢„è§ˆ</h2><h3 id="å®‰è£…ä¾èµ–åŒ…"><a href="#å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…ä¾èµ–åŒ…"></a>å®‰è£…ä¾èµ–åŒ…</h3><p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨-hexo-åšå®¢"><a href="#å¯åŠ¨-hexo-åšå®¢" class="headerlink" title="å¯åŠ¨ hexo åšå®¢"></a>å¯åŠ¨ hexo åšå®¢</h3><p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹åšå®¢"><a href="#æŸ¥çœ‹åšå®¢" class="headerlink" title="æŸ¥çœ‹åšå®¢"></a>æŸ¥çœ‹åšå®¢</h3><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ï¼š<a href="http://localhost:4000/">http://localhost:4000/</a> çœ‹åˆ°ä¸‹é¢çš„æ•ˆæœï¼Œè¯´æ˜çš„ä½ åšå®¢å·²ç»æ„å»ºæˆåŠŸäº†</p><p><img src="https://cdn.jsdelivr.net/gh/Sitoi/cdn/img/matery_index.png" alt="BLOG"></p><h2 id="éƒ¨ç½²åˆ°-GitHub-Pages"><a href="#éƒ¨ç½²åˆ°-GitHub-Pages" class="headerlink" title="éƒ¨ç½²åˆ° GitHub Pages"></a>éƒ¨ç½²åˆ° GitHub Pages</h2><p>ç™»å½• GitHub æ‰“å¼€ä½ çš„é¡¹ç›®ï¼Œè·å– GitHub ssh repo åœ°å€ï¼Œæ›¿æ¢é…ç½®ä¸­çš„ <code>repo github</code> çš„</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªåŠ¨éƒ¨ç½²é…ç½®</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span></span><br><span class="line">      <span class="attr">github:</span> <span class="string">git@github.com:Sitoi/Sitoi.github.io.git</span>   <span class="comment"># ä¿®æ”¹è¿™é‡Œä¸ºä½ é¡¹ç›®çš„åœ°å€</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œ å¦‚ä¸‹å‘½ä»¤è¿›è¡Œéƒ¨ç½²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>éƒ¨ç½²æˆåŠŸ ä½ å°±å¯ä»¥ä¸Šä½ çš„ç½‘ç«™æŸ¥çœ‹æ•ˆæœå•¦ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><p><a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p></li><li><p><a href="https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/">https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/</a></p></li><li><p><a href="https://yafine-blog.cn/posts/4ab2.html">https://yafine-blog.cn/posts/4ab2.html</a></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note danger flat&quot;&gt;&lt;p&gt;é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ï¼›&lt;br&gt;ä¸æ‡‚å¾—å¯ä»¥ç™¾åº¦æˆ–è€… Googleï¼›&lt;br&gt;è¿˜æœ‰å¼„ä¸æ˜ç™½çš„å¯ä»¥åœ¨æœ¬ç«™ç‚¹ç•™è¨€ï¼Œæˆ–æ·»åŠ ç«™é•¿ Wechatã€QQ ç­‰&lt;/p&gt;
&lt;/div&gt;

&lt;div cl</summary>
      
    
    
    
    <category term="Hexo" scheme="https://sitoi.cn/categories/Hexo/"/>
    
    
    <category term="GitHub" scheme="https://sitoi.cn/tags/GitHub/"/>
    
    <category term="Hexo" scheme="https://sitoi.cn/tags/Hexo/"/>
    
  </entry>
  
</feed>
